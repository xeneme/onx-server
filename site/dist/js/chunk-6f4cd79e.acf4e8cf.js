(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f4cd79e"],{"11c0":function(t,e,s){"use strict";var a=s("d961"),n=s.n(a);n.a},"248b":function(t,e,s){},"28f4":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"changename"},[s("div",{staticClass:"changename_wrap"},[s("div",{staticClass:"changename__title"},[s("font-awesome-icon",{staticClass:"changename__title__icon",attrs:{icon:"times"},on:{click:t.close}}),s("p",[t._v(" Change your name ")])],1),s("div",{staticClass:"changename__form"},[s("div",{staticClass:"changename__form_loading"},[s("font-awesome-icon",{staticClass:"changename__form_loading_icon fa-spin",attrs:{icon:"spinner"}})],1),s("ProfileInput",{attrs:{type:"name",place:"top",placeholder:"Firstname",busy:t.busy},on:{typed:function(e){t.firstName=e}},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeName(e)}}}),s("ProfileInput",{attrs:{type:"name",place:"bottom",placeholder:"Lastname",busy:t.busy},on:{typed:function(e){t.lastName=e}},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeName(e)}}}),s("Button",{class:["changename__form__button_submit",t.busy?"busy_btn":""],attrs:{text:"Save",theme:"primary_big"},nativeOn:{click:function(e){return t.changeName(e)}}})],1)])])},n=[],i=s("c8df"),o=s("894a"),r={name:"ChangeNameForm",components:{Button:i["a"],ProfileInput:o["a"]},props:["show"],watch:{show:function(t){this.visibleForm(t)}},data:function(){return{busy:!1,firstName:"",lastName:""}},methods:{changeName:function(){var t=this;this.firstName||this.lastName||this.close(),this.loading(),this.axios.post(window.location.protocol+"//"+window.location.host+"/api/user/update",{firstName:this.firstName,lastName:this.lastName},{headers:{Authorization:sessionStorage.getItem("auth-token")}}).then((function(e){t.loaded(),t.success(e.data.token,e.data.profile),t.handleSuccess(e.data)})).catch((function(e){t.loaded(),e.response&&t.handleError(e.response.data)}))},handleError:function(t){t&&this.$store.commit("popups/ADD_ALERT",{type:"error",title:t.stage,message:t.message})},handleSuccess:function(t){this.$store.commit("popups/ADD_ALERT",{type:"message",title:t.stage,message:t.message})},loading:function(){this.busy=!0,this.$el.querySelector(".changename__form_loading").style.display="grid"},loaded:function(){this.busy=!1,this.$el.querySelector(".changename__form_loading").style.display="none"},success:function(t,e){this.$store.commit("auth/SET_PROFILE",{token:t,profile:e}),this.close()},visibleForm:function(t){var e=this;this.$el.style.top=0,t?(this.$el.style.display="flex",this.$anime({targets:".changename_wrap",scale:[.9,1],opacity:[0,1],duration:200,easing:"easeInOutSine",update:function(t){t.progress>30&&(e.$el.style.backgroundColor="#00002299",e.$el.style.backdropFilter="blur(2px)")}})):(this.$el.style.backgroundColor="transparent",this.$el.style.backdropFilter="blur(0px)",this.$anime({targets:".changename_wrap",scale:[1,.9],opacity:[1,0],duration:200,easing:"easeInOutSine",complete:function(){e.$el.style.display="none"}}))},close:function(){this.$store.commit("popups/CHANGE_NAME",!1),history.replaceState(null,null," ")}},mounted:function(){var t=this;this.visibleForm(this.show),this.$el.onclick=function(e){e.target===t.$el.querySelector(".changename_wrap")&&t.close()},document.addEventListener("keydown",(function(e){"Escape"===e.key&&t.close()}))}},c=r,l=(s("34a0"),s("2877")),u=Object(l["a"])(c,a,n,!1,null,null,null);e["a"]=u.exports},"2dfb":function(t,e,s){"use strict";var a=s("912e"),n=s.n(a);n.a},"340a":function(t,e,s){},"34a0":function(t,e,s){"use strict";var a=s("4230"),n=s.n(a);n.a},4230:function(t,e,s){},"4c03":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"footer"},[s("div",{staticClass:"container"},[s("div",{staticClass:"footer__wrap"},[s("div",{staticClass:"footer__logo"},[s("Logo"),s("p",{staticClass:"footer__logo-text"},[t._v(" Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor ")])],1),s("Menu"),s("Contact"),s("small",{staticClass:"footer__copyright"},[t._v(" © 2019 The exchange company ")])],1)])])},n=[],i=s("ef77"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"menu-footer"},[s("h2",{staticClass:"menu-footer__title"},[t._v(" Menu ")]),s("ul",{staticClass:"menu-footer__list"},[s("li",{staticClass:"menu-footer__item"},[s("router-link",{staticClass:"menu-footer__link",attrs:{to:"/"}},[t._v(" Main ")])],1),s("li",{staticClass:"menu-footer__item"},[s("router-link",{staticClass:"menu-footer__link",attrs:{to:"/exchange"}},[t._v(" Exchange ")])],1),s("li",{staticClass:"menu-footer__item"},[s("router-link",{staticClass:"menu-footer__link",attrs:{to:"/"}},[t._v(" Contract ")])],1),s("li",{staticClass:"menu-footer__item"},[s("router-link",{staticClass:"menu-footer__link",attrs:{to:"/"}},[t._v(" About us ")])],1)])])},r=[],c={name:"Menu"},l=c,u=(s("70c3"),s("2877")),p=Object(u["a"])(l,o,r,!1,null,"241b692c",null),d=p.exports,m=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},h=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"footer-contact"},[s("h2",{staticClass:"footer-contact__title"},[t._v(" Contact ")]),s("ul",{staticClass:"footer-contact__list"},[s("li",{staticClass:"footer-contact__item"},[t._v(" Email: support@example.com ")]),s("li",{staticClass:"footer-contact__item"},[t._v(" Phone: +7 787 78 777 78 ")])])])}],_={name:"Contact"},f=_,g=(s("6095"),Object(u["a"])(f,m,h,!1,null,"fc6ad95a",null)),y=g.exports,w={name:"Footer",components:{Logo:i["a"],Menu:d,Contact:y}},v=w,b=(s("7182"),Object(u["a"])(v,a,n,!1,null,"781656b8",null));e["a"]=b.exports},6095:function(t,e,s){"use strict";var a=s("b6d2"),n=s.n(a);n.a},"639d":function(t,e,s){},"63f5":function(t,e,s){"use strict";var a=s("ba86"),n=s.n(a);n.a},"70c3":function(t,e,s){"use strict";var a=s("248b"),n=s.n(a);n.a},7182:function(t,e,s){"use strict";var a=s("639d"),n=s.n(a);n.a},7281:function(t,e,s){},"7d17":function(t,e,s){t.exports=s.p+"img/triangle.c13e28b7.svg"},"894a":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["profileinput",t.place]},[s("div",{staticClass:"profileinput_icon_wrap"},[s("div",{staticClass:"profileinput_icon"},[s("font-awesome-icon",{attrs:{icon:t.icon}})],1)]),"checkbox"===t.parsedType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"profileinput_input",attrs:{placeholder:t.placeholder,disabled:t.busy,type:"checkbox"},domProps:{checked:Array.isArray(t.inputValue)?t._i(t.inputValue,null)>-1:t.inputValue},on:{change:function(e){var s=t.inputValue,a=e.target,n=!!a.checked;if(Array.isArray(s)){var i=null,o=t._i(s,i);a.checked?o<0&&(t.inputValue=s.concat([i])):o>-1&&(t.inputValue=s.slice(0,o).concat(s.slice(o+1)))}else t.inputValue=n}}}):"radio"===t.parsedType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"profileinput_input",attrs:{placeholder:t.placeholder,disabled:t.busy,type:"radio"},domProps:{checked:t._q(t.inputValue,null)},on:{change:function(e){t.inputValue=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"profileinput_input",attrs:{placeholder:t.placeholder,disabled:t.busy,type:t.parsedType},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}})])},n=[],i={name:"ProfileInput",props:["type","busy","placeholder","place"],data:function(){return{inputValue:"",mounted:!1}},watch:{inputValue:function(t){this.$emit("typed",t)}},computed:{icon:function(){return this.mounted&&this.$anime({targets:this.$el.querySelector(".profileinput_icon *"),scale:[0,1],duration:1200}),{name:"user",password:"lock",repeatPassword:"lock"}[this.type]},parsedType:function(){return{name:"text",password:"password",repeatPassword:"password"}[this.type]}},mounted:function(){this.mounted=!0}},o=i,r=(s("c630"),s("2877")),c=Object(r["a"])(o,a,n,!1,null,"139470d0",null);e["a"]=c.exports},"912e":function(t,e,s){},b6d2:function(t,e,s){},b885:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg"},[a("img",{staticClass:"bg__comet",attrs:{src:s("1dfd")}}),a("img",{staticClass:"bg__large-comet",attrs:{src:s("552e")}}),a("img",{staticClass:"bg__triangle1",attrs:{src:s("7d17")}}),a("img",{staticClass:"bg__triangle1",attrs:{src:s("7d17")}}),a("img",{staticClass:"bg__triangle1",attrs:{src:s("7d17")}}),a("img",{staticClass:"bg__triangle1",attrs:{src:s("7d17")}}),a("img",{staticClass:"bg__triangle2",attrs:{src:s("7d17")}}),a("img",{staticClass:"bg__triangle2",attrs:{src:s("7d17")}}),a("img",{staticClass:"bg__triangle2",attrs:{src:s("7d17")}}),a("img",{staticClass:"bg__triangle2",attrs:{src:s("7d17")}})])}],i={name:"Background",mounted:function(){for(var t=this.$anime.timeline({loop:!0,direction:"alternate"}),e=0;e<20;e++)t.add({targets:".bg__triangle1",translateX:this.$anime.random(-50,50),translateY:this.$anime.random(-50,50),rotate:this.$anime.random(-180,180),duration:this.$anime.random(4e3,7e3),delay:this.$anime.stagger(100)});for(var s=this.$anime.timeline({loop:!0,direction:"alternate"}),a=0;a<20;a++)s.add({targets:".bg__triangle2",translateX:this.$anime.random(-50,50),translateY:this.$anime.random(-50,50),rotate:this.$anime.random(-180,180),duration:this.$anime.random(4e3,7e3),delay:this.$anime.stagger(100)})}},o=i,r=(s("2dfb"),s("2877")),c=Object(r["a"])(o,a,n,!1,null,"7e18c250",null);e["a"]=c.exports},ba86:function(t,e,s){},c630:function(t,e,s){"use strict";var a=s("7281"),n=s.n(a);n.a},c66d:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page"},[s("Background"),s("AlertsContainer"),s("ChangeNameForm",{attrs:{show:t.changeNameFormVisibility}}),s("ChangePasswordForm",{attrs:{show:t.changePasswordFormVisibility}}),s("div",{staticClass:"container"},[s("Header"),s("div",{staticClass:"profile"},[s("div",{staticClass:"profile__names"},[s("div",{staticClass:"profile__names__title"},[s("p",[t._v("Profile")]),s("a",{attrs:{href:"#edit"},on:{click:t.showChangeNameForm}},[t._v("edit")])]),s("div",{staticClass:"profile__names__profile"},[s("div",{staticClass:"profile__names__profile_user"},[s("font-awesome-icon",{attrs:{icon:"user"}})],1),s("div",{staticClass:"profile__names__profile_name"},[s("p",[t._v(t._s(t.profile.firstName)+" "+t._s(t.profile.lastName))]),t.profile.email!=t.profile.firstName?s("p",[t._v(t._s(t.profile.email))]):t._e()])])]),s("div",{staticClass:"profile__password__title"},[s("p",[t._v("Password")]),s("a",{attrs:{href:"#change-password"},on:{click:t.showChangePasswordForm}},[t._v("change")])]),t._m(0)]),t._m(1)],1),s("Footer")],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"profile__password"},[s("p",[t._v("•••••••••••••••••••••")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"payment_method"},[s("div",{staticClass:"payment_method__title"},[s("p",[t._v("Two factor authentication")]),s("a",{attrs:{href:"#change-payment"}},[t._v("set up")])])])}],i=s("5530"),o=s("2f62"),r=s("a960"),c=s("b885"),l=s("10db"),u=s("4c03"),p=s("28f4"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"changepassword"},[s("div",{staticClass:"changepassword_wrap"},[s("div",{staticClass:"changepassword__title"},[s("font-awesome-icon",{staticClass:"changepassword__title__icon",attrs:{icon:"times"},on:{click:t.close}}),s("p",[t._v(" Change your password ")])],1),s("div",{staticClass:"changepassword__form"},[s("div",{staticClass:"changepassword__form_loading"},[s("font-awesome-icon",{staticClass:"changepassword__form_loading_icon fa-spin",attrs:{icon:"spinner"}})],1),s("ProfileInput",{attrs:{type:"password",place:"top",placeholder:"Password",busy:t.busy},on:{typed:function(e){t.password=e}},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changePassword(e)}}}),s("ProfileInput",{attrs:{type:"password",placeholder:"New Password",busy:t.busy},on:{typed:function(e){t.newPassword=e}},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changePassword(e)}}}),s("ProfileInput",{attrs:{type:"repeatPassword",place:"bottom",placeholder:"Repeat new password",busy:t.busy},on:{typed:function(e){t.repeatNewPassword=e}},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changePassword(e)}}}),s("Button",{class:["changepassword__form__button_submit",t.busy?"busy_btn":""],attrs:{text:"Save",theme:"primary_big"},nativeOn:{click:function(e){return t.changePassword(e)}}})],1)])])},m=[],h=s("c8df"),_=s("894a"),f={name:"ChangePasswordForm",components:{Button:h["a"],ProfileInput:_["a"]},props:["show"],watch:{show:function(t){this.visibleForm(t)}},data:function(){return{busy:!1,password:"",newPassword:"",repeatNewPassword:""}},methods:{changePassword:function(){var t=this;if(this.password||this.repeatNewPassword||this.newPassword){if(!(this.password&&this.repeatNewPassword&&this.newPassword))return void this.handleError({stage:"Validation",message:"The operation was canceled because of validation troubles. Have you filed every form?"})}else this.close();this.loading(),this.axios.post(window.location.protocol+"//"+window.location.host+"/api/user/update",{password:this.password,newPassword:this.newPassword,repeatNewPassword:this.repeatNewPassword},{headers:{Authorization:sessionStorage.getItem("auth-token")}}).then((function(e){t.loaded(),t.success(e.data.token),t.handleSuccess(e.data)})).catch((function(e){t.loaded(),e.response&&t.handleError(e.response.data)}))},handleError:function(t){t&&this.$store.commit("popups/ADD_ALERT",{type:"error",title:t.stage,message:t.message})},handleSuccess:function(t){this.$store.commit("popups/ADD_ALERT",{type:"message",title:t.stage,message:t.message})},loading:function(){this.busy=!0,this.$el.querySelector(".changepassword__form_loading").style.display="grid"},loaded:function(){this.busy=!1,this.$el.querySelector(".changepassword__form_loading").style.display="none"},success:function(t){this.$store.commit("auth/SET_PROFILE",{token:t}),this.close()},visibleForm:function(t){var e=this;this.$el.style.top=0,t?(this.$el.style.display="flex",this.$anime({targets:".changepassword_wrap",scale:[.9,1],opacity:[0,1],duration:200,easing:"easeInOutSine",update:function(t){t.progress>30&&(e.$el.style.backgroundColor="#00002299",e.$el.style.backdropFilter="blur(2px)")}})):(this.$el.style.backgroundColor="transparent",this.$el.style.backdropFilter="blur(0px)",this.$anime({targets:".changepassword_wrap",scale:[1,.9],opacity:[1,0],duration:200,easing:"easeInOutSine",complete:function(){e.$el.style.display="none"}}))},close:function(){console.log("closed"),this.$store.commit("popups/CHANGE_PASSWORD",!1),history.replaceState(null,null," ")}},mounted:function(){var t=this;this.visibleForm(this.show),this.$el.onclick=function(e){e.target===t.$el.querySelector(".changepassword_wrap")&&t.close()},document.addEventListener("keydown",(function(e){"Escape"===e.key&&t.close()}))}},g=f,y=(s("63f5"),s("2877")),w=Object(y["a"])(g,d,m,!1,null,null,null),v=w.exports,b={name:"Profile",components:{AlertsContainer:l["a"],Background:c["a"],Footer:u["a"],Header:r["a"],ChangeNameForm:p["a"],ChangePasswordForm:v},computed:Object(i["a"])(Object(i["a"])({},Object(o["b"])({changeNameFormVisibility:"popups/changeNameVisibility",changePasswordFormVisibility:"popups/changePasswordVisibility",profile:"auth/profile"})),{},{name:function(){return this.profile.firstName.toLowerCase().capitalize()+" "+this.profile.lastName.toLowerCase().capitalize()}}),methods:{showChangeNameForm:function(){this.$store.commit("popups/CHANGE_NAME",!0)},showChangePasswordForm:function(){this.$store.commit("popups/CHANGE_PASSWORD",!0)}},mounted:function(){this.profile?(this.$store.commit("popups/CHANGE_NAME",!1),this.$store.commit("popups/CHANGE_PASSWORD",!1),"#edit"===this.$route.hash?this.$store.commit("popups/CHANGE_NAME",!0):"#change-password"===this.$route.hash?this.$store.commit("popups/CHANGE_PASSWORD",!0):"#change-payment"===this.$route.hash&&this.$store.commit("popups/CHANGE_PAYMENT",!0)):this.$router.push("/")}},C=b,k=(s("11c0"),Object(y["a"])(C,a,n,!1,null,"14302ff3",null));e["default"]=k.exports},c8df:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{class:["button",t.theme||"primary"]},[t._v(t._s(t.text))])},n=[],i={name:"Button",props:["theme","text"]},o=i,r=(s("dab0"),s("2877")),c=Object(r["a"])(o,a,n,!1,null,"689fcf99",null);e["a"]=c.exports},d961:function(t,e,s){},dab0:function(t,e,s){"use strict";var a=s("340a"),n=s.n(a);n.a}}]);
//# sourceMappingURL=chunk-6f4cd79e.acf4e8cf.js.map