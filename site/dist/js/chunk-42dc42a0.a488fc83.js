(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42dc42a0"],{"0353":function(t,e,a){},2897:function(t,e,a){"use strict";var s=a("405d"),o=a.n(s);o.a},"357f":function(t,e,a){},"35eb":function(t,e,a){"use strict";var s=a("9741"),o=a.n(s);o.a},"405d":function(t,e,a){},"415e":function(t,e,a){"use strict";var s=a("d092"),o=a.n(s);o.a},"42c9":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("Background"),a("div",{staticClass:"container"},[a("contract-card"),a("div",{staticClass:"actions"},[t.contract.buyer?a("a",{attrs:{title:"Call Support",href:"javascript:void(0)"},on:{click:t.callSupport}},[a("fa",{attrs:{icon:"headphones"}})],1):t._e(),a("a",{attrs:{title:"Go Back",href:"javascript:void(0)"},on:{click:t.goBack}},[a("fa",{staticStyle:{transform:"rotate(180deg)"},attrs:{icon:"sign-out-alt"}})],1)]),a("chat-card",{attrs:{messages:t.contract.messages},on:{send:t.sendMessage}})],1),a("Footer")],1)},o=[],c=(a("ac1f"),a("1276"),a("5530")),n=a("4c03"),i=a("cb53"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("card",{staticClass:"contract-card"},[a("div",{staticClass:"contract-card_top"},[a("div",{staticClass:"contract-card_top_title"},[a("div",{staticClass:"contract-card_top_title-trade-id"},[t._v(" Contract "),a("span",{staticStyle:{"font-weight":"600"}},[t._v("#"+t._s(t.contractId))])]),a("div",{staticClass:"contract-card_top_title-trade-product-name"},[t._v(' "'+t._s(t.contract.title)+'" ')])]),a("ul",{staticClass:"contract-card_top_rules"},[a("li",[t._v(" Do not confirm payment until you receive the product or service. ")]),a("li",[t._v(" Your chat is your contract, fully describe all the terms of your contract. ")]),a("li",[t._v("Check the correctness of the transaction amount.")]),a("li",[t._v("Do not give your Trade PIN to anyone.")]),a("li",[t._v(" If you have any questions feel free to call our support service. ")])])]),a("div",{staticClass:"contract-card_bottom"},[a("div",{staticClass:"contract-card_bottom_info"},[a("div",{staticClass:"contract-card_bottom_info-title"},[a("div",{staticClass:"contract-card_bottom_info-title-date"},[t._v("Date:")]),a("div",{staticClass:"contract-card_bottom_info-title-price"},[t._v("Price:")]),a("div",{staticClass:"contract-card_bottom_info-title-status"},[t._v("Status:")])]),a("div",{staticClass:"contract-card_bottom_info-data"},[a("div",{staticClass:"contract-card_bottom_info-data-date"},[t._v(" "+t._s(t.$time.format(t.contract.timestamp))+" ")]),a("div",{staticClass:"contract-card_bottom_info-data-price",staticStyle:{"font-weight":"600"}},[t._v(" "+t._s(t.contractAmount)+" ")]),a("div",{staticClass:"contract-card_bottom_info-data-status"},[t._v(" "+t._s(t.contract.status)+" ")])])]),t.contract.buyer?a("button",{class:["contract-card_bottom_submit","completed"==t.contract.status||t.paying?"completed":""],on:{click:t.pay}},[t._v(" Trade suceeded ")]):t._e()])])},l=[],u=(a("d3b7"),a("25f0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[t._t("default"),a("div",{staticClass:"card-light",style:{top:t.my+"px",left:t.mx+"px"}})],2)}),d=[],_={name:"card",data:function(){return{mx:0,my:0}},methods:{handleMouseMove:function(t){this.mx=t.x-this.$el.getBoundingClientRect().x-100,this.my=t.y-this.$el.getBoundingClientRect().y-100}},mounted:function(){this.$isDesktop&&document.addEventListener("mousemove",this.handleMouseMove)},destroyed:function(){this.$isDesktop&&document.removeEventListener("mousemove",this.handleMouseMove)}},f=_,m=(a("415e"),a("2877")),p=Object(m["a"])(f,u,d,!1,null,"17fabd38",null),v=p.exports,h=a("2f62"),g=a("bc3a"),C=a.n(g),y={name:"contract-card",components:{Card:v},data:function(){return{paying:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(h["b"])({isLoggedIn:"auth/isLoggedIn",contract:"guard/CONTRACT"})),{},{contractId:function(){if(this.contract){var t=this.contract.timestamp.toString();return t.substring(t.length-6,t.length)}return""},contractAmount:function(){return this.contract?this.contract.amount+" "+this.contract.symbol:""}}),methods:{pay:function(){var t=this;this.paying||(this.paying=!0,C.a.get(window.location.protocol+"//"+window.location.host+"/trade-guard/contract/pay?pin="+this.contract.pin).then((function(e){t.paying=!1,t.contract.status="completed",console.log(e.data),t.$store.commit("popups/ADD_ALERT",{type:"info",title:"Transfer succeed!",message:"You have just successfully paid "+t.contract.amount+" of "+t.contract.symbol+"!"})})).catch((function(e){e.response?t.$store.commit("popups/ADD_ALERT",{type:"error",title:"Transfer failed",message:e.response.data.message}):console.log(e),t.paying=!1})))}}},b=y,k=(a("2897"),Object(m["a"])(b,r,l,!1,null,"f15b9d3c",null)),x=k.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("card",{staticClass:"chat-card"},[a("div",{staticClass:"chat-card__title"},[t._v(" Chat "),t._e()],1),a("chat",{attrs:{value:t.messages},on:{send:function(e){return t.$emit("send",e)}}})],1)},T=[],w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chat"},[a("div",{staticClass:"chat__body"},t._l(t.value,(function(e){return a("div",{key:e.at,class:["chat__body__message",e.side]},[a("div",{staticClass:"chat__body__message-text"},[a("fa",{staticClass:"chat__body__message-text-icon",attrs:{icon:e.icon}}),t._v(t._s(e.text)+" ")],1),a("div",{staticClass:"chat__body__message-date"},[t._v(" "+t._s(t.$time.format(e.at))+" ")])])})),0),a("div",{staticClass:"chat__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"chat__input-text",attrs:{placeholder:"Enter a message..."},domProps:{value:t.message},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage(e)},input:function(e){e.target.composing||(t.message=e.target.value)}}}),a("button",{staticClass:"chat__input-button",on:{click:t.sendMessage}},[t._v(" Send ")])])])},j=[],O={props:{value:{type:Array,default:function(){return[{text:"Negotiations are under way!",at:1607075195449,side:"system",icon:"envelope"}]}}},data:function(){return{message:""}},methods:{sendMessage:function(){this.$emit("send",this.message),this.message=""},scrollToLast:function(){var t=this;setTimeout((function(){t.$el.querySelector(".chat__input-text").focus();var e=t.$el.querySelectorAll(".chat__body__message");if(e.length){var a=e[e.length-1];a.parentNode.scrollTop=a.offsetTop}}),10)}},mounted:function(){this.$root.$on("message",this.scrollToLast),this.scrollToLast()},beforeDestroy:function(){this.$root.$off("message",this.scrollToLast)}},E=O,L=(a("519e"),Object(m["a"])(E,w,j,!1,null,null,null)),M=L.exports,A={name:"chat-card",components:{Card:v,Chat:M},props:{messages:{type:Array,default:function(){return[{text:"Negotiations are under way.",at:1607075195449,side:"system",icon:"podcast"},{text:"Hey there!",at:1607075196783,side:"seller",icon:"user-secret"},{text:"Hey!",at:1607075199861,side:"buyer",icon:"user"},{text:"I'm gonna buy this stuff.",at:1607075199761,side:"buyer",icon:"user"},{text:"Sure! Go ahead.",at:1607075390907,side:"seller",icon:"user-secret"},{text:"The product was successfully purchased!",at:1607075413907,side:"system",icon:"check"},{text:"Thank you so much! Have a good one.",at:1607075414907,side:"seller",icon:"user-secret"},{text:"You're welcome.",at:1607075415907,side:"buyer",icon:"user"}]}}},computed:Object(c["a"])({},Object(h["b"])({isLoggedIn:"auth/isLoggedIn"}))},S=A,D=(a("683e"),Object(m["a"])(S,$,T,!1,null,"30d40e54",null)),B=D.exports,I=a("8e27"),R=a.n(I),N=window.location.href.split("/"),F=R()(N[0]+"//"+N[2]),P={name:"trade-guard",components:{Footer:n["a"],Background:i["a"],ContractCard:x,ChatCard:B},computed:Object(c["a"])({},Object(h["b"])({profile:"auth/profile",contract:"guard/CONTRACT"})),data:function(){return{}},methods:{sendMessage:function(t){F.emit("message",t)},callSupport:function(){this.$store.commit("popups/SUPPORT")},goBack:function(){this.$router.go(-1)},disconnect:function(){this.goBack(),this.$store.commit("popups/ADD_ALERT",{type:"error",title:"Contract Connection",message:"For some reason, you've been diconnected"})}},mounted:function(){var t=this;F.emit("join-contract",{email:this.profile.email,contract:this.contract}),F.on("message",(function(e){t.contract.messages.push(e),t.$root.$emit("message")})),F.on("connected",(function(){t.$store.dispatch("preloader/startAfterLoading")})),F.on("disconnected",(function(){t.disconnect()})),F.on("disconnect",(function(){t.disconnect()})),this.$store.dispatch("preloader/startAfterLoading")}},q=P,H=(a("cc1a"),Object(m["a"])(q,s,o,!1,null,"4330fdb3",null));e["default"]=H.exports},"4c03":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"container"},[a("div",{staticClass:"footer__wrap"},[a("div",{staticClass:"footer__logo"},[a("Logo"),a("p",{staticClass:"footer__logo-text"},[t._v(" Safety. Efficiency. Quality. ")])],1),a("Menu"),a("Contact"),a("small",{staticClass:"footer__copyright"},[t._v(" Â© 2020 MyBitFX ")])],1)])])},o=[],c=a("ef77"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"menu-footer"},[a("h2",{staticClass:"menu-footer__title"},[t._v(" Menu ")]),a("ul",{staticClass:"menu-footer__list"},[a("li",{staticClass:"menu-footer__item"},[a("router-link",{staticClass:"menu-footer__link",attrs:{to:"/"}},[t._v(" Main ")])],1),a("li",{staticClass:"menu-footer__item"},[a("router-link",{staticClass:"menu-footer__link",attrs:{to:"/wallet"}},[t._v(" Wallet ")])],1),a("li",{staticClass:"menu-footer__item"},[a("router-link",{staticClass:"menu-footer__link",attrs:{to:"/trading"}},[t._v(" Trading ")])],1),a("li",{staticClass:"menu-footer__item"},[a("router-link",{staticClass:"menu-footer__link",attrs:{to:"/contract"}},[t._v(" Contract ")])],1),a("li",{staticClass:"menu-footer__item"},[a("router-link",{staticClass:"menu-footer__link",attrs:{to:"/about"}},[t._v(" About us ")])],1),a("li",{staticClass:"menu-footer__item"},[a("router-link",{staticClass:"menu-footer__link",attrs:{to:"/terms"}},[t._v(" Terms ")])],1)])])},i=[],r={name:"Menu"},l=r,u=(a("a8dc"),a("2877")),d=Object(u["a"])(l,n,i,!1,null,"0de0644a",null),_=d.exports,f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"footer-contact"},[a("h2",{staticClass:"footer-contact__title"},[t._v(" Contact ")]),a("ul",{staticClass:"footer-contact__list"},[a("li",{staticClass:"footer-contact__item"},[t._v(" Email: "),a("a",{attrs:{href:"mailto:support@mybitfx.com"}},[t._v("support@mybitfx.com")])])])])}],p={name:"Contact"},v=p,h=(a("6bb4"),Object(u["a"])(v,f,m,!1,null,"3035a10a",null)),g=h.exports,C={name:"Footer",components:{Logo:c["a"],Menu:_,Contact:g}},y=C,b=(a("35eb"),Object(u["a"])(y,s,o,!1,null,"d18ed4f4",null));e["a"]=b.exports},"4dc1":function(t,e,a){},"519e":function(t,e,a){"use strict";var s=a("ec6a"),o=a.n(s);o.a},"683e":function(t,e,a){"use strict";var s=a("0353"),o=a.n(s);o.a},"6bb4":function(t,e,a){"use strict";var s=a("357f"),o=a.n(s);o.a},9741:function(t,e,a){},a8dc:function(t,e,a){"use strict";var s=a("4dc1"),o=a.n(s);o.a},cc1a:function(t,e,a){"use strict";var s=a("fae7"),o=a.n(s);o.a},d092:function(t,e,a){},ec6a:function(t,e,a){},fae7:function(t,e,a){}}]);
//# sourceMappingURL=chunk-42dc42a0.a488fc83.js.map