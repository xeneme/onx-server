{"remainingRequest":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\src\\components\\header\\Dropdown.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\src\\components\\header\\Dropdown.vue","mtime":1594882326959},{"path":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy9QQ19DUkVBVE9SL0RvY3VtZW50cy8wM2JhY2t1cC9fREVWL19DVVNUT01FUlMnX1NUVUZGL29ueXhpYW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRHJvcGRvd24nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuYW1lOiAnVXNlcm5hbWUnLAogICAgICBiYWxhbmNlOiAnMCcsCiAgICAgIGlzTWVzc2FnZTogdHJ1ZSwKICAgICAgaXNPcGVuOiBmYWxzZSwKICAgICAgbGlua3M6IHsKICAgICAgICBwcm9maWxlOiAnL2FjY291bnQnLAogICAgICAgIHdhbGxldDogJy9leGNoYW5nZSN3YWxsZXQnLAogICAgICAgIGhpc3Rvcnk6ICcvZXhjaGFuZ2UjaGlzdG9yeScsCiAgICAgICAgc3VwcG9ydDogJyMnCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICBwcm9maWxlOiAnYXV0aC9wcm9maWxlJwogIH0pKSwKICB3YXRjaDogewogICAgcHJvZmlsZTogZnVuY3Rpb24gcHJvZmlsZSh2YWx1ZSkgewogICAgICB0aGlzLnVwZGF0ZU5hbWUodmFsdWUpOwogICAgICB0aGlzLnVwZGF0ZUJhbGFuY2UodmFsdWUpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlTmFtZTogZnVuY3Rpb24gdXBkYXRlTmFtZShwcm9maWxlKSB7CiAgICAgIHZhciBhZGRMaW1pdCA9IHRoaXMuYmFsYW5jZS50b1N0cmluZygpLmxlbmd0aDsKCiAgICAgIGlmIChwcm9maWxlKSB7CiAgICAgICAgaWYgKHByb2ZpbGUubGFzdE5hbWUgJiYgcHJvZmlsZS5maXJzdE5hbWUpIHsKICAgICAgICAgIHRoaXMubmFtZSA9IHRoaXMucHJvZmlsZS5maXJzdE5hbWUudG9Mb3dlckNhc2UoKS5jYXBpdGFsaXplKCkgKyAnICcgKyB0aGlzLnByb2ZpbGUubGFzdE5hbWVbMF0udG9VcHBlckNhc2UoKSArICcuJzsKICAgICAgICB9IGVsc2UgaWYgKHByb2ZpbGUuZmlyc3ROYW1lKSB7CiAgICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLnByb2ZpbGUuZmlyc3ROYW1lOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMubmFtZS5sZW5ndGggPj0gMTYgLSBhZGRMaW1pdCkgdGhpcy5uYW1lID0gdGhpcy5uYW1lLm1hdGNoKG5ldyBSZWdFeHAoIi57Ii5jb25jYXQoMTYgLSBhZGRMaW1pdCwgIn0iKSkpWzBdICsgJy4uLic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5uYW1lID0gJ1VzZXJuYW1lJzsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUJhbGFuY2U6IGZ1bmN0aW9uIHVwZGF0ZUJhbGFuY2UocHJvZmlsZSkgewogICAgICB0aGlzLmJhbGFuY2UgPSBwcm9maWxlLmJhbGFuY2U7CiAgICB9LAogICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoKSB7CiAgICAgIHRoaXMuaXNPcGVuID0gIXRoaXMuaXNPcGVuOwogICAgfSwKICAgIGNsb3NlT3V0c2lkZTogZnVuY3Rpb24gY2xvc2VPdXRzaWRlKGV2ZW50KSB7CiAgICAgIHZhciBkcm9wZG93biA9IHRoaXMuJHJlZnMuZHJvcGRvd247CiAgICAgIGlmICghZHJvcGRvd24gfHwgZHJvcGRvd24uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkgcmV0dXJuOwogICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhdXRoL1NFVF9QUk9GSUxFJywgewogICAgICAgIHByb2ZpbGU6IG51bGwKICAgICAgfSk7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lICE9ICdNYWluJykgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgIH0sCiAgICB1cGRhdGVFeGNoYW5nZVRhYjogZnVuY3Rpb24gdXBkYXRlRXhjaGFuZ2VUYWIoaGFzaCkgewogICAgICBpZiAoaGFzaCA9PT0gJ3dhbGxldCcpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3BvcHVwcy9TRUxFQ1RfRVhDSEFOR0VfVEFCJywgMCk7CiAgICAgIH0gZWxzZSBpZiAoaGFzaCA9PT0gJ2hpc3RvcnknKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdwb3B1cHMvU0VMRUNUX0VYQ0hBTkdFX1RBQicsIDQpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlT3V0c2lkZSk7CiAgICB2YXIgcHJvZmlsZSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2F1dGgvcHJvZmlsZSddOwoKICAgIGlmIChwcm9maWxlKSB7CiAgICAgIHRoaXMudXBkYXRlTmFtZShwcm9maWxlKTsKICAgICAgdGhpcy51cGRhdGVCYWxhbmNlKHByb2ZpbGUpOwogICAgfQogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VPdXRzaWRlKTsKICB9Cn07"},{"version":3,"sources":["Dropdown.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <nav class=\"dropdown\" ref=\"dropdown\">\n    <button\n      type=\"button\"\n      @click=\"toggle\"\n      ref=\"caller\"\n      :class=\"['dropdown-auth', isOpen ? 'active' : '']\"\n    >\n      <a href=\"#\" class=\"message\" v-if=\"isMessage\" title=\"Message of support\">\n        <font-awesome-icon icon=\"envelope\" />\n      </a>\n      <span class=\"name\">{{ name }}</span>\n      <span class=\"balance\">{{ balance }}$</span>\n      <span class=\"angle\">\n        <font-awesome-icon :icon=\"isOpen ? 'angle-up' : 'angle-down'\" />\n      </span>\n    </button>\n    <ul v-if=\"isOpen\" @click=\"close\">\n      <li>\n        <router-link :to=\"links.profile\">Profile</router-link>\n      </li>\n      <li>\n        <a @click=\"updateExchangeTab('wallet')\" :href=\"links.wallet\">Wallet</a>\n      </li>\n      <li>\n        <a @click=\"updateExchangeTab('history')\" :href=\"links.history\">History</a>\n      </li>\n      <li>\n        <router-link :to=\"links.support\">Support</router-link>\n      </li>\n      <li class=\"divider\"></li>\n      <li>\n        <a href=\"#\" @click=\"logout\">Sign Out</a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'Dropdown',\n  data() {\n    return {\n      name: 'Username',\n      balance: '0',\n      isMessage: true,\n      isOpen: false,\n      links: {\n        profile: '/account',\n        wallet: '/exchange#wallet',\n        history: '/exchange#history',\n        support: '#',\n      },\n    };\n  },\n  computed: {\n    ...mapGetters({\n      profile: 'auth/profile',\n    }),\n  },\n  watch: {\n    profile(value) {\n      this.updateName(value);\n      this.updateBalance(value);\n    },\n  },\n  methods: {\n    updateName(profile) {\n      const addLimit = this.balance.toString().length;\n\n      if (profile) {\n        if (profile.lastName && profile.firstName) {\n          this.name =\n            this.profile.firstName.toLowerCase().capitalize() +\n            ' ' +\n            this.profile.lastName[0].toUpperCase() +\n            '.';\n        } else if (profile.firstName) {\n          this.name = this.profile.firstName;\n        }\n\n        if (this.name.length >= 16 - addLimit)\n          this.name = this.name.match(new RegExp(`.{${16 - addLimit}}`))[0] + '...';\n      } else {\n        this.name = 'Username';\n      }\n    },\n    updateBalance(profile) {\n      this.balance = profile.balance;\n    },\n    toggle() {\n      this.isOpen = !this.isOpen;\n    },\n    closeOutside(event) {\n      const { dropdown } = this.$refs;\n\n      if (!dropdown || dropdown.contains(event.target)) return;\n      this.isOpen = false;\n    },\n    close() {\n      this.isOpen = false;\n    },\n    logout() {\n      this.$store.commit('auth/SET_PROFILE', {\n        profile: null,\n      });\n      if (this.$route.name != 'Main') this.$router.push('/');\n    },\n    updateExchangeTab(hash) {\n      if (hash === 'wallet') {\n        this.$store.commit('popups/SELECT_EXCHANGE_TAB', 0);\n      } else if (hash === 'history') {\n        this.$store.commit('popups/SELECT_EXCHANGE_TAB', 4);\n      }\n    },\n  },\n  mounted() {\n    document.addEventListener('click', this.closeOutside);\n\n    let profile = this.$store.getters['auth/profile'];\n\n    if (profile) {\n      this.updateName(profile);\n      this.updateBalance(profile);\n    }\n  },\n  destroyed() {\n    document.removeEventListener('click', this.closeOutside);\n  },\n};\n</script>\n\n<style lang=\"sass\" scoped>\n@import '../../scss/smart-grid'\n@import '../../scss/variables'\n\nnav\n  position: relative\n  display: flex\n  width: 210px\n\n  button\n    display: flex\n    justify-content: space-around\n    align-items: center\n    background: rgba(0, 106, 255, 0.5)\n    border: none\n    height: 40px\n    color: #fff\n    outline: none\n    cursor: pointer\n    border-radius: 3px\n    padding: 8px\n    width: 100%\n    outline: none\n\n    &.active\n      border-radius: 3px 3px 0 0\n\n    .name\n      font-weight: bold\n      text-align: left\n      justify-self: start\n\n    .offset\n      width: 18px\n\n    .message\n      width: 18px\n      height: 18px\n      font-size: 10px\n      background: #33AAFF\n      color: #fff\n      border-radius: 100%\n      justify-content: center\n      align-items: center\n      display: flex\n\n      &:hover\n        transform: scale(1.2)\n\n    .balance\n      color: #68b1ff\n      font-size: 12px\n      font-weight: bold\n      justify-self: end\n\n    .angle\n      align-items: center\n      font-size: 10px\n\n  ul\n    position: absolute\n    background: rgba(0, 81, 194, 0.5)\n    width: 100%\n    list-style: none\n    padding: 8px 0\n    top: 40px\n    border-radius: 0 0 3px 3px\n    z-index: 99\n\n    li.divider\n      height: 1px\n      background: #68b1ff\n      margin: 8px\n\n    a\n      display: flex\n      height: 34px\n      text-decoration: none\n      align-items: center\n      text-indent: 21px\n      color: #fff\n      font-size: 14px\n      outline: none\n\n      &:hover\n        background: rgba(0, 81, 194, 0.6)\n\n      &:active\n        background: rgb(0, 81, 194)\n</style>\n"],"sourceRoot":"src/components/header"}]}