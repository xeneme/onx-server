{"remainingRequest":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\src\\router\\index.js","mtime":1594881773996},{"path":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\PC_CREATOR\\Documents\\03backup\\_DEV\\_CUSTOMERS'_STUFF\\onyxian\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJzsKCnZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7CgpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvJywKICBuYW1lOiAnTWFpbicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9NYWluLnZ1ZScpOwogIH0KfSwgewogIHBhdGg6ICcvZXhjaGFuZ2UnLAogIG5hbWU6ICdFeGNoYW5nZScsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9FeGNoYW5nZS52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL2RlYnVnJywKICBuYW1lOiAnRGVidWcnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvVGVzdC52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL2FjY291bnQnLAogIG5hbWU6ICdQcm9maWxlJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL1Byb2ZpbGUudnVlJyk7CiAgfQp9LCB7CiAgcGF0aDogJyonLAogIG5hbWU6ICc0MDQnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvTm90Rm91bmQudnVlJyk7CiAgfQp9XTsKLyogZXNsaW50LWRpc2FibGUgKi8KCnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh0by5uYW1lICE9IGZyb20ubmFtZSkgc3RvcmUuZGlzcGF0Y2goJ3ByZWxvYWRlci9zdGFydEJlZm9yZUxvYWRpbmcnKS50aGVuKG5leHQpOwp9KTsKcm91dGVyLmJlZm9yZVJlc29sdmUoZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgYXhpb3MuZ2V0KHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvYXBpL2F1dGgnLCB7CiAgICBoZWFkZXJzOiB7CiAgICAgIEF1dGhvcml6YXRpb246IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2F1dGgtdG9rZW4nKQogICAgfQogIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICBzdG9yZS5jb21taXQoJ2F1dGgvU0VUX1BST0ZJTEUnLCB7CiAgICAgIHRva2VuOiByZXNwb25zZS5kYXRhLnRva2VuLAogICAgICBwcm9maWxlOiByZXNwb25zZS5kYXRhLnByb2ZpbGUKICAgIH0pOwogICAgbmV4dCgpOwogIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgIGlmIChbJy9leGNoYW5nZScsICcvYWNjb3VudCddLmluY2x1ZGVzKHRvLnBhdGgpKSB7CiAgICAgIHJvdXRlci5nbygtMSk7CiAgICAgIHN0b3JlLmNvbW1pdCgncG9wdXBzL1NJR05fSU4nLCB0cnVlKTsKICAgIH0KCiAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoLXRva2VuJyk7CiAgICBuZXh0KCk7CiAgfSk7Cn0pOwpyb3V0ZXIuYWZ0ZXJFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGRvY3VtZW50LnRpdGxlID0gdG8ubmFtZSAhPSAnTWFpbicgPyAnT255eGlhbiAtICcgKyB0by5uYW1lIDogJ09ueXhpYW4nOwogIHN0b3JlLmRpc3BhdGNoKCdwcmVsb2FkZXIvc3RhcnRBZnRlckxvYWRpbmcnKS50aGVuKG5leHQpOwp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["C:/Users/PC_CREATOR/Documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/src/router/index.js"],"names":["Vue","VueRouter","store","axios","require","use","routes","path","name","component","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","dispatch","then","beforeResolve","get","window","location","protocol","host","headers","Authorization","sessionStorage","getItem","response","commit","token","data","profile","catch","includes","go","removeItem","afterEach","document","title"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\n\nimport store from '../store';\n\nconst axios = require('axios');\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Main',\n    component: () => import('../views/Main.vue'),\n  },\n  {\n    path: '/exchange',\n    name: 'Exchange',\n    component: () => import('../views/Exchange.vue'),\n  },\n  {\n    path: '/debug',\n    name: 'Debug',\n    component: () => import('../views/Test.vue'),\n  },\n  {\n    path: '/account',\n    name: 'Profile',\n    component: () => import('../views/Profile.vue'),\n  },\n  {\n    path: '*',\n    name: '404',\n    component: () => import('../views/NotFound.vue'),\n  },\n];\n\n/* eslint-disable */\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.name != from.name)\n    store.dispatch('preloader/startBeforeLoading').then(next);\n});\n\nrouter.beforeResolve((to, from, next) => {\n  axios\n    .get(window.location.protocol + '//' + window.location.host + '/api/auth', {\n      headers: {\n        Authorization: sessionStorage.getItem('auth-token'),\n      },\n    })\n    .then(response => {\n      store.commit('auth/SET_PROFILE', {\n        token: response.data.token,\n        profile: response.data.profile,\n      });\n\n      next();\n    })\n    .catch(() => {\n      if (['/exchange', '/account'].includes(to.path)) {\n        router.go(-1);\n        store.commit('popups/SIGN_IN', true);\n      }\n\n      sessionStorage.removeItem('auth-token');\n      next()\n    });\n});\n\nrouter.afterEach((to, from, next) => {\n  document.title = to.name != 'Main' ? 'Onyxian - ' + to.name : 'Onyxian';\n\n  store.dispatch('preloader/startAfterLoading').then(next);\n});\n\nexport default router;\n"]}]}