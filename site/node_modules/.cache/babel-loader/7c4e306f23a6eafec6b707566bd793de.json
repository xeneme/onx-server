{"remainingRequest":"/mnt/c/Users/PC_CREATOR/Documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/babel-loader/lib/index.js!/mnt/c/Users/PC_CREATOR/Documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/cache-loader/dist/cjs.js??ref--0-0!/mnt/c/Users/PC_CREATOR/Documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/Users/PC_CREATOR/Documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/src/components/views/profile/ChangePasswordForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/c/Users/PC_CREATOR/Documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/src/components/views/profile/ChangePasswordForm.vue","mtime":1594121239598},{"path":"/mnt/c/Users/PC_CREATOR/Documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/Documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/Documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/Documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJ1dHRvbiBmcm9tICcuL0J1dHRvbic7CmltcG9ydCBQcm9maWxlSW5wdXQgZnJvbSAnLi9Qcm9maWxlSW5wdXQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYW5nZVBhc3N3b3JkRm9ybScsCiAgY29tcG9uZW50czogewogICAgQnV0dG9uOiBCdXR0b24sCiAgICBQcm9maWxlSW5wdXQ6IFByb2ZpbGVJbnB1dAogIH0sCiAgcHJvcHM6IFsnc2hvdyddLAogIHdhdGNoOiB7CiAgICBzaG93OiBmdW5jdGlvbiBzaG93KHZhbCkgewogICAgICB0aGlzLnZpc2libGVGb3JtKHZhbCk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYnVzeTogZmFsc2UsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgbmV3UGFzc3dvcmQ6ICcnLAogICAgICByZXBlYXROZXdQYXNzd29yZDogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VQYXNzd29yZDogZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMucGFzc3dvcmQgJiYgIXRoaXMucmVwZWF0TmV3UGFzc3dvcmQgJiYgIXRoaXMubmV3UGFzc3dvcmQpIHRoaXMuY2xvc2UoKTtlbHNlIGlmICghKHRoaXMucGFzc3dvcmQgJiYgdGhpcy5yZXBlYXROZXdQYXNzd29yZCAmJiB0aGlzLm5ld1Bhc3N3b3JkKSkgewogICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoewogICAgICAgICAgc3RhZ2U6ICdWYWxpZGF0aW9uJywKICAgICAgICAgIG1lc3NhZ2U6ICdUaGUgb3BlcmF0aW9uIHdhcyBjYW5jZWxlZCBiZWNhdXNlIG9mIHZhbGlkYXRpb24gdHJvdWJsZXMuIEhhdmUgeW91IGZpbGVkIGV2ZXJ5IGZvcm0/JwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmxvYWRpbmcoKTsKICAgICAgdGhpcy5heGlvcy5wb3N0KHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvYXBpL3VzZXIvdXBkYXRlJywgewogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgIG5ld1Bhc3N3b3JkOiB0aGlzLm5ld1Bhc3N3b3JkLAogICAgICAgIHJlcGVhdE5ld1Bhc3N3b3JkOiB0aGlzLnJlcGVhdE5ld1Bhc3N3b3JkCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhdXRoLXRva2VuJykKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmxvYWRlZCgpOwoKICAgICAgICBfdGhpcy5zdWNjZXNzKHJlcy5kYXRhLnRva2VuKTsKCiAgICAgICAgX3RoaXMuaGFuZGxlU3VjY2VzcyhyZXMuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy5sb2FkZWQoKTsKCiAgICAgICAgaWYgKGVyci5yZXNwb25zZSkgewogICAgICAgICAgX3RoaXMuaGFuZGxlRXJyb3IoZXJyLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIGhhbmRsZUVycm9yKHJlc3BvbnNlKSB7CiAgICAgIGlmICghcmVzcG9uc2UpIHJldHVybjsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdwb3B1cHMvQUREX0FMRVJUJywgewogICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgdGl0bGU6IHJlc3BvbnNlLnN0YWdlLAogICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlU3VjY2VzcyhyZXNwb25zZSkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3BvcHVwcy9BRERfQUxFUlQnLCB7CiAgICAgICAgdHlwZTogJ21lc3NhZ2UnLAogICAgICAgIHRpdGxlOiByZXNwb25zZS5zdGFnZSwKICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlCiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoKSB7CiAgICAgIHRoaXMuYnVzeSA9IHRydWU7CiAgICAgIHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGFuZ2VwYXNzd29yZF9fZm9ybV9sb2FkaW5nJykuc3R5bGUuZGlzcGxheSA9ICdncmlkJzsKICAgIH0sCiAgICBsb2FkZWQ6IGZ1bmN0aW9uIGxvYWRlZCgpIHsKICAgICAgdGhpcy5idXN5ID0gZmFsc2U7CiAgICAgIHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGFuZ2VwYXNzd29yZF9fZm9ybV9sb2FkaW5nJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIH0sCiAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHRva2VuKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYXV0aC9TRVRfUFJPRklMRScsIHsKICAgICAgICB0b2tlbjogdG9rZW4KICAgICAgfSk7CiAgICAgIHRoaXMuY2xvc2UoKTsKICAgIH0sCiAgICB2aXNpYmxlRm9ybTogZnVuY3Rpb24gdmlzaWJsZUZvcm0oeWVzKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdGhpcy4kZWwuc3R5bGUudG9wID0gMDsKCiAgICAgIGlmICh5ZXMpIHsKICAgICAgICB0aGlzLiRlbC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgIHRoaXMuJGFuaW1lKHsKICAgICAgICAgIHRhcmdldHM6ICcuY2hhbmdlcGFzc3dvcmRfd3JhcCcsCiAgICAgICAgICBzY2FsZTogWzAuOSwgMV0sCiAgICAgICAgICBvcGFjaXR5OiBbMCwgMV0sCiAgICAgICAgICBkdXJhdGlvbjogMjAwLAogICAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0U2luZScsCiAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShhbmltZSkgewogICAgICAgICAgICBpZiAoYW5pbWUucHJvZ3Jlc3MgPiAzMCkgewogICAgICAgICAgICAgIHNlbGYuJGVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMDAwMDIyOTknOwogICAgICAgICAgICAgIHNlbGYuJGVsLnN0eWxlLmJhY2tkcm9wRmlsdGVyID0gJ2JsdXIoMnB4KSc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndHJhbnNwYXJlbnQnOwogICAgICAgIHRoaXMuJGVsLnN0eWxlLmJhY2tkcm9wRmlsdGVyID0gJ2JsdXIoMHB4KSc7CiAgICAgICAgdGhpcy4kYW5pbWUoewogICAgICAgICAgdGFyZ2V0czogJy5jaGFuZ2VwYXNzd29yZF93cmFwJywKICAgICAgICAgIHNjYWxlOiBbMSwgMC45XSwKICAgICAgICAgIG9wYWNpdHk6IFsxLCAwXSwKICAgICAgICAgIGR1cmF0aW9uOiAyMDAsCiAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRTaW5lJywKICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSgpIHsKICAgICAgICAgICAgc2VsZi4kZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgY29uc29sZS5sb2coJ2Nsb3NlZCcpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3BvcHVwcy9DSEFOR0VfUEFTU1dPUkQnLCBmYWxzZSk7CiAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsICcgJyk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdGhpcy52aXNpYmxlRm9ybSh0aGlzLnNob3cpOwoKICAgIHRoaXMuJGVsLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS50YXJnZXQgPT09IF90aGlzMi4kZWwucXVlcnlTZWxlY3RvcignLmNoYW5nZXBhc3N3b3JkX3dyYXAnKSkgewogICAgICAgIF90aGlzMi5jbG9zZSgpOwogICAgICB9CiAgICB9OwoKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7CiAgICAgICAgX3RoaXMyLmNsb3NlKCk7CiAgICAgIH0KICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["ChangePasswordForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"changepassword\">\r\n    <div class=\"changepassword_wrap\">\r\n      <div class=\"changepassword__title\">\r\n        <font-awesome-icon\r\n          icon=\"times\"\r\n          class=\"changepassword__title__icon\"\r\n          @click=\"close\"\r\n        />\r\n        <p>\r\n          Change your password\r\n        </p>\r\n      </div>\r\n      <div class=\"changepassword__form\">\r\n        <div class=\"changepassword__form_loading\">\r\n          <font-awesome-icon\r\n            icon=\"spinner\"\r\n            class=\"changepassword__form_loading_icon fa-spin\"\r\n          />\r\n        </div>\r\n        <ProfileInput\r\n          type=\"password\"\r\n          place=\"top\"\r\n          @typed=\"password = $event\"\r\n          placeholder=\"Password\"\r\n          @keydown.enter.native=\"changePassword\"\r\n          :busy=\"busy\"\r\n        />\r\n        <ProfileInput\r\n          type=\"password\"\r\n          @typed=\"newPassword = $event\"\r\n          placeholder=\"New Password\"\r\n          @keydown.enter.native=\"changePassword\"\r\n          :busy=\"busy\"\r\n        />\r\n        <ProfileInput\r\n          type=\"repeatPassword\"\r\n          place=\"bottom\"\r\n          @typed=\"repeatNewPassword = $event\"\r\n          placeholder=\"Repeat new password\"\r\n          @keydown.enter.native=\"changePassword\"\r\n          :busy=\"busy\"\r\n        />\r\n        <Button\r\n          :class=\"[\r\n            'changepassword__form__button_submit',\r\n            busy ? 'busy_btn' : '',\r\n          ]\"\r\n          @click.native=\"changePassword\"\r\n          text=\"Save\"\r\n          theme=\"primary_big\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Button from './Button';\r\nimport ProfileInput from './ProfileInput';\r\n\r\nexport default {\r\n  name: 'ChangePasswordForm',\r\n  components: {\r\n    Button,\r\n    ProfileInput,\r\n  },\r\n  props: ['show'],\r\n  watch: {\r\n    show(val) {\r\n      this.visibleForm(val);\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      busy: false,\r\n      password: '',\r\n      newPassword: '',\r\n      repeatNewPassword: '',\r\n    };\r\n  },\r\n  methods: {\r\n    changePassword() {\r\n      if (!this.password && !this.repeatNewPassword && !this.newPassword)\r\n        this.close();\r\n      else if (!(this.password && this.repeatNewPassword && this.newPassword)) {\r\n        this.handleError({\r\n          stage: 'Validation',\r\n          message:\r\n            'The operation was canceled because of validation troubles. Have you filed every form?',\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      this.loading();\r\n      this.axios\r\n        .post(\r\n          window.location.protocol +\r\n            '//' +\r\n            window.location.host +\r\n            '/api/user/update',\r\n          {\r\n            password: this.password,\r\n            newPassword: this.newPassword,\r\n            repeatNewPassword: this.repeatNewPassword,\r\n          },\r\n          {\r\n            headers: { Authorization: sessionStorage.getItem('auth-token') },\r\n          },\r\n        )\r\n        .then(res => {\r\n          this.loaded();\r\n          this.success(res.data.token);\r\n          this.handleSuccess(res.data);\r\n        })\r\n        .catch(err => {\r\n          this.loaded();\r\n\r\n          if (err.response) {\r\n            this.handleError(err.response.data);\r\n          }\r\n        });\r\n    },\r\n    handleError(response) {\r\n      if (!response) return;\r\n\r\n      this.$store.commit('popups/ADD_ALERT', {\r\n        type: 'error',\r\n        title: response.stage,\r\n        message: response.message,\r\n      });\r\n    },\r\n    handleSuccess(response) {\r\n      this.$store.commit('popups/ADD_ALERT', {\r\n        type: 'message',\r\n        title: response.stage,\r\n        message: response.message,\r\n      });\r\n    },\r\n    loading() {\r\n      this.busy = true;\r\n      this.$el.querySelector('.changepassword__form_loading').style.display =\r\n        'grid';\r\n    },\r\n    loaded() {\r\n      this.busy = false;\r\n      this.$el.querySelector('.changepassword__form_loading').style.display =\r\n        'none';\r\n    },\r\n    success(token) {\r\n      this.$store.commit('auth/SET_PROFILE', {\r\n        token,\r\n      });\r\n\r\n      this.close();\r\n    },\r\n    visibleForm(yes) {\r\n      const self = this;\r\n      this.$el.style.top = 0;\r\n\r\n      if (yes) {\r\n        this.$el.style.display = 'flex';\r\n\r\n        this.$anime({\r\n          targets: '.changepassword_wrap',\r\n          scale: [0.9, 1],\r\n          opacity: [0, 1],\r\n          duration: 200,\r\n          easing: 'easeInOutSine',\r\n          update(anime) {\r\n            if (anime.progress > 30) {\r\n              self.$el.style.backgroundColor = '#00002299';\r\n              self.$el.style.backdropFilter = 'blur(2px)';\r\n            }\r\n          },\r\n        });\r\n      } else {\r\n        this.$el.style.backgroundColor = 'transparent';\r\n        this.$el.style.backdropFilter = 'blur(0px)';\r\n\r\n        this.$anime({\r\n          targets: '.changepassword_wrap',\r\n          scale: [1, 0.9],\r\n          opacity: [1, 0],\r\n          duration: 200,\r\n          easing: 'easeInOutSine',\r\n          complete() {\r\n            self.$el.style.display = 'none';\r\n          },\r\n        });\r\n      }\r\n    },\r\n    close() {\r\n      console.log('closed')\r\n      this.$store.commit('popups/CHANGE_PASSWORD', false);\r\n      history.replaceState(null, null, ' ');\r\n    },\r\n  },\r\n  mounted() {\r\n    this.visibleForm(this.show);\r\n\r\n    this.$el.onclick = e => {\r\n      if (e.target === this.$el.querySelector('.changepassword_wrap')) {\r\n        this.close();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', e => {\r\n      if (e.key === 'Escape') {\r\n        this.close();\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"sass\" scroped>\r\n@import '../../../scss/smart-grid'\r\n@import '../../../scss/variables'\r\n\r\n*\r\n  margin: 0\r\n  padding: 0\r\n\r\n.changepassword\r\n  position: absolute\r\n  z-index: 888\r\n  left: 0\r\n  top: 0\r\n  width: 100vw\r\n  height: 100vh\r\n  transition: backdrop-filter .3s\r\n  transition: background-color .3s\r\n  display: none\r\n  flex-direction: column\r\n  justify-content: center\r\n  align-items: center\r\n  background-color: transparent;\r\n  backdrop-filter: blur(0px);\r\n\r\n  &_wrap\r\n    display: flex\r\n    flex-direction: column\r\n    justify-content: center\r\n    align-items: center\r\n    width: 100%\r\n    height: 100%\r\n\r\n  &__title\r\n    width: 500px\r\n    position: relative\r\n    display: grid\r\n    background: linear-gradient(-45deg, $blue, lighten($blue, 7))\r\n    border: 1px $cyan solid\r\n    color: white\r\n    font-family: 'Montserrat'\r\n    font-weight: 500\r\n    padding: 10px 0\r\n\r\n    @include xs-block\r\n      width: 100%\r\n      border-radius: 0\r\n    @include sm-block\r\n      width: 500px\r\n      border-radius: 10px 10px 0 0\r\n\r\n    &__icon\r\n      position: absolute\r\n      height: 100%\r\n      margin-right: 20px\r\n      justify-self: end\r\n      color: #0075ff\r\n      cursor: pointer\r\n      font-size: 1.3rem\r\n\r\n      &:hover\r\n        color: white\r\n\r\n  &__form\r\n    position: relative\r\n    width: 500px\r\n    padding-top: 40px\r\n    background: $blue\r\n    border: 1px #0075ff33 solid\r\n    display: flex\r\n    flex-direction: column\r\n    overflow: hidden\r\n    min-height: 240px\r\n\r\n    @include xs-block\r\n      width: 100%\r\n      border-radius: 0\r\n    @include sm-block\r\n      width: 500px\r\n      border-radius: 0 0 10px 10px\r\n\r\n    .changepassword__form_loading\r\n      position: absolute\r\n      width: 100%\r\n      height: 100%\r\n      top: 0\r\n      left: 0\r\n      z-index: 3\r\n      background-color: $blue-alpha\r\n      display: none\r\n\r\n      &_icon\r\n        place-self: center\r\n        width: 100px\r\n        margin-bottom: 10px\r\n        height: 80px\r\n        color: $cyan\r\n\r\n    &__button_submit\r\n      opacity: 1\r\n      margin: 33px auto\r\n      margin-top: 0\r\n      width: 100px\r\n\r\n    &__status\r\n      position: absolute\r\n      height: 80px\r\n      left: calc(50% - 10rem)\r\n      top: calc(50% - 75px)\r\n      font-size: 2rem\r\n      font-weight: 500\r\n      font-family: 'Montserrat'\r\n      color: white\r\n      opacity: 0\r\n      pointer-events: none\r\n\r\n      &_icon\r\n        transform: scale(0)\r\n\r\n.busy_btn\r\n  pointer-events: none\r\n  opacity: .2\r\n</style>\r\n"],"sourceRoot":"src/components/views/profile"}]}