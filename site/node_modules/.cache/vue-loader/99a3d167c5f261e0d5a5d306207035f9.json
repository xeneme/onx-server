{"remainingRequest":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/src/components/header/Dropdown.vue?vue&type=style&index=0&id=4ffcdd99&lang=sass&scoped=true&","dependencies":[{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/src/components/header/Dropdown.vue","mtime":1594208136808},{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAnLi4vLi4vc2Nzcy9zbWFydC1ncmlkJwpAaW1wb3J0ICcuLi8uLi9zY3NzL3ZhcmlhYmxlcycKCm5hdgogIHBvc2l0aW9uOiByZWxhdGl2ZQogIGRpc3BsYXk6IGZsZXgKICB3aWR0aDogMjEwcHgKCiAgYnV0dG9uCiAgICBkaXNwbGF5OiBmbGV4CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZAogICAgYWxpZ24taXRlbXM6IGNlbnRlcgogICAgYmFja2dyb3VuZDogcmdiYSgwLCAxMDYsIDI1NSwgMC41KQogICAgYm9yZGVyOiBub25lCiAgICBoZWlnaHQ6IDQwcHgKICAgIGNvbG9yOiAjZmZmCiAgICBvdXRsaW5lOiBub25lCiAgICBjdXJzb3I6IHBvaW50ZXIKICAgIGJvcmRlci1yYWRpdXM6IDNweAogICAgcGFkZGluZzogOHB4CiAgICB3aWR0aDogMTAwJQogICAgb3V0bGluZTogbm9uZQoKICAgICYuYWN0aXZlCiAgICAgIGJvcmRlci1yYWRpdXM6IDNweCAzcHggMCAwCgogICAgLm5hbWUKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQKICAgICAgdGV4dC1hbGlnbjogbGVmdAogICAgICBqdXN0aWZ5LXNlbGY6IHN0YXJ0CgogICAgLm9mZnNldAogICAgICB3aWR0aDogMThweAoKICAgIC5tZXNzYWdlCiAgICAgIHdpZHRoOiAxOHB4CiAgICAgIGhlaWdodDogMThweAogICAgICBmb250LXNpemU6IDEwcHgKICAgICAgYmFja2dyb3VuZDogIzMzQUFGRgogICAgICBjb2xvcjogI2ZmZgogICAgICBib3JkZXItcmFkaXVzOiAxMDAlCiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyCiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXIKICAgICAgZGlzcGxheTogZmxleAoKICAgICAgJjpob3ZlcgogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4yKQoKICAgIC5iYWxhbmNlCiAgICAgIGNvbG9yOiAjNjhiMWZmCiAgICAgIGZvbnQtc2l6ZTogMTJweAogICAgICBmb250LXdlaWdodDogYm9sZAogICAgICBqdXN0aWZ5LXNlbGY6IGVuZAoKICAgIC5hbmdsZQogICAgICBhbGlnbi1pdGVtczogY2VudGVyCiAgICAgIGZvbnQtc2l6ZTogMTBweAoKICB1bAogICAgcG9zaXRpb246IGFic29sdXRlCiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDgxLCAxOTQsIDAuNSkKICAgIHdpZHRoOiAxMDAlCiAgICBsaXN0LXN0eWxlOiBub25lCiAgICBwYWRkaW5nOiA4cHggMAogICAgdG9wOiA0MHB4CiAgICBib3JkZXItcmFkaXVzOiAwIDAgM3B4IDNweAogICAgei1pbmRleDogOTkKCiAgICBsaS5kaXZpZGVyCiAgICAgIGhlaWdodDogMXB4CiAgICAgIGJhY2tncm91bmQ6ICM2OGIxZmYKICAgICAgbWFyZ2luOiA4cHgKCiAgICBhCiAgICAgIGRpc3BsYXk6IGZsZXgKICAgICAgaGVpZ2h0OiAzNHB4CiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZQogICAgICBhbGlnbi1pdGVtczogY2VudGVyCiAgICAgIHRleHQtaW5kZW50OiAyMXB4CiAgICAgIGNvbG9yOiAjZmZmCiAgICAgIGZvbnQtc2l6ZTogMTRweAoKICAgICAgJjpob3ZlcgogICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgODEsIDE5NCwgMC42KQo="},{"version":3,"sources":["Dropdown.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Dropdown.vue","sourceRoot":"src/components/header","sourcesContent":["<template>\n  <nav class=\"dropdown\" ref=\"dropdown\">\n    <button\n      type=\"button\"\n      @click=\"toggle\"\n      ref=\"caller\"\n      :class=\"['dropdown-auth', isOpen ? 'active' : '']\"\n    >\n      <a href=\"#\" class=\"message\" v-if=\"isMessage\" title=\"Message of support\">\n        <font-awesome-icon icon=\"envelope\" />\n      </a>\n      <span class=\"name\">{{ name }}</span>\n      <span class=\"balance\">{{ balance }}$</span>\n      <span class=\"angle\">\n        <font-awesome-icon :icon=\"isOpen ? 'angle-up' : 'angle-down'\" />\n      </span>\n    </button>\n    <ul v-if=\"isOpen\">\n      <li>\n        <router-link :to=\"links.profile\">Profile</router-link>\n      </li>\n      <li>\n        <a @click=\"updateExchangeTab\" :href=\"links.wallet\">Wallet</a>\n      </li>\n      <li>\n        <a @click=\"updateExchangeTab\" :href=\"links.history\">History</a>\n      </li>\n      <li>\n        <router-link :to=\"links.support\">Support</router-link>\n      </li>\n      <li class=\"divider\"></li>\n      <li>\n        <a href=\"#\" @click=\"logout\">Sign Out</a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'Dropdown',\n  data() {\n    return {\n      name: 'Username',\n      balance: '0',\n      isMessage: true,\n      isOpen: false,\n      links: {\n        profile: '/account',\n        wallet: '/exchange#wallet',\n        history: '/exchange#history',\n        support: '#',\n      },\n    };\n  },\n  computed: {\n    ...mapGetters({\n      profile: 'auth/profile',\n    }),\n  },\n  watch: {\n    profile(value) {\n      this.updateName(value);\n      this.updateBalance(value);\n    },\n  },\n  methods: {\n    updateName(profile) {\n      const addLimit = this.balance.toString().length;\n\n      if (profile) {\n        if (profile.lastName && profile.firstName) {\n          this.name =\n            this.profile.firstName.toLowerCase().capitalize() +\n            ' ' +\n            this.profile.lastName[0].toUpperCase() +\n            '.';\n        } else if (profile.firstName) {\n          this.name = this.profile.firstName;\n        }\n\n        if (this.name.length >= 16 - addLimit)\n          this.name = this.name.match(new RegExp(`.{${16 - addLimit}}`))[0] + '...';\n      } else {\n        this.name = 'Username';\n      }\n    },\n    updateBalance(profile) {\n      this.balance = profile.balance;\n    },\n    toggle() {\n      this.isOpen = !this.isOpen;\n    },\n    closeOutside(event) {\n      const { dropdown } = this.$refs;\n\n      if (!dropdown || dropdown.contains(event.target)) return;\n      this.isOpen = false;\n    },\n    logout() {\n      this.$store.commit('auth/SET_PROFILE', {\n        profile: null,\n      });\n      if (this.$route.name != 'Main') this.$router.push('/');\n    },\n    updateExchangeTab() {\n      if (this.$route.hash === '#wallet') {\n        this.$store.commit('popups/SELECT_EXCHANGE_TAB', 0);\n      } else if (this.$route.hash === '#history') {\n        this.$store.commit('popups/SELECT_EXCHANGE_TAB', 4);\n      }\n    },\n  },\n  mounted() {\n    document.addEventListener('click', this.closeOutside);\n\n    let profile = this.$store.getters['auth/profile'];\n\n    if (profile) {\n      this.updateName(profile);\n      this.updateBalance(profile);\n    }\n  },\n  destroyed() {\n    document.removeEventListener('click', this.closeOutside);\n  },\n};\n</script>\n\n<style lang=\"sass\" scoped>\n@import '../../scss/smart-grid'\n@import '../../scss/variables'\n\nnav\n  position: relative\n  display: flex\n  width: 210px\n\n  button\n    display: flex\n    justify-content: space-around\n    align-items: center\n    background: rgba(0, 106, 255, 0.5)\n    border: none\n    height: 40px\n    color: #fff\n    outline: none\n    cursor: pointer\n    border-radius: 3px\n    padding: 8px\n    width: 100%\n    outline: none\n\n    &.active\n      border-radius: 3px 3px 0 0\n\n    .name\n      font-weight: bold\n      text-align: left\n      justify-self: start\n\n    .offset\n      width: 18px\n\n    .message\n      width: 18px\n      height: 18px\n      font-size: 10px\n      background: #33AAFF\n      color: #fff\n      border-radius: 100%\n      justify-content: center\n      align-items: center\n      display: flex\n\n      &:hover\n        transform: scale(1.2)\n\n    .balance\n      color: #68b1ff\n      font-size: 12px\n      font-weight: bold\n      justify-self: end\n\n    .angle\n      align-items: center\n      font-size: 10px\n\n  ul\n    position: absolute\n    background: rgba(0, 81, 194, 0.5)\n    width: 100%\n    list-style: none\n    padding: 8px 0\n    top: 40px\n    border-radius: 0 0 3px 3px\n    z-index: 99\n\n    li.divider\n      height: 1px\n      background: #68b1ff\n      margin: 8px\n\n    a\n      display: flex\n      height: 34px\n      text-decoration: none\n      align-items: center\n      text-indent: 21px\n      color: #fff\n      font-size: 14px\n\n      &:hover\n        background: rgba(0, 81, 194, 0.6)\n</style>\n"]}]}