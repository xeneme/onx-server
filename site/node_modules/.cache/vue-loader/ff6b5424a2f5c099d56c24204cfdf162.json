{"remainingRequest":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/src/components/auth/SignUpForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/src/components/auth/SignUpForm.vue","mtime":1593775334196},{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/documents/03backup/_DEV/_CUSTOMERS'_STUFF/onyxian/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7DQppbXBvcnQgQnV0dG9uIGZyb20gJy4vQnV0dG9uLnZ1ZSc7DQppbXBvcnQgSW5wdXRXb3JtIGZyb20gJy4vSW5wdXRXb3JtLnZ1ZSc7DQppbXBvcnQgQXV0aElucHV0IGZyb20gJy4vQXV0aElucHV0JzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnU2lnblVwRm9ybScsDQogIGNvbXBvbmVudHM6IHsNCiAgICBCdXR0b24sDQogICAgSW5wdXRXb3JtLA0KICAgIEF1dGhJbnB1dCwNCiAgfSwNCiAgcHJvcHM6IFsnc2hvdyddLA0KICB3YXRjaDogew0KICAgIHNob3codmFsKSB7DQogICAgICB0aGlzLnZpc2libGVGb3JtKHZhbCk7DQogICAgfSwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYW5pbVRvUmVzZXQ6IFtdLA0KICAgICAgYnVzeTogZmFsc2UsDQogICAgICBjdXJyZW50U3RhZ2VUb2tlbjogJycsDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKHsNCiAgICAgIHNpZ25VcFN0YWdlOiAncG9wdXBzL3NpZ25VcFN0YWdlJywNCiAgICAgIGZpcnN0QXV0aElucHV0OiAncG9wdXBzL2ZpcnN0U2lnblVwSW5wdXQnLA0KICAgICAgc2Vjb25kQXV0aElucHV0OiAncG9wdXBzL3NlY29uZFNpZ25VcElucHV0JywNCiAgICAgIHRvcElucHV0VmFsdWU6ICdwb3B1cHMvZmlyc3RTaWduVXBJbnB1dFZhbHVlJywNCiAgICAgIGJvdHRvbUlucHV0VmFsdWU6ICdwb3B1cHMvc2Vjb25kU2lnblVwSW5wdXRWYWx1ZScsDQogICAgfSksDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBjdXJyZW50U3RhZ2VBY3Rpb24oKSB7DQogICAgICBjb25zdCBhY3Rpb25XcmFwcGVyID0gYWN0aW9uID0+IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nKCk7DQogICAgICAgIGFjdGlvbigpDQogICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMubG9hZGVkKCk7DQogICAgICAgICAgICB0aGlzLmhhbmRsZVN1Y2Nlc3MocmVzLmRhdGEpOw0KICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhZ2VUb2tlbiA9IHJlcy5kYXRhLnRva2VuOw0KDQogICAgICAgICAgICBpZiAodGhpcy5zaWduVXBTdGFnZSA9PSAyKSB0aGlzLnN1Y2Nlc3MocmVzLmRhdGEudG9rZW4pOw0KDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3BvcHVwcy9TSUdOX1VQX05FWFQnKTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgICAgdGhpcy5sb2FkZWQoKTsNCg0KICAgICAgICAgICAgaWYgKGVyci5yZXNwb25zZSkgew0KICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVyci5yZXNwb25zZS5kYXRhKTsNCg0KICAgICAgICAgICAgICBpZiAoWzQwOCwgNDA5XS5pbmNsdWRlcygrZXJyLnJlc3BvbnNlLnN0YXR1cykpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3BvcHVwcy9TSUdOX1VQX0JBQ0snKTsNCiAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgIGlmICh0aGlzLnNpZ25VcFN0YWdlID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdwb3B1cHMvU0lHTl9VUF9UT1BfSU5QVVRfQ0hBTkdFRCcsICcnKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgfTsNCg0KICAgICAgc3dpdGNoICh0aGlzLnNpZ25VcFN0YWdlKSB7DQogICAgICAgIGNhc2UgMDoNCiAgICAgICAgICBhY3Rpb25XcmFwcGVyKCgpID0+DQogICAgICAgICAgICB0aGlzLmF4aW9zLnBvc3QoDQogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArDQogICAgICAgICAgICAgICAgJy8vJyArDQogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3QgKw0KICAgICAgICAgICAgICAgICcvYXBpL2F1dGgvY29uZmlybWF0aW9uL3NlbmQnLA0KICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgZW1haWw6IHRoaXMudG9wSW5wdXRWYWx1ZSwNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICksDQogICAgICAgICAgKTsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAxOg0KICAgICAgICAgIGFjdGlvbldyYXBwZXIoKCkgPT4NCiAgICAgICAgICAgIHRoaXMuYXhpb3MucG9zdCgNCiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsNCiAgICAgICAgICAgICAgICAnLy8nICsNCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdCArDQogICAgICAgICAgICAgICAgJy9hcGkvYXV0aC9jb25maXJtYXRpb24vY29tcGFyZScsDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBjb2RlOiB0aGlzLnRvcElucHV0VmFsdWUsDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiB0aGlzLmN1cnJlbnRTdGFnZVRva2VuLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICApLA0KICAgICAgICAgICk7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgYWN0aW9uV3JhcHBlcigoKSA9Pg0KICAgICAgICAgICAgdGhpcy5heGlvcy5wb3N0KA0KICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKw0KICAgICAgICAgICAgICAgICcvLycgKw0KICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsNCiAgICAgICAgICAgICAgICAnL2FwaS9hdXRoL3NpZ251cCcsDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy50b3BJbnB1dFZhbHVlLA0KICAgICAgICAgICAgICAgIHJlcGVhdFBhc3N3b3JkOiB0aGlzLmJvdHRvbUlucHV0VmFsdWUsDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiB0aGlzLmN1cnJlbnRTdGFnZVRva2VuLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICApLA0KICAgICAgICAgICk7DQogICAgICAgICAgYnJlYWs7DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVFcnJvcihyZXNwb25zZSkgew0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdwb3B1cHMvQUREX0FMRVJUJywgew0KICAgICAgICB0eXBlOiAnZXJyb3InLA0KICAgICAgICB0aXRsZTogcmVzcG9uc2Uuc3RhZ2UsDQogICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UsDQogICAgICB9KTsNCiAgICB9LA0KICAgIGhhbmRsZVN1Y2Nlc3MocmVzcG9uc2UpIHsNCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncG9wdXBzL0FERF9BTEVSVCcsIHsNCiAgICAgICAgdHlwZTogJ21lc3NhZ2UnLA0KICAgICAgICB0aXRsZTogcmVzcG9uc2Uuc3RhZ2UsDQogICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UsDQogICAgICB9KTsNCiAgICB9LA0KICAgIGxvYWRpbmcoKSB7DQogICAgICB0aGlzLmJ1c3kgPSB0cnVlOw0KICAgICAgdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLnNpZ251cGZvcm1fX2Zvcm1fbG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPQ0KICAgICAgICAnZ3JpZCc7DQogICAgfSwNCiAgICBsb2FkZWQoKSB7DQogICAgICB0aGlzLmJ1c3kgPSBmYWxzZTsNCiAgICAgIHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWdudXBmb3JtX19mb3JtX2xvYWRpbmcnKS5zdHlsZS5kaXNwbGF5ID0NCiAgICAgICAgJ25vbmUnOw0KICAgIH0sDQogICAgc3VjY2Vzcyh0b2tlbikgew0KICAgICAgdGhpcy5heGlvcw0KICAgICAgICAuZ2V0KA0KICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvYXBpL2F1dGgnLA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogdG9rZW4sDQogICAgICAgICAgICB9LA0KICAgICAgICAgIH0sDQogICAgICAgICkNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYXV0aC9TRVRfUFJPRklMRScsIHsNCiAgICAgICAgICAgIHRva2VuOiByZXNwb25zZS5kYXRhLnRva2VuLA0KICAgICAgICAgICAgcHJvZmlsZTogcmVzcG9uc2UuZGF0YS5wcm9maWxlLA0KICAgICAgICAgIH0pOw0KDQogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdwb3B1cHMvQ0xFQVJfQVVUSF9JTlBVVFMnKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgfSk7DQoNCiAgICAgIHRoaXMuY2xvc2UoKTsNCiAgICB9LA0KICAgIHZpc2libGVGb3JtKHllcykgew0KICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7DQoNCiAgICAgIGlmICh5ZXMpIHsNCiAgICAgICAgdGhpcy4kZWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsNCg0KICAgICAgICB0aGlzLiRhbmltZSh7DQogICAgICAgICAgdGFyZ2V0czogJy5zaWdudXBmb3JtX190aXRsZScsDQogICAgICAgICAgdHJhbnNsYXRlWDogWy01MDAsIDBdLA0KICAgICAgICAgIG9wYWNpdHk6IFswLCAxXSwNCiAgICAgICAgICBkdXJhdGlvbjogMzAwLA0KICAgICAgICAgIGVhc2luZzogJ2Vhc2VJbk91dFNpbmUnLA0KICAgICAgICB9KTsNCg0KICAgICAgICB0aGlzLiRhbmltZSh7DQogICAgICAgICAgdGFyZ2V0czogJy5zaWdudXBmb3JtX19mb3JtJywNCiAgICAgICAgICB0cmFuc2xhdGVYOiBbNTAwLCAwXSwNCiAgICAgICAgICBvcGFjaXR5OiBbMCwgMV0sDQogICAgICAgICAgZHVyYXRpb246IDMwMCwNCiAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRTaW5lJywNCiAgICAgICAgICB1cGRhdGUoYW5pbWUpIHsNCiAgICAgICAgICAgIGlmIChhbmltZS5wcm9ncmVzcyA+IDMwKSB7DQogICAgICAgICAgICAgIHNlbGYuJGVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMDAwMDIyOTknOw0KICAgICAgICAgICAgICBzZWxmLiRlbC5zdHlsZS5iYWNrZHJvcEZpbHRlciA9ICdibHVyKDJweCknOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sDQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3RyYW5zcGFyZW50JzsNCiAgICAgICAgdGhpcy4kZWwuc3R5bGUuYmFja2Ryb3BGaWx0ZXIgPSAnYmx1cigwcHgpJzsNCg0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3BvcHVwcy9TSUdOX1VQX1RPUF9JTlBVVF9DSEFOR0VEJywgJycpOw0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3BvcHVwcy9TSUdOX1VQX0JPVFRPTV9JTlBVVF9DSEFOR0VEJywgJycpOw0KDQogICAgICAgIHRoaXMuJGFuaW1lKHsNCiAgICAgICAgICB0YXJnZXRzOiAnLnNpZ251cGZvcm1fX3RpdGxlJywNCiAgICAgICAgICB0cmFuc2xhdGVYOiBbMCwgNTAwXSwNCiAgICAgICAgICBvcGFjaXR5OiBbMSwgMF0sDQogICAgICAgICAgZHVyYXRpb246IDMwMCwNCiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0U2luZScsDQogICAgICAgIH0pOw0KDQogICAgICAgIHRoaXMuJGFuaW1lKHsNCiAgICAgICAgICB0YXJnZXRzOiAnLnNpZ251cGZvcm1fX2Zvcm0nLA0KICAgICAgICAgIHRyYW5zbGF0ZVg6IFswLCAtNTAwXSwNCiAgICAgICAgICBvcGFjaXR5OiBbMSwgMF0sDQogICAgICAgICAgZHVyYXRpb246IDMwMCwNCiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0U2luZScsDQogICAgICAgICAgY29tcGxldGUoKSB7DQogICAgICAgICAgICBzZWxmLiRlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgIH0sDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgY2xvc2UoKSB7DQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3BvcHVwcy9TSUdOX1VQJywgZmFsc2UpOw0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdwb3B1cHMvQ0xFQVJfQVVUSF9JTlBVVFMnKTsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuJGVsLm9uY2xpY2sgPSBlID0+IHsNCiAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy4kZWwpIHsNCiAgICAgICAgdGhpcy5jbG9zZSgpOw0KICAgICAgfQ0KICAgIH07DQoNCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7DQogICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7DQogICAgICAgIHRoaXMuY2xvc2UoKTsNCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["SignUpForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignUpForm.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\r\n  <div class=\"signupform\">\r\n    <div class=\"signupform__title\">\r\n      <p>\r\n        <font-awesome-icon\r\n          icon=\"user-plus\"\r\n          class=\"signupform__title__icon\"\r\n          style=\"color: #0075ff\"\r\n        />\r\n        Sign up\r\n      </p>\r\n    </div>\r\n    <div class=\"signupform__form\">\r\n      <div class=\"signupform__form_loading\">\r\n        <font-awesome-icon\r\n          icon=\"spinner\"\r\n          class=\"signupform__form_loading_icon fa-spin\"\r\n        />\r\n      </div>\r\n      <AuthInput\r\n        v-if=\"firstAuthInput\"\r\n        :type=\"firstAuthInput\"\r\n        @keydown.enter.native=\"currentStageAction\"\r\n        place=\"top\"\r\n        :busy=\"busy\"\r\n        extend=\"signup\"\r\n      />\r\n      <InputWorm\r\n        :top=\"topInputValue\"\r\n        :bottom=\"bottomInputValue\"\r\n        v-if=\"firstAuthInput && secondAuthInput\"\r\n        compare=\"true\"\r\n      />\r\n      <AuthInput\r\n        v-if=\"secondAuthInput\"\r\n        :type=\"secondAuthInput\"\r\n        @keydown.enter.native=\"currentStageAction\"\r\n        place=\"bottom\"\r\n        :busy=\"busy\"\r\n        extend=\"signup\"\r\n      />\r\n      <Button\r\n        :class=\"['signupform__form__button_submit', busy ? 'busy_btn' : '']\"\r\n        @click.native=\"currentStageAction\"\r\n        text=\"Continue\"\r\n        theme=\"primary_big\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport Button from './Button.vue';\r\nimport InputWorm from './InputWorm.vue';\r\nimport AuthInput from './AuthInput';\r\n\r\nexport default {\r\n  name: 'SignUpForm',\r\n  components: {\r\n    Button,\r\n    InputWorm,\r\n    AuthInput,\r\n  },\r\n  props: ['show'],\r\n  watch: {\r\n    show(val) {\r\n      this.visibleForm(val);\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      animToReset: [],\r\n      busy: false,\r\n      currentStageToken: '',\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      signUpStage: 'popups/signUpStage',\r\n      firstAuthInput: 'popups/firstSignUpInput',\r\n      secondAuthInput: 'popups/secondSignUpInput',\r\n      topInputValue: 'popups/firstSignUpInputValue',\r\n      bottomInputValue: 'popups/secondSignUpInputValue',\r\n    }),\r\n  },\r\n  methods: {\r\n    currentStageAction() {\r\n      const actionWrapper = action => {\r\n        this.loading();\r\n        action()\r\n          .then(res => {\r\n            this.loaded();\r\n            this.handleSuccess(res.data);\r\n            this.currentStageToken = res.data.token;\r\n\r\n            if (this.signUpStage == 2) this.success(res.data.token);\r\n\r\n            this.$store.commit('popups/SIGN_UP_NEXT');\r\n          })\r\n          .catch(err => {\r\n            this.loaded();\r\n\r\n            if (err.response) {\r\n              this.handleError(err.response.data);\r\n\r\n              if ([408, 409].includes(+err.response.status)) {\r\n                this.$store.commit('popups/SIGN_UP_BACK');\r\n              }\r\n\r\n              if (this.signUpStage === 1) {\r\n                this.$store.commit('popups/SIGN_UP_TOP_INPUT_CHANGED', '');\r\n              }\r\n            }\r\n          });\r\n      };\r\n\r\n      switch (this.signUpStage) {\r\n        case 0:\r\n          actionWrapper(() =>\r\n            this.axios.post(\r\n              window.location.protocol +\r\n                '//' +\r\n                window.location.host +\r\n                '/api/auth/confirmation/send',\r\n              {\r\n                email: this.topInputValue,\r\n              },\r\n            ),\r\n          );\r\n          break;\r\n        case 1:\r\n          actionWrapper(() =>\r\n            this.axios.post(\r\n              window.location.protocol +\r\n                '//' +\r\n                window.location.host +\r\n                '/api/auth/confirmation/compare',\r\n              {\r\n                code: this.topInputValue,\r\n              },\r\n              {\r\n                headers: {\r\n                  Authorization: this.currentStageToken,\r\n                },\r\n              },\r\n            ),\r\n          );\r\n          break;\r\n        default:\r\n          actionWrapper(() =>\r\n            this.axios.post(\r\n              window.location.protocol +\r\n                '//' +\r\n                window.location.host +\r\n                '/api/auth/signup',\r\n              {\r\n                password: this.topInputValue,\r\n                repeatPassword: this.bottomInputValue,\r\n              },\r\n              {\r\n                headers: {\r\n                  Authorization: this.currentStageToken,\r\n                },\r\n              },\r\n            ),\r\n          );\r\n          break;\r\n      }\r\n    },\r\n    handleError(response) {\r\n      this.$store.commit('popups/ADD_ALERT', {\r\n        type: 'error',\r\n        title: response.stage,\r\n        message: response.message,\r\n      });\r\n    },\r\n    handleSuccess(response) {\r\n      this.$store.commit('popups/ADD_ALERT', {\r\n        type: 'message',\r\n        title: response.stage,\r\n        message: response.message,\r\n      });\r\n    },\r\n    loading() {\r\n      this.busy = true;\r\n      this.$el.querySelector('.signupform__form_loading').style.display =\r\n        'grid';\r\n    },\r\n    loaded() {\r\n      this.busy = false;\r\n      this.$el.querySelector('.signupform__form_loading').style.display =\r\n        'none';\r\n    },\r\n    success(token) {\r\n      this.axios\r\n        .get(\r\n          window.location.protocol + '//' + window.location.host + '/api/auth',\r\n          {\r\n            headers: {\r\n              Authorization: token,\r\n            },\r\n          },\r\n        )\r\n        .then(response => {\r\n          this.$store.commit('auth/SET_PROFILE', {\r\n            token: response.data.token,\r\n            profile: response.data.profile,\r\n          });\r\n\r\n          this.$store.commit('popups/CLEAR_AUTH_INPUTS');\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n\r\n      this.close();\r\n    },\r\n    visibleForm(yes) {\r\n      const self = this;\r\n\r\n      if (yes) {\r\n        this.$el.style.display = 'flex';\r\n\r\n        this.$anime({\r\n          targets: '.signupform__title',\r\n          translateX: [-500, 0],\r\n          opacity: [0, 1],\r\n          duration: 300,\r\n          easing: 'easeInOutSine',\r\n        });\r\n\r\n        this.$anime({\r\n          targets: '.signupform__form',\r\n          translateX: [500, 0],\r\n          opacity: [0, 1],\r\n          duration: 300,\r\n          easing: 'easeInOutSine',\r\n          update(anime) {\r\n            if (anime.progress > 30) {\r\n              self.$el.style.backgroundColor = '#00002299';\r\n              self.$el.style.backdropFilter = 'blur(2px)';\r\n            }\r\n          },\r\n        });\r\n      } else {\r\n        this.$el.style.backgroundColor = 'transparent';\r\n        this.$el.style.backdropFilter = 'blur(0px)';\r\n\r\n        this.$store.commit('popups/SIGN_UP_TOP_INPUT_CHANGED', '');\r\n        this.$store.commit('popups/SIGN_UP_BOTTOM_INPUT_CHANGED', '');\r\n\r\n        this.$anime({\r\n          targets: '.signupform__title',\r\n          translateX: [0, 500],\r\n          opacity: [1, 0],\r\n          duration: 300,\r\n          easing: 'easeOutSine',\r\n        });\r\n\r\n        this.$anime({\r\n          targets: '.signupform__form',\r\n          translateX: [0, -500],\r\n          opacity: [1, 0],\r\n          duration: 300,\r\n          easing: 'easeOutSine',\r\n          complete() {\r\n            self.$el.style.display = 'none';\r\n          },\r\n        });\r\n      }\r\n    },\r\n    close() {\r\n      this.$store.commit('popups/SIGN_UP', false);\r\n      this.$store.commit('popups/CLEAR_AUTH_INPUTS');\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$el.onclick = e => {\r\n      if (e.target === this.$el) {\r\n        this.close();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', e => {\r\n      if (e.key === 'Escape') {\r\n        this.close();\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"sass\" scroped>\r\n@import '../../scss/smart-grid'\r\n@import '../../scss/variables'\r\n\r\n*\r\n  margin: 0\r\n  padding: 0\r\n\r\n.signupform\r\n  position: absolute\r\n  z-index: 888\r\n  left: 0\r\n  top: 0\r\n  width: 100vw\r\n  height: 100vh\r\n  transition: backdrop-filter .3s\r\n  transition: background-color .3s\r\n  display: none\r\n  flex-direction: column\r\n  justify-content: center\r\n  align-items: center\r\n  background-color: transparent\r\n  backdrop-filter: blur(0px)\r\n\r\n\r\n  &__title\r\n    top: -10px\r\n    width: 500px\r\n    position: relative\r\n    background: linear-gradient(-45deg, $blue, lighten($blue, 7))\r\n    border-radius: 10px 10px 0 0\r\n    border: 1px $cyan solid\r\n    color: white\r\n    font-family: 'Montserrat'\r\n    font-weight: 500\r\n    padding: 10px 0\r\n    opacity: 0\r\n    transform: translateX(500px)\r\n\r\n    @include xs-block\r\n      width: 100%\r\n      border-radius: 0\r\n    @include sm-block\r\n      width: 500px\r\n      border-radius: 10px 10px 0 0\r\n\r\n    &__icon\r\n      margin-right: 3px\r\n\r\n  &__form\r\n    position: relative\r\n    width: 500px\r\n    padding-top: 40px\r\n    background: $blue\r\n    border-radius: 0 0 10px 10px\r\n    border: 1px #0075ff33 solid\r\n    display: flex\r\n    flex-direction: column\r\n    overflow: hidden\r\n    opacity: 0\r\n    transform: translateX(-500px)\r\n\r\n    @include xs-block\r\n      width: 100%\r\n      border-radius: 0\r\n    @include sm-block\r\n      width: 500px\r\n      border-radius: 0 0 10px 10px\r\n\r\n    .signupform__form_loading\r\n      position: absolute\r\n      width: 100%\r\n      height: 100%\r\n      top: 0\r\n      left: 0\r\n      z-index: 3\r\n      background-color: $blue-alpha\r\n      display: none\r\n\r\n      &_icon\r\n        place-self: center\r\n        width: 100px\r\n        margin-bottom: 10px\r\n        height: 80px\r\n        color: $cyan\r\n\r\n    &__button_submit\r\n      opacity: 1\r\n      margin: 40px auto\r\n      width: 100px\r\n\r\n    &__button_wallet, &__button_settings\r\n      z-index: 100\r\n      opacity: 0\r\n      width: 100%\r\n      pointer-events: none\r\n\r\n    &__status\r\n      position: absolute\r\n      height: 80px\r\n      left: calc(50% - 10rem)\r\n      top: calc(50% - 75px)\r\n      font-size: 2rem\r\n      font-weight: 500\r\n      font-family: 'Montserrat'\r\n      color: white\r\n      opacity: 0\r\n      pointer-events: none\r\n\r\n      &_icon\r\n        transform: scale(0)\r\n\r\n.busy_btn\r\n  pointer-events: none\r\n  opacity: .2\r\n</style>\r\n"]}]}