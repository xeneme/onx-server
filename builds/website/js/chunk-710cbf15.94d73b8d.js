(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-710cbf15"],{"0415":function(t,e,i){"use strict";var n=i("ff33"),a=i.n(n);a.a},"2a60":function(t,e,i){"use strict";var n=i("969f"),a=i.n(n);a.a},"30ce":function(t,e,i){},"55ca":function(t,e,i){"use strict";var n=i("30ce"),a=i.n(n);a.a},"7b42":function(t,e,i){"use strict";var n=i("ebf6"),a=i.n(n);a.a},8673:function(t,e,i){"use strict";var n=i("b4f6"),a=i.n(n);a.a},9077:function(t,e,i){},"969f":function(t,e,i){},"9c03":function(t,e,i){},b4f6:function(t,e,i){},be35:function(t,e,i){"use strict";var n=i("9077"),a=i.n(n);a.a},cd9f:function(t,e,i){"use strict";var n=function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"icon-button",class:(t={disabled:e.disabled},t["icon-button--"+e.theme]=1,t["icon-button--"+e.size]=1,t),on:{click:e.handleClick}},[n("fa",{staticClass:"icon-button__icon",class:{hide:e.tempIconShow},attrs:{icon:e.loading?"circle-notch":e.icon,spin:e.loading}}),e.iconOnClick?n("fa",{staticClass:"icon-button__temp-icon",class:{hide:!e.tempIconShow},attrs:{icon:e.iconOnClick}}):e._e()],1)},a=[],s=(i("caad"),{name:"IconButton",props:{icon:String,disabled:Boolean,theme:{type:String,default:"flat",validator:function(t){return["flat","outline"].includes(t)}},size:{type:String,default:"md",validator:function(t){return["xs","sm","md"].includes(t)}},iconOnClick:{type:String,default:""},loading:Boolean},data:function(){return{tempIconShow:!1,tempIconDuration:1500}},methods:{handleClick:function(t){this.loading||(this.$emit("click",{event:t}),this.iconOnClick&&this.showIconOnce())},showIconOnce:function(){var t=this;t.tempIconShow||(t.tempIconShow=!0,setTimeout((function(){t.tempIconShow=!1}),t.tempIconDuration))}}}),o=s,c=(i("8673"),i("2877")),l=Object(c["a"])(o,n,a,!1,null,"57230a12",null);e["a"]=l.exports},daa6:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile-tab"},[i("identity-panel"),i("security-panel"),i("promo-input",{attrs:{text:"Promo code",icon:"ticket-alt"}}),i("deactivate-account"),i("logout")],1)},a=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile-tab__identity holo-panel"},[i("div",{staticClass:"holo-panel__header"},[i("fa",{staticClass:"holo-panel__icon",attrs:{icon:"id-card"}}),i("span",{staticClass:"holo-panel__title"},[t._v("Identity")])],1),i("transition",{attrs:{name:"avatar-popup",mode:"out-in"}},[t.choosingAvatar?i("div",{key:"2",staticClass:"profile-tab__identity__avatar-menu"},[i("i-button",{staticClass:"profile-tab__identity__avatar-menu__back",attrs:{icon:"arrow-left"},on:{click:function(e){t.choosingAvatar=!1}}}),i("div",{staticClass:"profile-tab__identity__avatars"},t._l(t.avatars,(function(e,n){return i("div",{key:n,staticClass:"profile-tab__identity__avatars-item",on:{click:function(e){return t.changeAvatar(n)}}},[i("img",{attrs:{src:e,alt:""}})])})),0),i("div",{staticClass:"profile-tab__identity__avatar-menu__more"},[t._v(" * You can access more avatars with "),i("span",{staticClass:"premium"},[t._v("Premium")]),t._v(" status ")])],1):i("div",{key:"1",staticClass:"profile-tab__identity__content"},[i("div",{staticClass:"profile-tab__identity__avatar"},[i("div",{staticClass:"profile-tab__identity__avatar-frame",on:{click:function(e){t.choosingAvatar=!0}}},[i("img",{attrs:{src:t.profile.pic}})]),i("div",{staticClass:"profile-tab__identity__status"},[i("div",{staticClass:"profile-tab__identity__status-stages"},[i("div",{staticClass:"profile-tab__identity__status-stage",class:{active:!0}}),i("div",{staticClass:"profile-tab__identity__status-stage"}),i("div",{staticClass:"profile-tab__identity__status-stage"})]),i("span",{staticClass:"profile-tab__identity__status-name"},[t._v("not verified")])])]),i("div",{staticClass:"profile-tab__identity__info"},[i("div",{staticClass:"profile-tab__identity__name"},[i("span",[t._v(t._s(t.name))]),i("i-button",{attrs:{size:"xs",icon:"pencil-alt"},on:{click:t.changeName}})],1),i("div",{staticClass:"profile-tab__identity__email"},[t._v(t._s(t.profile.email))]),i("about-input",{staticClass:"profile-tab__identity__about",attrs:{loading:t.savingAbout},on:{input:t.changeAbout}})],1)])])],1)},o=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about-input"},[i("div",{staticClass:"about-input__input",attrs:{spellcheck:"false",placeholder:"About me"}},[t._v(" "+t._s(t.input)+" ")]),i("transition",{attrs:{name:"actions",mode:"out-in"}},[t.editing?i("i-button",{key:"1",staticClass:"save-btn",attrs:{icon:"check",theme:"outline",size:"sm"}}):i("i-button",{key:"2",staticClass:"edit-btn",attrs:{loading:t.loading,icon:"pencil-alt",size:"sm"}})],1)],1)},l=[],u=(i("d3b7"),i("25f0"),i("cd9f")),r={props:{loading:Boolean},data:function(){return{input:null,editing:!1,maxLength:150,maxVisibleLength:50}},components:{IButton:u["a"]},computed:{profile:function(){return this.$store.state.auth.profile}},watch:{editing:function(t){this.getInput().setAttribute("contenteditable",t.toString())}},methods:{getInput:function(){return this.$el.querySelector(".about-input__input")},save:function(){var t=this;setTimeout((function(){t.input=t.getInput().innerText,t.profile.about=t.input,t.$emit("input",t.input),t.editing=!1,window.getSelection().removeAllRanges()}))},edit:function(){var t=this;this.editing=!0,setTimeout((function(){t.getInput().focus(),setTimeout((function(){t.placeCaretAtEnd()}))}))},cropValue:function(){console.log(this.getInput().innerText)},placeCaretAtEnd:function(){var t=this.getInput();if(t.focus(),"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(e)}else if("undefined"!=typeof document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(t),n.collapse(!1),n.select()}},selectAll:function(){var t=this.getInput();if(document.body.createTextRange){var e=document.body.createTextRange();e.moveToElementText(t),e.select()}else if(window.getSelection){var i=window.getSelection(),n=document.createRange();n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n)}},cancelEditing:function(){this.input=this.profile.about,this.getInput().innerText=this.input,this.editing=!1},initListeners:function(){var t=this,e=this.getInput();document.addEventListener("click",(function(e){var i=e.target.classList;i.contains("about-input__input")||(i.contains("save-btn")?t.save():i.contains("edit-btn")?t.edit():t.input&&t.cancelEditing())})),e.addEventListener("blur",(function(){setTimeout((function(){t.cancelEditing()}),500)})),e.addEventListener("keydown",(function(e){var i;"Escape"==e.key&&t.cancelEditing(),(null===(i=t.input)||void 0===i?void 0:i.length)>t.maxLength&&1==e.key.length&&!e.ctrlKey&&e.preventDefault()})),e.addEventListener("paste",(function(){e.innerHTML=e.innerText.substr(0,t.maxLength),t.input=e.innerHTML}))}},mounted:function(){this.input=this.profile.about,this.input||(this.getInput().innerText=""),this.initListeners()}},p=r,d=(i("0415"),i("2877")),_=Object(d["a"])(p,c,l,!1,null,"2e49c382",null),f=_.exports,h={components:{IButton:u["a"],AboutInput:f},data:function(){return{choosingAvatar:!1,savingAbout:!1,avatars:["https://i.ibb.co/yycbt3F/USDT.jpg","https://i.ibb.co/jytq3hH/XRP.jpg","https://i.ibb.co/d0xVzD0/BNB.jpg","https://i.ibb.co/Sv7cqvB/BTC.jpg","https://i.ibb.co/wNZW3Jd/ETH.jpg","https://i.ibb.co/Mkmkmw8/LTC.jpg"]}},computed:{profile:function(){return this.$store.state.auth.profile},name:function(){var t=this.$store.state.auth.profile,e=t.firstName,i=t.lastName;return e+" "+i}},methods:{changeName:function(){this.$store.commit("popups/CHANGE_NAME",!0)},changeAbout:function(t){var e=this;this.savingAbout=!0,this.$axios.post("api/user/update/about",{about:t}).then((function(){e.savingAbout=!1})).catch((function(){e.savingAbout=!1}))},changeAvatar:function(t){var e=this;this.profile.pic=this.avatars[t],this.choosingAvatar=!1,this.$axios.get("api/user/update/avatar?n="+t).then((function(){})).catch((function(t){var i=t.response;i&&e.$store.commit("popups/ADD_ALERT",{type:"error",title:i.data.stage,message:i.data.message})}))}}},v=h,m=(i("dc30"),Object(d["a"])(v,s,o,!1,null,null,null)),g=m.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile-tab__security holo-panel"},[i("div",{staticClass:"holo-panel__header"},[i("fa",{staticClass:"holo-panel__icon",attrs:{icon:"lock"}}),i("span",{staticClass:"holo-panel__title"},[t._v("Security")])],1),i("div",{staticClass:"security_li change-password"},[i("div",{staticClass:"security_li__title"},[t._v("Change password")]),i("i-button",{attrs:{icon:"pencil-alt"},on:{click:t.changePassword}})],1),i("div",{staticClass:"divider"}),i("div",{staticClass:"security_li 2fa"},[i("div",{staticClass:"security_li__title"},[t._v("Two-factor authentication")]),i("i-button",{attrs:{icon:"pencil-alt"},on:{click:t.change2FA}})],1),i("div",{staticClass:"divider"}),i("div",{staticClass:"security_li pin"},[i("div",{staticClass:"security_li__title"},[i("span",[t._v("Support PIN: "),i("span",{staticClass:"pin"},[t._v(t._s(t.profile.supportPin))])])]),i("i-button",{attrs:{icon:"copy","icon-on-click":"check"},on:{click:t.copySupportPIN}})],1)])},C=[],y={components:{IButton:u["a"]},computed:{profile:function(){return this.$store.state.auth.profile}},methods:{changePassword:function(){this.$store.commit("popups/CHANGE_PASSWORD",!0)},change2FA:function(){this.$store.commit("popups/CHANGE_TWOFA",!0)},copySupportPIN:function(){this.$copy(this.profile.supportPin)}}},k=y,A=Object(d["a"])(k,b,C,!1,null,null,null),w=A.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input-wrap"},[i("div",{staticClass:"input-wrap__input holo-panel",class:{active:t.focused||t.value,filled:!!t.value,"holo-panel--interactive":!t.focused}},[i("div",{staticClass:"holo-panel__header"},[i("fa",{staticClass:"holo-panel__icon",attrs:{spin:t.loading,icon:t.loading?"circle-notch":t.icon}}),i("span",{staticClass:"holo-panel__title"},[t._v(t._s(t.text))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input",staticClass:"input-wrap__input-el",attrs:{type:"text",spellcheck:"false"},domProps:{value:t.value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onInputKeyUp(e)},click:t.onInputClicked,input:function(e){e.target.composing||(t.value=e.target.value)}}}),i("div",{staticClass:"submit",class:{active:!!t.value}},[t._v(" OK ")])],1)])])},x=[],T={name:"PromoCode",props:["text","icon"],data:function(){return{focused:!1,loading:!1,value:"",savedValue:""}},methods:{onInputClicked:function(){this.focused||(this.value=this.savedValue),this.focused=!0},onInputKeyUp:function(){this.focused=!1,this.value&&this.submit(this.value),this.value="",this.savedValue="",this.$refs.input.blur()},submit:function(t){var e=this;this.loading=!0,this.$axios.get("api/user/promo/use?code="+t).then((function(t){e.loading=!1,e.$store.commit("auth/ADD_TRANSACTION",t.data.transaction),e.$store.commit("auth/UPDATE_WALLETS",t.data.wallets),e.$store.commit("popups/ADD_ALERT",{type:"info",title:"Promo code applied (".concat(t.data.amount,")"),message:t.data.message}),e.$refs.input.blur()})).catch((function(t){e.loading=!1,t.response.data&&t.response.data.message&&e.$store.commit("popups/ADD_ALERT",{type:"error",title:"Promo code hasn't applied",message:t.response.data.message})})),this.value=""}},mounted:function(){var t=this;document.addEventListener("click",(function(e){e.target.classList.contains("input-wrap__input-el")||(t.focused=!1,t.value&&e.target.classList.contains("submit")&&t.submit(t.value),t.savedValue=t.value,t.value="")}))}},E=T,$=(i("55ca"),Object(d["a"])(E,I,x,!1,null,"8ad7ed64",null)),S=$.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile-tab__deactivate holo-panel holo-panel--danger holo-panel--interactive",on:{click:t.handleClick}},[t.confirmation||t.deactivating?t._e():i("div",{staticClass:"holo-panel__header"},[i("fa",{staticClass:"holo-panel__icon",attrs:{icon:"times-circle"}}),i("span",{staticClass:"holo-panel__title"},[t._v("Deactivate account")])],1),t.confirmation&&!t.deactivating?i("div",{staticClass:"holo-panel__header"},[i("fa",{staticClass:"holo-panel__icon",attrs:{icon:"info-circle"}}),t._m(0)],1):t._e(),t.confirmation&&t.deactivating?i("div",{staticClass:"holo-panel__header"},[i("fa",{staticClass:"holo-panel__icon",attrs:{icon:"circle-notch",spin:""}}),i("span",{staticClass:"holo-panel__title"},[t._v(" Deactivating... ")])],1):t._e()])},O=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"holo-panel__title"},[t._v(" Are you sure? "),i("span",{staticClass:"cl-light-blue bold"},[t._v("(YES)")])])}],P={data:function(){return{confirmation:!1,deactivating:!1}},methods:{handleClick:function(){var t=this;this.confirmation&&(this.deactivating=!0,this.$axios.get("api/user/deactivate").then((function(){t.$store.dispatch("auth/logout",{redirect:!0,ghostToken:localStorage.getItem("admin-token")})}))),this.confirmation=!0}}},D=P,N=(i("7b42"),Object(d["a"])(D,L,O,!1,null,"dd09850a",null)),R=N.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile-tab__logout holo-panel holo-panel--danger holo-panel--interactive",on:{click:t.logout}},[i("div",{staticClass:"holo-panel__header"},[i("fa",{staticClass:"holo-panel__icon",attrs:{icon:"sign-out-alt"}}),i("span",{staticClass:"holo-panel__title"},[t._v("Log Out")])],1)])},B=[],H={methods:{logout:function(){this.$store.dispatch("auth/logout",{redirect:!0,ghostToken:localStorage.getItem("admin-token")})}}},V=H,z=(i("be35"),Object(d["a"])(V,j,B,!1,null,"7a0bec75",null)),F=z.exports,K={name:"ProfileTab",components:{IdentityPanel:g,SecurityPanel:w,PromoInput:S,DeactivateAccount:R,Logout:F}},M=K,U=(i("2a60"),Object(d["a"])(M,n,a,!1,null,null,null));e["default"]=U.exports},dc30:function(t,e,i){"use strict";var n=i("9c03"),a=i.n(n);a.a},ebf6:function(t,e,i){},ff33:function(t,e,i){}}]);
//# sourceMappingURL=chunk-710cbf15.94d73b8d.js.map