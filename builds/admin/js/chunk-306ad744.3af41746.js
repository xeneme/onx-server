(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-306ad744"],{"5fa1":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"settings"},[e("div",{staticClass:"row"},[e("div",{staticClass:"flex xs12 smd12 md12 lg12"},[e("domains-panel")],1)])])},i=[],n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("va-card",{staticClass:"card",attrs:{color:a.computedWidgetColor,title:a.$t("domains.panel-title")}},[e("va-inner-loading",{attrs:{loading:a.loading}},[e("div",{style:{opacity:this.loading?.2:1}},[a._v(" "+a._s(a.$t("domains.subtitle1"))+" "),e("a",{style:{color:a.$themes.primary},attrs:{href:"https://ap.www.namecheap.com/domains/list/",target:"_blank"}},[a._v("Namecheap")]),a._v(" "+a._s(a.$t("domains.subtitle2"))+" "),e("br"),e("br"),e("div",{staticClass:"domains-title"},[e("div",{staticClass:"domains-title_prop"},[a._v(a._s(a.$t("domains.name")))]),e("div",{staticClass:"domains-title_prop"},[a._v(a._s(a.$t("domains.assigned")))]),e("div",{staticClass:"domains-title_prop"},[a._v(a._s(a.$t("domains.expiration")))]),e("div",{staticClass:"domains-title_prop"},[a._v(a._s(a.$t("domains.issue")))])]),e("div",{staticClass:"domains-table"},a._l(a.domains,(function(t){return e("div",{key:t.ID,staticClass:"domains-table_item"},[e("a",{staticClass:"domains-table_item_prop center domain",attrs:{href:t.Name,target:"_blank"}},[e("span",[e("span",{staticClass:"suffix"},[a._v("https://www.")]),a._v(" "+a._s(t.Name))])]),e("div",{staticClass:"domains-table_item_prop"},[e("va-select",{staticClass:"ma-0",attrs:{options:a.managers,value:t.Assigned,"no-clear":""},on:{input:function(e){return a.assignDomain(t,e)}},model:{value:t.Assigned,callback:function(e){a.$set(t,"Assigned",e)},expression:"domain.Assigned"}})],1),e("div",{staticClass:"domains-table_item_prop center"},[a._v(" "+a._s(a.getLifetime(t))+" ")]),e("div",{staticClass:"domains-table_item_prop center",class:{clickable:!!a.checkIssue(t)}},[a.checkIssue(t)?e("va-popover",{attrs:{icon:a.checkIssue(t).icon,color:a.checkIssue(t).color,title:a.checkIssue(t).title,message:a.checkIssue(t).message,placement:"right"}},[e("span",{staticClass:"full-sized"},[e("va-icon",{attrs:{name:"fa fa-times",color:"danger"}}),a._v(" "+a._s(a.$t("domains.trouble"))+" ")],1)]):e("div",[e("va-icon",{attrs:{name:"fa fa-check",color:"success"}}),a._v(" "+a._s(a.$t("domains.good"))+" ")],1)],1)])})),0)])])],1)},o=[],c=(e("96cf"),e("c964")),r=e("c1df"),d=e.n(r),l=e("bc3a"),m=e.n(l),u=e("4360"),p=m.a.CancelToken.source(),f=p.token,v=u["a"].state.app.config.base+"/api/admin",g=function(){return m.a.get(v+"/domains",{cancelToken:f,headers:{Authorization:u["a"].state.auth.token}})},h=function(a){return m.a.post(v+"/domains",a,{cancelToken:f})},_=e("cf6d"),k={name:"domains-panel",data:function(){return{loading:!0,popover:{title:"Hey folks!",message:"This tooltip is amazing:D",icon:{icon:"fa fa-print",text:"print"},color:"warning"},managers:["Nobody"],domains:[]}},computed:{computedWidgetColor:function(){return this.$themes.background}},methods:{assignDomain:function(a,t){var e=this;this.loading=!0,h({domain:a.Name,email:t}).then((function(a){var t=a.data;e.showToast(t.message,{icon:"fa-check",position:"bottom-center",duration:4e3,type:"primary"}),e.loading=!1}))},checkIssue:function(a){return"true"==a.IsLocked?{title:"Validation",icon:"fa fa-lock",color:"danger",message:"This domain is locked."}:"true"==a.IsExpired?{title:"Validation",icon:"fa fa-calendar-times-o",color:"danger",message:"The domain was expired. Renew it in Namecheap."}:null},getLifetime:function(a){var t=d()(),e=d()(a.Expires,"MM/DD/YYYY"),s=e.diff(t,"years"),i=e.diff(t,"months"),n=e.diff(t,"days"),o=e.diff(t,"hours"),c=e.diff(t,"minutes"),r=e.diff(t,"seconds");return s?s+" years":i?i+" months":n?n+" days":o?o+" hours":c?c+" minutes":r+" seconds"}},created:function(){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:_["g"]().then((function(t){var e=t.data;a.managers=e,g().then((function(t){var e=t.data;a.domains=e,a.loading=!1}))}));case 1:case"end":return t.stop()}}),t)})))()}},b=k,C=(e("f071"),e("2877")),w=Object(C["a"])(b,n,o,!1,null,null,null),$=w.exports,y={name:"Settings",components:{DomainsPanel:$},computed:{}},x=y,I=Object(C["a"])(x,s,i,!1,null,"51755ebf",null);t["default"]=I.exports},e7a9:function(a,t,e){},f071:function(a,t,e){"use strict";var s=e("e7a9"),i=e.n(s);i.a}}]);
//# sourceMappingURL=chunk-306ad744.3af41746.js.map