{"remainingRequest":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vuetable-2/src/components/Vuetable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vuetable-2/src/components/Vuetable.vue","mtime":1517845987000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgcHJvcHM6IHsNCiAgICBmaWVsZHM6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9LA0KICAgIGxvYWRPblN0YXJ0OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgYXBpVXJsOiB7DQogICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgZGVmYXVsdDogJycNCiAgICB9LA0KICAgIGh0dHBNZXRob2Q6IHsNCiAgICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgICBkZWZhdWx0OiAnZ2V0JywNCiAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUpID0+IHsNCiAgICAgICAgICByZXR1cm4gWydnZXQnLCAncG9zdCddLmluZGV4T2YodmFsdWUpID4gLTENCiAgICAgICAgfQ0KICAgIH0sDQogICAgcmVhY3RpdmVBcGlVcmw6IHsNCiAgICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgYXBpTW9kZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIGRhdGE6IHsNCiAgICAgIHR5cGU6IFtBcnJheSwgT2JqZWN0XSwNCiAgICAgIGRlZmF1bHQ6IG51bGwNCiAgICB9LA0KICAgIGRhdGFUb3RhbDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMA0KICAgIH0sDQogICAgZGF0YU1hbmFnZXI6IHsNCiAgICAgIHR5cGU6IEZ1bmN0aW9uLA0KICAgICAgZGVmYXVsdDogbnVsbA0KICAgIH0sDQogICAgZGF0YVBhdGg6IHsNCiAgICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgICBkZWZhdWx0OiAnZGF0YScNCiAgICB9LA0KICAgIHBhZ2luYXRpb25QYXRoOiB7DQogICAgICAgIHR5cGU6IFtTdHJpbmddLA0KICAgICAgICBkZWZhdWx0OiAnbGlua3MucGFnaW5hdGlvbicNCiAgICB9LA0KICAgIHF1ZXJ5UGFyYW1zOiB7DQogICAgICB0eXBlOiBbT2JqZWN0LCBGdW5jdGlvbl0sDQogICAgICBkZWZhdWx0ICgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBzb3J0OiAnc29ydCcsDQogICAgICAgICAgcGFnZTogJ3BhZ2UnLA0KICAgICAgICAgIHBlclBhZ2U6ICdwZXJfcGFnZScNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgYXBwZW5kUGFyYW1zOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0ICgpIHsNCiAgICAgICAgcmV0dXJuIHt9DQogICAgICB9DQogICAgfSwNCiAgICBodHRwT3B0aW9uczogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdCAoKSB7DQogICAgICAgIHJldHVybiB7fQ0KICAgICAgfQ0KICAgIH0sDQogICAgaHR0cEZldGNoOiB7DQogICAgICB0eXBlOiBGdW5jdGlvbiwNCiAgICAgIGRlZmF1bHQ6IG51bGwNCiAgICB9LA0KICAgIHBlclBhZ2U6IHsNCiAgICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgICBkZWZhdWx0OiAxMA0KICAgIH0sDQogICAgaW5pdGlhbFBhZ2U6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDENCiAgICB9LA0KICAgIHNvcnRPcmRlcjogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0ICgpIHsNCiAgICAgICAgcmV0dXJuIFtdDQogICAgICB9DQogICAgfSwNCiAgICBtdWx0aVNvcnQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0ICgpIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICB0YWJsZUhlaWdodDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogbnVsbA0KICAgIH0sDQogICAgLyoNCiAgICAgKiBwaHlzaWNhbCBrZXkgdGhhdCB3aWxsIHRyaWdnZXIgbXVsdGktc29ydCBvcHRpb24NCiAgICAgKiBwb3NzaWJsZSB2YWx1ZXM6ICdhbHQnLCAnY3RybCcsICdtZXRhJywgJ3NoaWZ0Jw0KICAgICAqICdjdHJsJyBtaWdodCBub3Qgd29yayBhcyBleHBlY3RlZCBvbiBNYWMNCiAgICAgKi8NCiAgICBtdWx0aVNvcnRLZXk6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdhbHQnDQogICAgfSwNCiAgICAvKiBkZXByZWNhdGVkICovDQogICAgcm93Q2xhc3NDYWxsYmFjazogew0KICAgICAgdHlwZTogW1N0cmluZywgRnVuY3Rpb25dLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9LA0KICAgIHJvd0NsYXNzOiB7DQogICAgICB0eXBlOiBbU3RyaW5nLCBGdW5jdGlvbl0sDQogICAgICBkZWZhdWx0OiAnJw0KICAgIH0sDQogICAgZGV0YWlsUm93Q29tcG9uZW50OiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJw0KICAgIH0sDQogICAgZGV0YWlsUm93VHJhbnNpdGlvbjogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9LA0KICAgIHRyYWNrQnk6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdpZCcNCiAgICB9LA0KICAgIGNzczogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdCAoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgdGFibGVDbGFzczogJ3VpIGJsdWUgc2VsZWN0YWJsZSBjZWxsZWQgc3RhY2thYmxlIGF0dGFjaGVkIHRhYmxlJywNCiAgICAgICAgICBsb2FkaW5nQ2xhc3M6ICdsb2FkaW5nJywNCiAgICAgICAgICBhc2NlbmRpbmdJY29uOiAnYmx1ZSBjaGV2cm9uIHVwIGljb24nLA0KICAgICAgICAgIGRlc2NlbmRpbmdJY29uOiAnYmx1ZSBjaGV2cm9uIGRvd24gaWNvbicsDQogICAgICAgICAgYXNjZW5kaW5nQ2xhc3M6ICdzb3J0ZWQtYXNjJywNCiAgICAgICAgICBkZXNjZW5kaW5nQ2xhc3M6ICdzb3J0ZWQtZGVzYycsDQogICAgICAgICAgc29ydGFibGVJY29uOiAnJywNCiAgICAgICAgICBkZXRhaWxSb3dDbGFzczogJ3Z1ZXRhYmxlLWRldGFpbC1yb3cnLA0KICAgICAgICAgIGhhbmRsZUljb246ICdncmV5IHNpZGViYXIgaWNvbicsDQogICAgICAgICAgdGFibGVCb2R5Q2xhc3M6ICd2dWV0YWJsZS1zZW1hbnRpYy1uby10b3AgdnVldGFibGUtZml4ZWQtbGF5b3V0JywNCiAgICAgICAgICB0YWJsZUhlYWRlckNsYXNzOiAndnVldGFibGUtZml4ZWQtbGF5b3V0Jw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBtaW5Sb3dzOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAwDQogICAgfSwNCiAgICBzaWxlbnQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgbm9EYXRhVGVtcGxhdGU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiAnTm8gRGF0YSBBdmFpbGFibGUnDQogICAgICB9DQogICAgfSwNCiAgICBzaG93U29ydEljb25zOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0NCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGV2ZW50UHJlZml4OiAndnVldGFibGU6JywNCiAgICAgIHRhYmxlRmllbGRzOiBbXSwNCiAgICAgIHRhYmxlRGF0YTogbnVsbCwNCiAgICAgIHRhYmxlUGFnaW5hdGlvbjogbnVsbCwNCiAgICAgIGN1cnJlbnRQYWdlOiB0aGlzLmluaXRpYWxQYWdlLA0KICAgICAgc2VsZWN0ZWRUbzogW10sDQogICAgICB2aXNpYmxlRGV0YWlsUm93czogW10sDQogICAgICBsYXN0U2Nyb2xsUG9zaXRpb246IDAsDQogICAgICBzY3JvbGxCYXJXaWR0aDogJzE3cHgnLCAvL2Nocm9tZSBkZWZhdWx0DQogICAgICBzY3JvbGxWaXNpYmxlOiBmYWxzZSwNCiAgICB9DQogIH0sDQogIG1vdW50ZWQgKCkgew0KICAgIHRoaXMubm9ybWFsaXplRmllbGRzKCkNCiAgICB0aGlzLm5vcm1hbGl6ZVNvcnRPcmRlcigpDQogICAgaWYgKHRoaXMuaXNGaXhlZEhlYWRlcikgew0KICAgICAgdGhpcy5zY3JvbGxCYXJXaWR0aCA9IHRoaXMuZ2V0U2Nyb2xsQmFyV2lkdGgoKSArICdweCc7DQogICAgfQ0KICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uKCkgew0KICAgICAgdGhpcy5maXJlRXZlbnQoJ2luaXRpYWxpemVkJywgdGhpcy50YWJsZUZpZWxkcykNCiAgICB9KQ0KDQogICAgaWYgKHRoaXMubG9hZE9uU3RhcnQpIHsNCiAgICAgIHRoaXMubG9hZERhdGEoKQ0KICAgIH0NCiAgICBpZiAodGhpcy5pc0ZpeGVkSGVhZGVyKSB7DQogICAgICBsZXQgZWxlbSA9IHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Z1ZXRhYmxlLWJvZHktd3JhcHBlcicpWzBdOw0KICAgICAgaWYgKGVsZW0gIT0gbnVsbCkgew0KICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTsNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGRlc3Ryb3llZCAoKSB7DQogICAgbGV0IGVsZW0gPSB0aGlzLiRlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd2dWV0YWJsZS1ib2R5LXdyYXBwZXInKVswXTsNCiAgICBpZiAoZWxlbSAhPSBudWxsKSB7DQogICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTsNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgdmVyc2lvbjogKCkgPT4gVkVSU0lPTiwNCiAgICB1c2VEZXRhaWxSb3cgKCkgew0KICAgICAgaWYgKHRoaXMudGFibGVEYXRhICYmIHRoaXMudGFibGVEYXRhWzBdICYmIHRoaXMuZGV0YWlsUm93Q29tcG9uZW50ICE9PSAnJyAmJiB0eXBlb2YgdGhpcy50YWJsZURhdGFbMF1bdGhpcy50cmFja0J5XSA9PT0gJ3VuZGVmaW5lZCcpIHsNCiAgICAgICAgdGhpcy53YXJuKCdZb3UgbmVlZCB0byBkZWZpbmUgdW5pcXVlIHJvdyBpZGVudGlmaWVyIGluIG9yZGVyIGZvciBkZXRhaWwtcm93IGZlYXR1cmUgdG8gd29yay4gVXNlIGB0cmFjay1ieWAgcHJvcCB0byBkZWZpbmUgb25lIScpDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KDQogICAgICByZXR1cm4gdGhpcy5kZXRhaWxSb3dDb21wb25lbnQgIT09ICcnDQogICAgfSwNCiAgICBjb3VudFZpc2libGVGaWVsZHMgKCkgew0KICAgICAgcmV0dXJuIHRoaXMudGFibGVGaWVsZHMuZmlsdGVyKGZ1bmN0aW9uKGZpZWxkKSB7DQogICAgICAgIHJldHVybiBmaWVsZC52aXNpYmxlDQogICAgICB9KS5sZW5ndGgNCiAgICB9LA0KICAgIGNvdW50VGFibGVEYXRhICgpIHsNCiAgICAgIGlmICh0aGlzLnRhYmxlRGF0YSA9PT0gbnVsbCkgew0KICAgICAgICByZXR1cm4gMA0KICAgICAgfQ0KICAgICAgcmV0dXJuIHRoaXMudGFibGVEYXRhLmxlbmd0aA0KICAgIH0sDQogICAgZGlzcGxheUVtcHR5RGF0YVJvdyAoKSB7DQogICAgICByZXR1cm4gdGhpcy5jb3VudFRhYmxlRGF0YSA9PT0gMCAmJiB0aGlzLm5vRGF0YVRlbXBsYXRlLmxlbmd0aCA+IDANCiAgICB9LA0KICAgIGxlc3NUaGFuTWluUm93cyAoKSB7DQogICAgICBpZiAodGhpcy50YWJsZURhdGEgPT09IG51bGwgfHwgdGhpcy50YWJsZURhdGEubGVuZ3RoID09PSAwKSB7DQogICAgICAgIHJldHVybiB0cnVlDQogICAgICB9DQogICAgICByZXR1cm4gdGhpcy50YWJsZURhdGEubGVuZ3RoIDwgdGhpcy5taW5Sb3dzDQogICAgfSwNCiAgICBibGFua1Jvd3MgKCkgew0KICAgICAgaWYgKHRoaXMudGFibGVEYXRhID09PSBudWxsIHx8IHRoaXMudGFibGVEYXRhLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICByZXR1cm4gdGhpcy5taW5Sb3dzDQogICAgICB9DQogICAgICBpZiAodGhpcy50YWJsZURhdGEubGVuZ3RoID49IHRoaXMubWluUm93cykgew0KICAgICAgICByZXR1cm4gMA0KICAgICAgfQ0KDQogICAgICByZXR1cm4gdGhpcy5taW5Sb3dzIC0gdGhpcy50YWJsZURhdGEubGVuZ3RoDQogICAgfSwNCiAgICBpc0FwaU1vZGUgKCkgew0KICAgICAgcmV0dXJuIHRoaXMuYXBpTW9kZQ0KICAgIH0sDQogICAgaXNEYXRhTW9kZSAoKSB7DQogICAgICByZXR1cm4gISB0aGlzLmFwaU1vZGUNCiAgICB9LA0KICAgIGlzRml4ZWRIZWFkZXIgKCkgew0KICAgICAgcmV0dXJuIHRoaXMudGFibGVIZWlnaHQgIT0gbnVsbA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldFNjcm9sbEJhcldpZHRoICgpIHsNCiAgICAgIGNvbnN0IG91dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICBjb25zdCBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KDQogICAgICBvdXRlci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7DQogICAgICBvdXRlci5zdHlsZS53aWR0aCA9ICcxMDBweCc7DQoNCiAgICAgIGlubmVyLnN0eWxlLndpZHRoID0gJzEwMCUnOw0KDQoNCiAgICAgIG91dGVyLmFwcGVuZENoaWxkKGlubmVyKTsNCiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpOw0KDQoNCiAgICAgIGNvbnN0IHdpZHRoV2l0aG91dFNjcm9sbGJhciA9IG91dGVyLm9mZnNldFdpZHRoOw0KDQogICAgICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnOw0KDQogICAgICBjb25zdCB3aWR0aFdpdGhTY3JvbGxiYXIgPSBpbm5lci5vZmZzZXRXaWR0aDsNCg0KDQogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG91dGVyKTsNCg0KDQogICAgICByZXR1cm4gKHdpZHRoV2l0aG91dFNjcm9sbGJhciAtIHdpZHRoV2l0aFNjcm9sbGJhcik7DQogICAgfSwNCiAgICBoYW5kbGVTY3JvbGwgKGUpIHsgLy9tYWtlIHN1cmUgdGhhdCB0aGUgaGVhZGVyIGFuZCB0aGUgYm9keSBhcmUgYWxpZ25lZCB3aGVuIHNjcm9sbGluZyBob3Jpem9udGFsbHkgb24gYSB0YWJsZSB0aGF0IGlzIHdpZGVyIHRoYW4gdGhlIHZpZXdwb3J0DQogICAgICBsZXQgaG9yaXpvbnRhbCA9IGUuY3VycmVudFRhcmdldC5zY3JvbGxMZWZ0Ow0KICAgICAgaWYgKGhvcml6b250YWwgIT0gdGhpcy5sYXN0U2Nyb2xsUG9zaXRpb24pIHsgLy9kb24ndCBtb2RpZnkgaGVhZGVyIHNjcm9sbCBpZiB3ZSBhcmUgc2Nyb2xsaW5nIHZlcnRpY2FsbHkNCiAgICAgICAgbGV0IGhlYWRlciA9IHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Z1ZXRhYmxlLWhlYWQtd3JhcHBlcicpWzBdDQogICAgICAgIGlmIChoZWFkZXIgIT0gbnVsbCkgew0KICAgICAgICAgIGhlYWRlci5zY3JvbGxMZWZ0ID0gaG9yaXpvbnRhbDsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmxhc3RTY3JvbGxQb3NpdGlvbiA9IGhvcml6b250YWw7DQogICAgICB9DQoNCiAgICB9LA0KICAgIG5vcm1hbGl6ZUZpZWxkcyAoKSB7DQogICAgICBpZiAodHlwZW9mKHRoaXMuZmllbGRzKSA9PT0gJ3VuZGVmaW5lZCcpIHsNCiAgICAgICAgdGhpcy53YXJuKCdZb3UgbmVlZCB0byBwcm92aWRlICJmaWVsZHMiIHByb3AuJykNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIHRoaXMudGFibGVGaWVsZHMgPSBbXQ0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBsZXQgb2JqDQogICAgICB0aGlzLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkLCBpKSB7DQogICAgICAgIGlmICh0eXBlb2YgKGZpZWxkKSA9PT0gJ3N0cmluZycpIHsNCiAgICAgICAgICBvYmogPSB7DQogICAgICAgICAgICBuYW1lOiBmaWVsZCwNCiAgICAgICAgICAgIHRpdGxlOiBzZWxmLnNldFRpdGxlKGZpZWxkKSwNCiAgICAgICAgICAgIHRpdGxlQ2xhc3M6ICcnLA0KICAgICAgICAgICAgZGF0YUNsYXNzOiAnJywNCiAgICAgICAgICAgIGNhbGxiYWNrOiBudWxsLA0KICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgb2JqID0gew0KICAgICAgICAgICAgbmFtZTogZmllbGQubmFtZSwNCiAgICAgICAgICAgIHdpZHRoOiBmaWVsZC53aWR0aCwNCiAgICAgICAgICAgIHRpdGxlOiAoZmllbGQudGl0bGUgPT09IHVuZGVmaW5lZCkgPyBzZWxmLnNldFRpdGxlKGZpZWxkLm5hbWUpIDogZmllbGQudGl0bGUsDQogICAgICAgICAgICBzb3J0RmllbGQ6IGZpZWxkLnNvcnRGaWVsZCwNCiAgICAgICAgICAgIHRpdGxlQ2xhc3M6IChmaWVsZC50aXRsZUNsYXNzID09PSB1bmRlZmluZWQpID8gJycgOiBmaWVsZC50aXRsZUNsYXNzLA0KICAgICAgICAgICAgZGF0YUNsYXNzOiAoZmllbGQuZGF0YUNsYXNzID09PSB1bmRlZmluZWQpID8gJycgOiBmaWVsZC5kYXRhQ2xhc3MsDQogICAgICAgICAgICBjYWxsYmFjazogKGZpZWxkLmNhbGxiYWNrID09PSB1bmRlZmluZWQpID8gJycgOiBmaWVsZC5jYWxsYmFjaywNCiAgICAgICAgICAgIHZpc2libGU6IChmaWVsZC52aXNpYmxlID09PSB1bmRlZmluZWQpID8gdHJ1ZSA6IGZpZWxkLnZpc2libGUsDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHNlbGYudGFibGVGaWVsZHMucHVzaChvYmopDQogICAgICB9KQ0KICAgIH0sDQogICAgc2V0RGF0YSAoZGF0YSkgew0KICAgICAgaWYgKGRhdGEgPT09IG51bGwgfHwgdHlwZW9mKGRhdGEpID09PSAndW5kZWZpbmVkJykgcmV0dXJuDQoNCiAgICAgIHRoaXMuZmlyZUV2ZW50KCdsb2FkaW5nJykNCg0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHsNCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSBkYXRhDQogICAgICAgIHRoaXMuZmlyZUV2ZW50KCdsb2FkZWQnKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCg0KICAgICAgdGhpcy50YWJsZURhdGEgPSB0aGlzLmdldE9iamVjdFZhbHVlKGRhdGEsIHRoaXMuZGF0YVBhdGgsIG51bGwpDQogICAgICB0aGlzLnRhYmxlUGFnaW5hdGlvbiA9IHRoaXMuZ2V0T2JqZWN0VmFsdWUoZGF0YSwgdGhpcy5wYWdpbmF0aW9uUGF0aCwgbnVsbCkNCg0KICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24oKSB7DQogICAgICAgIHRoaXMuZml4SGVhZGVyKCkNCiAgICAgICAgdGhpcy5maXJlRXZlbnQoJ3BhZ2luYXRpb24tZGF0YScsIHRoaXMudGFibGVQYWdpbmF0aW9uKQ0KICAgICAgICB0aGlzLmZpcmVFdmVudCgnbG9hZGVkJykNCiAgICAgIH0pDQogICAgfSwNCiAgICBzZXRUaXRsZSAoc3RyKSB7DQogICAgICBpZiAodGhpcy5pc1NwZWNpYWxGaWVsZChzdHIpKSB7DQogICAgICAgIHJldHVybiAnJw0KICAgICAgfQ0KDQogICAgICByZXR1cm4gdGhpcy50aXRsZUNhc2Uoc3RyKQ0KICAgIH0sDQogICAgZ2V0VGl0bGUgKGZpZWxkKSB7DQogICAgICBpZiAodHlwZW9mKGZpZWxkLnRpdGxlKSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZpZWxkLnRpdGxlKCkNCg0KICAgICAgcmV0dXJuIHR5cGVvZihmaWVsZC50aXRsZSkgPT09ICd1bmRlZmluZWQnDQogICAgICAgID8gZmllbGQubmFtZS5yZXBsYWNlKCcuJywgJyAnKQ0KICAgICAgICA6IGZpZWxkLnRpdGxlDQogICAgfSwNCiAgICByZW5kZXJUaXRsZSAoZmllbGQpIHsNCiAgICAgIGxldCB0aXRsZSA9IHRoaXMuZ2V0VGl0bGUoZmllbGQpDQoNCiAgICAgIGlmICh0aXRsZS5sZW5ndGggPiAwICYmIHRoaXMuaXNJbkN1cnJlbnRTb3J0R3JvdXAoZmllbGQpIHx8IHRoaXMuaGFzU29ydGFibGVJY29uKGZpZWxkKSkgew0KICAgICAgICBsZXQgc3R5bGUgPSBgb3BhY2l0eToke3RoaXMuc29ydEljb25PcGFjaXR5KGZpZWxkKX07cG9zaXRpb246cmVsYXRpdmU7ZmxvYXQ6cmlnaHRgDQogICAgICAgIGxldCBpY29uVGFnID0gdGhpcy5zaG93U29ydEljb25zID8gdGhpcy5yZW5kZXJJY29uVGFnKFsnc29ydC1pY29uJywgdGhpcy5zb3J0SWNvbihmaWVsZCldLCBgc3R5bGU9IiR7c3R5bGV9ImApIDogJycNCiAgICAgICAgcmV0dXJuIHRpdGxlICsgJyAnICsgaWNvblRhZw0KICAgICAgfQ0KDQogICAgICByZXR1cm4gdGl0bGUNCiAgICB9LA0KICAgIHJlbmRlclNlcXVlbmNlIChpbmRleCkgew0KICAgICAgcmV0dXJuIHRoaXMudGFibGVQYWdpbmF0aW9uDQogICAgICAgID8gdGhpcy50YWJsZVBhZ2luYXRpb24uZnJvbSArIGluZGV4DQogICAgICAgIDogaW5kZXgNCiAgICB9LA0KICAgIHJlbmRlck5vcm1hbEZpZWxkIChmaWVsZCwgaXRlbSkgew0KICAgICAgcmV0dXJuIHRoaXMuaGFzQ2FsbGJhY2soZmllbGQpDQogICAgICAgID8gdGhpcy5jYWxsQ2FsbGJhY2soZmllbGQsIGl0ZW0pDQogICAgICAgIDogdGhpcy5nZXRPYmplY3RWYWx1ZShpdGVtLCBmaWVsZC5uYW1lLCAnJykNCiAgICB9LA0KICAgIGlzU3BlY2lhbEZpZWxkIChmaWVsZE5hbWUpIHsNCiAgICAgIHJldHVybiBmaWVsZE5hbWUuc2xpY2UoMCwgMikgPT09ICdfXycNCiAgICB9LA0KICAgIHRpdGxlQ2FzZSAoc3RyKSB7DQogICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1x3Ky9nLCBmdW5jdGlvbih0eHQpIHsNCiAgICAgICAgcmV0dXJuIHR4dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHR4dC5zdWJzdHIoMSkudG9Mb3dlckNhc2UoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGNhbWVsQ2FzZSAoc3RyLCBkZWxpbWl0ZXIgPSAnXycpIHsNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgcmV0dXJuIHN0ci5zcGxpdChkZWxpbWl0ZXIpLm1hcChmdW5jdGlvbihpdGVtKSB7DQogICAgICAgIHJldHVybiBzZWxmLnRpdGxlQ2FzZShpdGVtKQ0KICAgICAgfSkuam9pbignJykNCiAgICB9LA0KICAgIG5vdEluIChzdHIsIGFycikgew0KICAgICAgcmV0dXJuIGFyci5pbmRleE9mKHN0cikgPT09IC0xDQogICAgfSwNCiAgICBsb2FkRGF0YSAoc3VjY2VzcyA9IHRoaXMubG9hZFN1Y2Nlc3MsIGZhaWxlZCA9IHRoaXMubG9hZEZhaWxlZCkgew0KICAgICAgaWYgKHRoaXMuaXNEYXRhTW9kZSkgew0KICAgICAgICB0aGlzLmNhbGxEYXRhTWFuYWdlcigpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KDQogICAgICB0aGlzLmZpcmVFdmVudCgnbG9hZGluZycpDQoNCiAgICAgIHRoaXMuaHR0cE9wdGlvbnNbJ3BhcmFtcyddID0gdGhpcy5nZXRBcHBlbmRQYXJhbXMoIHRoaXMuZ2V0QWxsUXVlcnlQYXJhbXMoKSApDQoNCiAgICAgIHJldHVybiB0aGlzLmZldGNoKHRoaXMuYXBpVXJsLCB0aGlzLmh0dHBPcHRpb25zKS50aGVuKA0KICAgICAgICAgIHN1Y2Nlc3MsDQogICAgICAgICAgZmFpbGVkDQogICAgICApLmNhdGNoKCgpID0+IGZhaWxlZCgpKQ0KICAgIH0sDQogICAgZmV0Y2ggKGFwaVVybCwgaHR0cE9wdGlvbnMpIHsNCiAgICAgIHJldHVybiB0aGlzLmh0dHBGZXRjaA0KICAgICAgICAgID8gdGhpcy5odHRwRmV0Y2goYXBpVXJsLCBodHRwT3B0aW9ucykNCiAgICAgICAgICA6IGF4aW9zW3RoaXMuaHR0cE1ldGhvZF0oYXBpVXJsLCBodHRwT3B0aW9ucykNCiAgICB9LA0KICAgIGxvYWRTdWNjZXNzIChyZXNwb25zZSkgew0KICAgICAgdGhpcy5maXJlRXZlbnQoJ2xvYWQtc3VjY2VzcycsIHJlc3BvbnNlKQ0KDQogICAgICBsZXQgYm9keSA9IHRoaXMudHJhbnNmb3JtKHJlc3BvbnNlLmRhdGEpDQoNCiAgICAgIHRoaXMudGFibGVEYXRhID0gdGhpcy5nZXRPYmplY3RWYWx1ZShib2R5LCB0aGlzLmRhdGFQYXRoLCBudWxsKQ0KICAgICAgdGhpcy50YWJsZVBhZ2luYXRpb24gPSB0aGlzLmdldE9iamVjdFZhbHVlKGJvZHksIHRoaXMucGFnaW5hdGlvblBhdGgsIG51bGwpDQoNCiAgICAgIGlmICh0aGlzLnRhYmxlUGFnaW5hdGlvbiA9PT0gbnVsbCkgew0KICAgICAgICB0aGlzLndhcm4oJ3Z1ZXRhYmxlOiBwYWdpbmF0aW9uLXBhdGggIicgKyB0aGlzLnBhZ2luYXRpb25QYXRoICsgJyIgbm90IGZvdW5kLiAnDQogICAgICAgICAgKyAnSXQgbG9va3MgbGlrZSB0aGUgZGF0YSByZXR1cm5lZCBmcm9tIHRoZSBzZXZlciBkb2VzIG5vdCBoYXZlIHBhZ2luYXRpb24gaW5mb3JtYXRpb24gJw0KICAgICAgICAgICsgIm9yIHlvdSBtYXkgaGF2ZSBzZXQgaXQgaW5jb3JyZWN0bHkuXG4iDQogICAgICAgICAgKyAnWW91IGNhbiBleHBsaWNpdGx5IHN1cHByZXNzIHRoaXMgd2FybmluZyBieSBzZXR0aW5nIHBhZ2luYXRpb24tcGF0aD0iIi4nDQogICAgICAgICkNCiAgICAgIH0NCg0KICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24oKSB7DQogICAgICAgIHRoaXMuZml4SGVhZGVyKCkNCiAgICAgICAgdGhpcy5maXJlRXZlbnQoJ3BhZ2luYXRpb24tZGF0YScsIHRoaXMudGFibGVQYWdpbmF0aW9uKQ0KICAgICAgICB0aGlzLmZpcmVFdmVudCgnbG9hZGVkJykNCiAgICAgIH0pDQogICAgfSwNCiAgICBmaXhIZWFkZXIoKSB7DQogICAgICBpZiAoIXRoaXMuaXNGaXhlZEhlYWRlcikgew0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIGxldCBlbGVtID0gdGhpcy4kZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndnVldGFibGUtYm9keS13cmFwcGVyJylbMF0NCiAgICAgIGlmIChlbGVtICE9IG51bGwpIHsNCiAgICAgICAgaWYgKGVsZW0uc2Nyb2xsSGVpZ2h0ID4gZWxlbS5jbGllbnRIZWlnaHQpIHsNCiAgICAgICAgICB0aGlzLnNjcm9sbFZpc2libGUgPSB0cnVlOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgIHRoaXMuc2Nyb2xsVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBsb2FkRmFpbGVkIChyZXNwb25zZSkgew0KICAgICAgY29uc29sZS5lcnJvcignbG9hZC1lcnJvcicsIHJlc3BvbnNlKQ0KICAgICAgdGhpcy5maXJlRXZlbnQoJ2xvYWQtZXJyb3InLCByZXNwb25zZSkNCiAgICAgIHRoaXMuZmlyZUV2ZW50KCdsb2FkZWQnKQ0KICAgIH0sDQogICAgdHJhbnNmb3JtIChkYXRhKSB7DQogICAgICBsZXQgZnVuYyA9ICd0cmFuc2Zvcm0nDQoNCiAgICAgIGlmICh0aGlzLnBhcmVudEZ1bmN0aW9uRXhpc3RzKGZ1bmMpKSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMuJHBhcmVudFtmdW5jXS5jYWxsKHRoaXMuJHBhcmVudCwgZGF0YSkNCiAgICAgIH0NCg0KICAgICAgcmV0dXJuIGRhdGENCiAgICB9LA0KICAgIHBhcmVudEZ1bmN0aW9uRXhpc3RzIChmdW5jKSB7DQogICAgICByZXR1cm4gKGZ1bmMgIT09ICcnICYmIHR5cGVvZiB0aGlzLiRwYXJlbnRbZnVuY10gPT09ICdmdW5jdGlvbicpDQogICAgfSwNCiAgICBjYWxsUGFyZW50RnVuY3Rpb24gKGZ1bmMsIGFyZ3MsIGRlZmF1bHRWYWx1ZSA9IG51bGwpIHsNCiAgICAgIGlmICh0aGlzLnBhcmVudEZ1bmN0aW9uRXhpc3RzKGZ1bmMpKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRwYXJlbnRbZnVuY10uY2FsbCh0aGlzLiRwYXJlbnQsIGFyZ3MpDQogICAgICB9DQoNCiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWUNCiAgICB9LA0KICAgIGZpcmVFdmVudCAoZXZlbnROYW1lLCBhcmdzKSB7DQogICAgICB0aGlzLiRlbWl0KHRoaXMuZXZlbnRQcmVmaXggKyBldmVudE5hbWUsIGFyZ3MpDQogICAgfSwNCiAgICB3YXJuIChtc2cpIHsNCiAgICAgIGlmICghdGhpcy5zaWxlbnQpIHsNCiAgICAgICAgY29uc29sZS53YXJuKG1zZykNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldEFsbFF1ZXJ5UGFyYW1zICgpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB7fQ0KDQogICAgICBpZiAodHlwZW9mKHRoaXMucXVlcnlQYXJhbXMpID09PSAnZnVuY3Rpb24nKSB7DQogICAgICAgIHBhcmFtcyA9IHRoaXMucXVlcnlQYXJhbXModGhpcy5zb3J0T3JkZXIsIHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucGVyUGFnZSkNCiAgICAgICAgcmV0dXJuIHR5cGVvZihwYXJhbXMpICE9PSAnb2JqZWN0JyA/IHt9IDogcGFyYW1zDQogICAgICB9DQoNCiAgICAgIHBhcmFtc1t0aGlzLnF1ZXJ5UGFyYW1zLnNvcnRdID0gdGhpcy5nZXRTb3J0UGFyYW0oKQ0KICAgICAgcGFyYW1zW3RoaXMucXVlcnlQYXJhbXMucGFnZV0gPSB0aGlzLmN1cnJlbnRQYWdlDQogICAgICBwYXJhbXNbdGhpcy5xdWVyeVBhcmFtcy5wZXJQYWdlXSA9IHRoaXMucGVyUGFnZQ0KDQogICAgICByZXR1cm4gcGFyYW1zDQogICAgfSwNCiAgICBnZXRTb3J0UGFyYW0gKCkgew0KICAgICAgaWYgKCF0aGlzLnNvcnRPcmRlciB8fCB0aGlzLnNvcnRPcmRlci5maWVsZCA9PSAnJykgew0KICAgICAgICByZXR1cm4gJycNCiAgICAgIH0NCg0KICAgICAgaWYgKHR5cGVvZiB0aGlzLiRwYXJlbnRbJ2dldFNvcnRQYXJhbSddID09PSAnZnVuY3Rpb24nKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRwYXJlbnRbJ2dldFNvcnRQYXJhbSddLmNhbGwodGhpcy4kcGFyZW50LCB0aGlzLnNvcnRPcmRlcikNCiAgICAgIH0NCg0KICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVmYXVsdFNvcnRQYXJhbSgpDQogICAgfSwNCiAgICBnZXREZWZhdWx0U29ydFBhcmFtICgpIHsNCiAgICAgIGxldCByZXN1bHQgPSAnJzsNCg0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNvcnRPcmRlci5sZW5ndGg7IGkrKykgew0KICAgICAgICBsZXQgZmllbGROYW1lID0gKHR5cGVvZiB0aGlzLnNvcnRPcmRlcltpXS5zb3J0RmllbGQgPT09ICd1bmRlZmluZWQnKQ0KICAgICAgICAgID8gdGhpcy5zb3J0T3JkZXJbaV0uZmllbGQNCiAgICAgICAgICA6IHRoaXMuc29ydE9yZGVyW2ldLnNvcnRGaWVsZDsNCg0KICAgICAgICByZXN1bHQgKz0gZmllbGROYW1lICsgJ3wnICsgdGhpcy5zb3J0T3JkZXJbaV0uZGlyZWN0aW9uICsgKChpKzEpIDwgdGhpcy5zb3J0T3JkZXIubGVuZ3RoID8gJywnIDogJycpOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9LA0KICAgIGdldEFwcGVuZFBhcmFtcyAocGFyYW1zKSB7DQogICAgICBmb3IgKGxldCB4IGluIHRoaXMuYXBwZW5kUGFyYW1zKSB7DQogICAgICAgIHBhcmFtc1t4XSA9IHRoaXMuYXBwZW5kUGFyYW1zW3hdDQogICAgICB9DQoNCiAgICAgIHJldHVybiBwYXJhbXMNCiAgICB9LA0KICAgIGV4dHJhY3ROYW1lIChzdHJpbmcpIHsNCiAgICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJzonKVswXS50cmltKCkNCiAgICB9LA0KICAgIGV4dHJhY3RBcmdzIChzdHJpbmcpIHsNCiAgICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJzonKVsxXQ0KICAgIH0sDQogICAgaXNTb3J0YWJsZSAoZmllbGQpIHsNCiAgICAgIHJldHVybiAhKHR5cGVvZiBmaWVsZC5zb3J0RmllbGQgPT09ICd1bmRlZmluZWQnKQ0KICAgIH0sDQogICAgaXNJbkN1cnJlbnRTb3J0R3JvdXAgKGZpZWxkKSB7DQogICAgICByZXR1cm4gdGhpcy5jdXJyZW50U29ydE9yZGVyUG9zaXRpb24oZmllbGQpICE9PSBmYWxzZTsNCiAgICB9LA0KICAgIGhhc1NvcnRhYmxlSWNvbiAoZmllbGQpIHsNCiAgICAgIHJldHVybiB0aGlzLmlzU29ydGFibGUoZmllbGQpICYmIHRoaXMuY3NzLnNvcnRhYmxlSWNvbiAhPSAnJw0KICAgIH0sDQogICAgY3VycmVudFNvcnRPcmRlclBvc2l0aW9uIChmaWVsZCkgew0KICAgICAgaWYgKCAhIHRoaXMuaXNTb3J0YWJsZShmaWVsZCkpIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQoNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zb3J0T3JkZXIubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgaWYgKHRoaXMuZmllbGRJc0luU29ydE9yZGVyUG9zaXRpb24oZmllbGQsIGkpKSB7DQogICAgICAgICAgcmV0dXJuIGk7DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0sDQogICAgZmllbGRJc0luU29ydE9yZGVyUG9zaXRpb24gKGZpZWxkLCBpKSB7DQogICAgICByZXR1cm4gdGhpcy5zb3J0T3JkZXJbaV0uZmllbGQgPT09IGZpZWxkLm5hbWUgJiYgdGhpcy5zb3J0T3JkZXJbaV0uc29ydEZpZWxkID09PSBmaWVsZC5zb3J0RmllbGQNCiAgICB9LA0KICAgIG9yZGVyQnkgKGZpZWxkLCBldmVudCkgew0KICAgICAgaWYgKCAhIHRoaXMuaXNTb3J0YWJsZShmaWVsZCkgKSByZXR1cm4NCg0KICAgICAgbGV0IGtleSA9IHRoaXMubXVsdGlTb3J0S2V5LnRvTG93ZXJDYXNlKCkgKyAnS2V5Jw0KDQogICAgICBpZiAodGhpcy5tdWx0aVNvcnQgJiYgZXZlbnRba2V5XSkgeyAvL2FkZGluZyBjb2x1bW4gdG8gbXVsdGlzb3J0DQogICAgICAgIHRoaXMubXVsdGlDb2x1bW5Tb3J0KGZpZWxkKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy9ubyBtdWx0aXNvcnQsIG9yIHJlc2V0dGluZyBzb3J0DQogICAgICAgIHRoaXMuc2luZ2xlQ29sdW1uU29ydChmaWVsZCkNCiAgICAgIH0NCg0KICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDEgICAgLy8gcmVzZXQgcGFnZSBpbmRleA0KICAgICAgaWYgKHRoaXMuYXBpTW9kZSB8fCB0aGlzLmRhdGFNYW5hZ2VyKSB7DQogICAgICAgIHRoaXMubG9hZERhdGEoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgbXVsdGlDb2x1bW5Tb3J0IChmaWVsZCkgew0KICAgICAgbGV0IGkgPSB0aGlzLmN1cnJlbnRTb3J0T3JkZXJQb3NpdGlvbihmaWVsZCk7DQoNCiAgICAgIGlmKGkgPT09IGZhbHNlKSB7IC8vdGhpcyBmaWVsZCBpcyBub3QgaW4gdGhlIHNvcnQgYXJyYXkgeWV0DQogICAgICAgIHRoaXMuc29ydE9yZGVyLnB1c2goew0KICAgICAgICAgIGZpZWxkOiBmaWVsZC5uYW1lLA0KICAgICAgICAgIHNvcnRGaWVsZDogZmllbGQuc29ydEZpZWxkLA0KICAgICAgICAgIGRpcmVjdGlvbjogJ2FzYycNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2UgeyAvL3RoaXMgZmllbGQgaXMgaW4gdGhlIHNvcnQgYXJyYXksIG5vdyB3ZSBjaGFuZ2UgaXRzIHN0YXRlDQogICAgICAgIGlmKHRoaXMuc29ydE9yZGVyW2ldLmRpcmVjdGlvbiA9PT0gJ2FzYycpIHsNCiAgICAgICAgICAvLyBzd2l0Y2ggZGlyZWN0aW9uDQogICAgICAgICAgdGhpcy5zb3J0T3JkZXJbaV0uZGlyZWN0aW9uID0gJ2Rlc2MnDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy9yZW1vdmUgc29ydCBjb25kaXRpb24NCiAgICAgICAgICB0aGlzLnNvcnRPcmRlci5zcGxpY2UoaSwgMSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHNpbmdsZUNvbHVtblNvcnQgKGZpZWxkKSB7DQogICAgICBpZiAodGhpcy5zb3J0T3JkZXIubGVuZ3RoID09PSAwKSB7DQogICAgICAgIHRoaXMuY2xlYXJTb3J0T3JkZXIoKQ0KICAgICAgfQ0KDQogICAgICB0aGlzLnNvcnRPcmRlci5zcGxpY2UoMSk7IC8vcmVtb3ZlcyBhZGRpdGlvbmFsIGNvbHVtbnMNCg0KICAgICAgaWYgKHRoaXMuZmllbGRJc0luU29ydE9yZGVyUG9zaXRpb24oZmllbGQsIDApKSB7DQogICAgICAgIC8vIGNoYW5nZSBzb3J0IGRpcmVjdGlvbg0KICAgICAgICB0aGlzLnNvcnRPcmRlclswXS5kaXJlY3Rpb24gPSB0aGlzLnNvcnRPcmRlclswXS5kaXJlY3Rpb24gPT09ICdhc2MnID8gJ2Rlc2MnIDogJ2FzYycNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIHJlc2V0IHNvcnQgZGlyZWN0aW9uDQogICAgICAgIHRoaXMuc29ydE9yZGVyWzBdLmRpcmVjdGlvbiA9ICdhc2MnDQogICAgICB9DQogICAgICB0aGlzLnNvcnRPcmRlclswXS5maWVsZCA9IGZpZWxkLm5hbWUNCiAgICAgIHRoaXMuc29ydE9yZGVyWzBdLnNvcnRGaWVsZCA9IGZpZWxkLnNvcnRGaWVsZA0KICAgIH0sDQogICAgY2xlYXJTb3J0T3JkZXIgKCkgew0KICAgICAgdGhpcy5zb3J0T3JkZXIucHVzaCh7DQogICAgICAgIGZpZWxkOiAnJywNCiAgICAgICAgc29ydEZpZWxkOiAnJywNCiAgICAgICAgZGlyZWN0aW9uOiAnYXNjJw0KICAgICAgfSk7DQogICAgfSwNCiAgICBzb3J0Q2xhc3MgKGZpZWxkKSB7DQogICAgICBsZXQgY2xzID0gJycNCiAgICAgIGxldCBpID0gdGhpcy5jdXJyZW50U29ydE9yZGVyUG9zaXRpb24oZmllbGQpDQoNCiAgICAgIGlmIChpICE9PSBmYWxzZSkgew0KICAgICAgICBjbHMgPSAodGhpcy5zb3J0T3JkZXJbaV0uZGlyZWN0aW9uID09ICdhc2MnKSA/IHRoaXMuY3NzLmFzY2VuZGluZ0NsYXNzIDogdGhpcy5jc3MuZGVzY2VuZGluZ0NsYXNzDQogICAgICB9DQoNCiAgICAgIHJldHVybiBjbHMNCiAgICB9LA0KICAgIHNvcnRJY29uIChmaWVsZCkgew0KICAgICAgbGV0IGNscyA9IHRoaXMuY3NzLnNvcnRhYmxlSWNvbg0KICAgICAgbGV0IGkgPSB0aGlzLmN1cnJlbnRTb3J0T3JkZXJQb3NpdGlvbihmaWVsZCkNCg0KICAgICAgaWYgKGkgIT09IGZhbHNlKSB7DQogICAgICAgIGNscyA9ICh0aGlzLnNvcnRPcmRlcltpXS5kaXJlY3Rpb24gPT0gJ2FzYycpID8gdGhpcy5jc3MuYXNjZW5kaW5nSWNvbiA6IHRoaXMuY3NzLmRlc2NlbmRpbmdJY29uDQogICAgICB9DQoNCiAgICAgIHJldHVybiBjbHM7DQogICAgfSwNCiAgICBzb3J0SWNvbk9wYWNpdHkgKGZpZWxkKSB7DQogICAgICAvKg0KICAgICAgICogZmllbGRzIHdpdGggc3Ryb25nZXIgcHJlY2VkZW5jZSBoYXZlIGRhcmtlciBjb2xvcg0KICAgICAgICoNCiAgICAgICAqIGlmIHRoZXJlIGFyZSBmZXcgZmllbGRzLCB3ZSBnbyBkb3duIGJ5IDAuMw0KICAgICAgICogZXguIDIgZmllbGRzIGFyZSBzZWxlY3RlZDogMS4wLCAwLjcNCiAgICAgICAqDQogICAgICAgKiBpZiB0aGVyZSBhcmUgbW9yZSB3ZSBnbyBkb3duIGV2ZW5seSBvbiB0aGUgZ2l2ZW4gc3BlY3RydW0NCiAgICAgICAqIGV4LiA2IGZpZWxkcyBhcmUgc2VsZWN0ZWQ6IDEuMCwgMC44NiwgMC43MiwgMC41OCwgMC40NCwgMC4zDQogICAgICAgKi8NCiAgICAgIGxldCBtYXggPSAxLjAsDQogICAgICAgICAgbWluID0gMC4zLA0KICAgICAgICAgIHN0ZXAgPSAwLjMNCg0KICAgICAgbGV0IGNvdW50ID0gdGhpcy5zb3J0T3JkZXIubGVuZ3RoOw0KICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLmN1cnJlbnRTb3J0T3JkZXJQb3NpdGlvbihmaWVsZCkNCg0KDQogICAgICBpZihtYXggLSBjb3VudCAqIHN0ZXAgPCBtaW4pIHsNCiAgICAgICAgc3RlcCA9IChtYXggLSBtaW4pIC8gKGNvdW50LTEpDQogICAgICB9DQoNCiAgICAgIGxldCBvcGFjaXR5ID0gbWF4IC0gY3VycmVudCAqIHN0ZXANCg0KICAgICAgcmV0dXJuIG9wYWNpdHkNCiAgICB9LA0KICAgIGhhc0NhbGxiYWNrIChpdGVtKSB7DQogICAgICByZXR1cm4gaXRlbS5jYWxsYmFjayA/IHRydWUgOiBmYWxzZQ0KICAgIH0sDQogICAgY2FsbENhbGxiYWNrIChmaWVsZCwgaXRlbSkgew0KICAgICAgaWYgKCAhIHRoaXMuaGFzQ2FsbGJhY2soZmllbGQpKSByZXR1cm4NCg0KICAgICAgaWYodHlwZW9mKGZpZWxkLmNhbGxiYWNrKSA9PSAnZnVuY3Rpb24nKSB7DQogICAgICAgcmV0dXJuIGZpZWxkLmNhbGxiYWNrKHRoaXMuZ2V0T2JqZWN0VmFsdWUoaXRlbSwgZmllbGQubmFtZSkpDQogICAgICB9DQoNCiAgICAgIGxldCBhcmdzID0gZmllbGQuY2FsbGJhY2suc3BsaXQoJ3wnKQ0KICAgICAgbGV0IGZ1bmMgPSBhcmdzLnNoaWZ0KCkNCg0KICAgICAgaWYgKHR5cGVvZiB0aGlzLiRwYXJlbnRbZnVuY10gPT09ICdmdW5jdGlvbicpIHsNCiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5nZXRPYmplY3RWYWx1ZShpdGVtLCBmaWVsZC5uYW1lKQ0KDQogICAgICAgIHJldHVybiAoYXJncy5sZW5ndGggPiAwKQ0KICAgICAgICAgID8gdGhpcy4kcGFyZW50W2Z1bmNdLmFwcGx5KHRoaXMuJHBhcmVudCwgW3ZhbHVlXS5jb25jYXQoYXJncykpDQogICAgICAgICAgOiB0aGlzLiRwYXJlbnRbZnVuY10uY2FsbCh0aGlzLiRwYXJlbnQsIHZhbHVlKQ0KICAgICAgfQ0KDQogICAgICByZXR1cm4gbnVsbA0KICAgIH0sDQogICAgZ2V0T2JqZWN0VmFsdWUgKG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7DQogICAgICBkZWZhdWx0VmFsdWUgPSAodHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpID8gbnVsbCA6IGRlZmF1bHRWYWx1ZQ0KDQogICAgICBsZXQgb2JqID0gb2JqZWN0DQogICAgICBpZiAocGF0aC50cmltKCkgIT0gJycpIHsNCiAgICAgICAgbGV0IGtleXMgPSBwYXRoLnNwbGl0KCcuJykNCiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkgew0KICAgICAgICAgIGlmIChvYmogIT09IG51bGwgJiYgdHlwZW9mIG9ialtrZXldICE9PSAndW5kZWZpbmVkJyAmJiBvYmpba2V5XSAhPT0gbnVsbCkgew0KICAgICAgICAgICAgb2JqID0gb2JqW2tleV0NCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgb2JqID0gZGVmYXVsdFZhbHVlDQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgICByZXR1cm4gb2JqDQogICAgfSwNCiAgICB0b2dnbGVDaGVja2JveCAoZGF0YUl0ZW0sIGZpZWxkTmFtZSwgZXZlbnQpIHsNCiAgICAgIGxldCBpc0NoZWNrZWQgPSBldmVudC50YXJnZXQuY2hlY2tlZA0KICAgICAgbGV0IGlkQ29sdW1uID0gdGhpcy50cmFja0J5DQoNCiAgICAgIGlmIChkYXRhSXRlbVtpZENvbHVtbl0gPT09IHVuZGVmaW5lZCkgew0KICAgICAgICB0aGlzLndhcm4oJ19fY2hlY2tib3ggZmllbGQ6IFRoZSAiJyt0aGlzLnRyYWNrQnkrJyIgZmllbGQgZG9lcyBub3QgZXhpc3QhIE1ha2Ugc3VyZSB0aGUgZmllbGQgeW91IHNwZWNpZnkgaW4gInRyYWNrLWJ5IiBwcm9wIGRvZXMgZXhpc3QuJykNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIGxldCBrZXkgPSBkYXRhSXRlbVtpZENvbHVtbl0NCiAgICAgIGlmIChpc0NoZWNrZWQpIHsNCiAgICAgICAgdGhpcy5zZWxlY3RJZChrZXkpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnVuc2VsZWN0SWQoa2V5KQ0KICAgICAgfQ0KICAgICAgdGhpcy4kZW1pdCgndnVldGFibGU6Y2hlY2tib3gtdG9nZ2xlZCcsIGlzQ2hlY2tlZCwgZGF0YUl0ZW0pDQogICAgfSwNCiAgICBzZWxlY3RJZCAoa2V5KSB7DQogICAgICBpZiAoICEgdGhpcy5pc1NlbGVjdGVkUm93KGtleSkpIHsNCiAgICAgICAgdGhpcy5zZWxlY3RlZFRvLnB1c2goa2V5KQ0KICAgICAgfQ0KICAgIH0sDQogICAgdW5zZWxlY3RJZCAoa2V5KSB7DQogICAgICB0aGlzLnNlbGVjdGVkVG8gPSB0aGlzLnNlbGVjdGVkVG8uZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHsNCiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGtleQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGlzU2VsZWN0ZWRSb3cgKGtleSkgew0KICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRUby5pbmRleE9mKGtleSkgPj0gMA0KICAgIH0sDQogICAgcm93U2VsZWN0ZWQgKGRhdGFJdGVtLCBmaWVsZE5hbWUpew0KICAgICAgbGV0IGlkQ29sdW1uID0gdGhpcy50cmFja0J5DQogICAgICBsZXQga2V5ID0gZGF0YUl0ZW1baWRDb2x1bW5dDQoNCiAgICAgIHJldHVybiB0aGlzLmlzU2VsZWN0ZWRSb3coa2V5KQ0KICAgIH0sDQogICAgY2hlY2tDaGVja2JveGVzU3RhdGUgKGZpZWxkTmFtZSkgew0KICAgICAgaWYgKCEgdGhpcy50YWJsZURhdGEpIHJldHVybg0KDQogICAgICBsZXQgc2VsZiA9IHRoaXMNCiAgICAgIGxldCBpZENvbHVtbiA9IHRoaXMudHJhY2tCeQ0KICAgICAgbGV0IHNlbGVjdG9yID0gJ3RoLnZ1ZXRhYmxlLXRoLWNoZWNrYm94LScgKyBpZENvbHVtbiArICcgaW5wdXRbdHlwZT1jaGVja2JveF0nDQogICAgICBsZXQgZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikNCg0KICAgICAgLy9maXhlZDpkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsIHJldHVybiB0aGUgdHlwZW9mIG5vZGVMaXN0IG5vdCBhcnJheQ0KICAgICAgaWYgKGVscy5mb3JFYWNoPT09dW5kZWZpbmVkKQ0KICAgICAgICBlbHMuZm9yRWFjaD1mdW5jdGlvbihjYil7DQogICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGVscywgY2IpOw0KICAgICAgICB9DQoNCiAgICAgIC8vIGNvdW50IGhvdyBtYW55IGNoZWNrYm94IHJvdyBpbiB0aGUgY3VycmVudCBwYWdlIGhhcyBiZWVuIGNoZWNrZWQNCiAgICAgIGxldCBzZWxlY3RlZCA9IHRoaXMudGFibGVEYXRhLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7DQogICAgICAgIHJldHVybiBzZWxmLnNlbGVjdGVkVG8uaW5kZXhPZihpdGVtW2lkQ29sdW1uXSkgPj0gMA0KICAgICAgfSkNCg0KICAgICAgLy8gY291bnQgPT0gMCwgY2xlYXIgdGhlIGNoZWNrYm94DQogICAgICBpZiAoc2VsZWN0ZWQubGVuZ3RoIDw9IDApIHsNCiAgICAgICAgZWxzLmZvckVhY2goZnVuY3Rpb24oZWwpIHsNCiAgICAgICAgICBlbC5pbmRldGVybWluYXRlID0gZmFsc2UNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICAvLyBjb3VudCA+IDAgYW5kIGNvdW50IDwgcGVyUGFnZSwgc2V0IGNoZWNrYm94IHN0YXRlIHRvICdpbmRldGVybWluYXRlJw0KICAgICAgZWxzZSBpZiAoc2VsZWN0ZWQubGVuZ3RoIDwgdGhpcy5wZXJQYWdlKSB7DQogICAgICAgIGVscy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7DQogICAgICAgICAgZWwuaW5kZXRlcm1pbmF0ZSA9IHRydWUNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCiAgICAgIC8vIGNvdW50ID09IHBlclBhZ2UsIHNldCBjaGVja2JveCBzdGF0ZSB0byAnY2hlY2tlZCcNCiAgICAgIGVsc2Ugew0KICAgICAgICBlbHMuZm9yRWFjaChmdW5jdGlvbihlbCkgew0KICAgICAgICAgIGVsLmluZGV0ZXJtaW5hdGUgPSBmYWxzZQ0KICAgICAgICB9KQ0KICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgfQ0KICAgIH0sDQogICAgdG9nZ2xlQWxsQ2hlY2tib3hlcyAoZmllbGROYW1lLCBldmVudCkgew0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBsZXQgaXNDaGVja2VkID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQNCiAgICAgIGxldCBpZENvbHVtbiA9IHRoaXMudHJhY2tCeQ0KDQogICAgICBpZiAoaXNDaGVja2VkKSB7DQogICAgICAgIHRoaXMudGFibGVEYXRhLmZvckVhY2goZnVuY3Rpb24oZGF0YUl0ZW0pIHsNCiAgICAgICAgICBzZWxmLnNlbGVjdElkKGRhdGFJdGVtW2lkQ29sdW1uXSkNCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudGFibGVEYXRhLmZvckVhY2goZnVuY3Rpb24oZGF0YUl0ZW0pIHsNCiAgICAgICAgICBzZWxmLnVuc2VsZWN0SWQoZGF0YUl0ZW1baWRDb2x1bW5dKQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgICAgdGhpcy4kZW1pdCgndnVldGFibGU6Y2hlY2tib3gtdG9nZ2xlZC1hbGwnLCBpc0NoZWNrZWQpDQogICAgfSwNCiAgICBnb3RvUHJldmlvdXNQYWdlICgpIHsNCiAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID4gMSkgew0KICAgICAgICB0aGlzLmN1cnJlbnRQYWdlLS0NCiAgICAgICAgdGhpcy5sb2FkRGF0YSgpDQogICAgICB9DQogICAgfSwNCiAgICBnb3RvTmV4dFBhZ2UgKCkgew0KICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPCB0aGlzLnRhYmxlUGFnaW5hdGlvbi5sYXN0X3BhZ2UpIHsNCiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSsrDQogICAgICAgIHRoaXMubG9hZERhdGEoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgZ290b1BhZ2UgKHBhZ2UpIHsNCiAgICAgIGlmIChwYWdlICE9IHRoaXMuY3VycmVudFBhZ2UgJiYgKHBhZ2UgPiAwICYmIHBhZ2UgPD0gdGhpcy50YWJsZVBhZ2luYXRpb24ubGFzdF9wYWdlKSkgew0KICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZQ0KICAgICAgICB0aGlzLmxvYWREYXRhKCkNCiAgICAgIH0NCiAgICB9LA0KICAgIGlzVmlzaWJsZURldGFpbFJvdyAocm93SWQpIHsNCiAgICAgIHJldHVybiB0aGlzLnZpc2libGVEZXRhaWxSb3dzLmluZGV4T2YoIHJvd0lkICkgPj0gMA0KICAgIH0sDQogICAgc2hvd0RldGFpbFJvdyAocm93SWQpIHsNCiAgICAgIGlmICghdGhpcy5pc1Zpc2libGVEZXRhaWxSb3cocm93SWQpKSB7DQogICAgICAgIHRoaXMudmlzaWJsZURldGFpbFJvd3MucHVzaChyb3dJZCkNCiAgICAgIH0NCiAgICB9LA0KICAgIGhpZGVEZXRhaWxSb3cgKHJvd0lkKSB7DQogICAgICBpZiAodGhpcy5pc1Zpc2libGVEZXRhaWxSb3cocm93SWQpKSB7DQogICAgICAgIHRoaXMudmlzaWJsZURldGFpbFJvd3Muc3BsaWNlKA0KICAgICAgICAgIHRoaXMudmlzaWJsZURldGFpbFJvd3MuaW5kZXhPZihyb3dJZCksDQogICAgICAgICAgMQ0KICAgICAgICApDQogICAgICB9DQogICAgfSwNCiAgICB0b2dnbGVEZXRhaWxSb3cgKHJvd0lkKSB7DQogICAgICBpZiAodGhpcy5pc1Zpc2libGVEZXRhaWxSb3cocm93SWQpKSB7DQogICAgICAgIHRoaXMuaGlkZURldGFpbFJvdyhyb3dJZCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuc2hvd0RldGFpbFJvdyhyb3dJZCkNCiAgICAgIH0NCiAgICB9LA0KICAgIHNob3dGaWVsZCAoaW5kZXgpIHsNCiAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLnRhYmxlRmllbGRzLmxlbmd0aCkgcmV0dXJuDQoNCiAgICAgIHRoaXMudGFibGVGaWVsZHNbaW5kZXhdLnZpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICBoaWRlRmllbGQgKGluZGV4KSB7DQogICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy50YWJsZUZpZWxkcy5sZW5ndGgpIHJldHVybg0KDQogICAgICB0aGlzLnRhYmxlRmllbGRzW2luZGV4XS52aXNpYmxlID0gZmFsc2UNCiAgICB9LA0KICAgIHRvZ2dsZUZpZWxkIChpbmRleCkgew0KICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMudGFibGVGaWVsZHMubGVuZ3RoKSByZXR1cm4NCg0KICAgICAgdGhpcy50YWJsZUZpZWxkc1tpbmRleF0udmlzaWJsZSA9ICEgdGhpcy50YWJsZUZpZWxkc1tpbmRleF0udmlzaWJsZQ0KICAgIH0sDQogICAgcmVuZGVySWNvblRhZyAoY2xhc3Nlcywgb3B0aW9ucyA9ICcnKSB7DQogICAgICByZXR1cm4gdHlwZW9mKHRoaXMuY3NzLnJlbmRlckljb24pID09PSAndW5kZWZpbmVkJw0KICAgICAgICA/IGA8aSBjbGFzcz0iJHtjbGFzc2VzLmpvaW4oJyAnKX0iICR7b3B0aW9uc30+PC9pPmANCiAgICAgICAgOiB0aGlzLmNzcy5yZW5kZXJJY29uKGNsYXNzZXMsIG9wdGlvbnMpDQogICAgfSwNCiAgICBtYWtlUGFnaW5hdGlvbiAodG90YWwgPSBudWxsLCBwZXJQYWdlID0gbnVsbCwgY3VycmVudFBhZ2UgPSBudWxsKSB7DQogICAgICBsZXQgcGFnaW5hdGlvbiA9IHt9DQogICAgICB0b3RhbCA9IHRvdGFsID09PSBudWxsID8gdGhpcy5kYXRhVG90YWwgOiB0b3RhbA0KICAgICAgcGVyUGFnZSA9IHBlclBhZ2UgPT09IG51bGwgPyB0aGlzLnBlclBhZ2UgOiBwZXJQYWdlDQogICAgICBjdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlID09PSBudWxsID8gdGhpcy5jdXJyZW50UGFnZSA6IGN1cnJlbnRQYWdlDQoNCiAgICAgIHJldHVybiB7DQogICAgICAgICd0b3RhbCc6IHRvdGFsLA0KICAgICAgICAncGVyX3BhZ2UnOiBwZXJQYWdlLA0KICAgICAgICAnY3VycmVudF9wYWdlJzogY3VycmVudFBhZ2UsDQogICAgICAgICdsYXN0X3BhZ2UnOiBNYXRoLmNlaWwodG90YWwgLyBwZXJQYWdlKSB8fCAwLA0KICAgICAgICAnbmV4dF9wYWdlX3VybCc6ICcnLA0KICAgICAgICAncHJldl9wYWdlX3VybCc6ICcnLA0KICAgICAgICAnZnJvbSc6IChjdXJyZW50UGFnZSAtMSkgKiBwZXJQYWdlICsxLA0KICAgICAgICAndG8nOiBNYXRoLm1pbihjdXJyZW50UGFnZSAqIHBlclBhZ2UsIHRvdGFsKQ0KICAgICAgfQ0KICAgIH0sDQogICAgbm9ybWFsaXplU29ydE9yZGVyICgpIHsNCiAgICAgIHRoaXMuc29ydE9yZGVyLmZvckVhY2goZnVuY3Rpb24oaXRlbSkgew0KICAgICAgICBpdGVtLnNvcnRGaWVsZCA9IGl0ZW0uc29ydEZpZWxkIHx8IGl0ZW0uZmllbGQNCiAgICAgIH0pDQogICAgfSwNCiAgICBjYWxsRGF0YU1hbmFnZXIgKCkgew0KICAgICAgaWYgKHRoaXMuZGF0YU1hbmFnZXIgPT09IG51bGwgJiYgdGhpcy5kYXRhID09PSBudWxsKSByZXR1cm4NCg0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kYXRhKSkgew0KICAgICAgICByZXR1cm4gdGhpcy5zZXREYXRhKHRoaXMuZGF0YSkNCiAgICAgIH0gDQogICAgICANCiAgICAgIHRoaXMubm9ybWFsaXplU29ydE9yZGVyKCkNCg0KICAgICAgcmV0dXJuIHRoaXMuc2V0RGF0YSgNCiAgICAgICAgdGhpcy5kYXRhTWFuYWdlcg0KICAgICAgICAgID8gdGhpcy5kYXRhTWFuYWdlcih0aGlzLnNvcnRPcmRlciwgdGhpcy5tYWtlUGFnaW5hdGlvbigpKQ0KICAgICAgICAgIDogdGhpcy5kYXRhDQogICAgICApDQogICAgfSwNCiAgICBvblJvd0NsYXNzIChkYXRhSXRlbSwgaW5kZXgpIHsNCiAgICAgIGlmICh0aGlzLnJvd0NsYXNzQ2FsbGJhY2sgIT09ICcnKSB7DQogICAgICAgIHRoaXMud2FybignInJvdy1jbGFzcy1jYWxsYmFjayIgcHJvcCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlICJyb3ctY2xhc3MiIHByb3AgaW5zdGVhZC4nKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCg0KICAgICAgaWYgKHR5cGVvZih0aGlzLnJvd0NsYXNzKSA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICByZXR1cm4gdGhpcy5yb3dDbGFzcyhkYXRhSXRlbSwgaW5kZXgpDQogICAgICB9DQoNCiAgICAgIHJldHVybiB0aGlzLnJvd0NsYXNzDQogICAgfSwNCiAgICBvblJvd0NoYW5nZWQgKGRhdGFJdGVtKSB7DQogICAgICB0aGlzLmZpcmVFdmVudCgncm93LWNoYW5nZWQnLCBkYXRhSXRlbSkNCiAgICAgIHJldHVybiB0cnVlDQogICAgfSwNCiAgICBvblJvd0NsaWNrZWQgKGRhdGFJdGVtLCBldmVudCkgew0KICAgICAgdGhpcy4kZW1pdCh0aGlzLmV2ZW50UHJlZml4ICsgJ3Jvdy1jbGlja2VkJywgZGF0YUl0ZW0sIGV2ZW50KQ0KICAgICAgcmV0dXJuIHRydWUNCiAgICB9LA0KICAgIG9uUm93RG91YmxlQ2xpY2tlZCAoZGF0YUl0ZW0sIGV2ZW50KSB7DQogICAgICB0aGlzLiRlbWl0KHRoaXMuZXZlbnRQcmVmaXggKyAncm93LWRibGNsaWNrZWQnLCBkYXRhSXRlbSwgZXZlbnQpDQogICAgfSwNCiAgICBvbkRldGFpbFJvd0NsaWNrIChkYXRhSXRlbSwgZXZlbnQpIHsNCiAgICAgIHRoaXMuJGVtaXQodGhpcy5ldmVudFByZWZpeCArICdkZXRhaWwtcm93LWNsaWNrZWQnLCBkYXRhSXRlbSwgZXZlbnQpDQogICAgfSwNCiAgICBvbkNlbGxDbGlja2VkIChkYXRhSXRlbSwgZmllbGQsIGV2ZW50KSB7DQogICAgICB0aGlzLiRlbWl0KHRoaXMuZXZlbnRQcmVmaXggKyAnY2VsbC1jbGlja2VkJywgZGF0YUl0ZW0sIGZpZWxkLCBldmVudCkNCiAgICB9LA0KICAgIG9uQ2VsbERvdWJsZUNsaWNrZWQgKGRhdGFJdGVtLCBmaWVsZCwgZXZlbnQpIHsNCiAgICAgIHRoaXMuJGVtaXQodGhpcy5ldmVudFByZWZpeCArICdjZWxsLWRibGNsaWNrZWQnLCBkYXRhSXRlbSwgZmllbGQsIGV2ZW50KQ0KICAgIH0sDQogICAgb25DZWxsUmlnaHRDbGlja2VkIChkYXRhSXRlbSwgZmllbGQsIGV2ZW50KSB7DQogICAgICB0aGlzLiRlbWl0KHRoaXMuZXZlbnRQcmVmaXggKyAnY2VsbC1yaWdodGNsaWNrZWQnLCBkYXRhSXRlbSwgZmllbGQsIGV2ZW50KQ0KICAgIH0sDQogICAgLyoNCiAgICAgKiBBUEkgZm9yIGV4dGVybmFscw0KICAgICAqLw0KICAgIGNoYW5nZVBhZ2UgKHBhZ2UpIHsNCiAgICAgIGlmIChwYWdlID09PSAncHJldicpIHsNCiAgICAgICAgdGhpcy5nb3RvUHJldmlvdXNQYWdlKCkNCiAgICAgIH0gZWxzZSBpZiAocGFnZSA9PT0gJ25leHQnKSB7DQogICAgICAgIHRoaXMuZ290b05leHRQYWdlKCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZ290b1BhZ2UocGFnZSkNCiAgICAgIH0NCiAgICB9LA0KICAgIHJlbG9hZCAoKSB7DQogICAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSgpDQogICAgfSwNCiAgICByZWZyZXNoICgpIHsNCiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxDQogICAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSgpDQogICAgfSwNCiAgICByZXNldERhdGEgKCkgew0KICAgICAgdGhpcy50YWJsZURhdGEgPSBudWxsDQogICAgICB0aGlzLnRhYmxlUGFnaW5hdGlvbiA9IG51bGwNCiAgICAgIHRoaXMuZmlyZUV2ZW50KCdkYXRhLXJlc2V0JykNCiAgICB9DQogIH0sIC8vIGVuZDogbWV0aG9kcw0KICB3YXRjaDogew0KICAgICdtdWx0aVNvcnQnIChuZXdWYWwsIG9sZFZhbCkgew0KICAgICAgaWYgKG5ld1ZhbCA9PT0gZmFsc2UgJiYgdGhpcy5zb3J0T3JkZXIubGVuZ3RoID4gMSkgew0KICAgICAgICB0aGlzLnNvcnRPcmRlci5zcGxpY2UoMSk7DQogICAgICAgIHRoaXMubG9hZERhdGEoKTsNCiAgICAgIH0NCiAgICB9LA0KICAgICdhcGlVcmwnICAobmV3VmFsLCBvbGRWYWwpIHsNCiAgICAgIGlmKHRoaXMucmVhY3RpdmVBcGlVcmwgJiYgbmV3VmFsICE9PSBvbGRWYWwpDQogICAgICAgIHRoaXMucmVmcmVzaCgpDQogICAgfSwNCiAgICAnZGF0YScgKG5ld1ZhbCwgb2xkVmFsKSB7DQogICAgICB0aGlzLnNldERhdGEobmV3VmFsKQ0KICAgIH0sDQogICAgJ3RhYmxlSGVpZ2h0JyAobmV3VmFsLCBvbGRWYWwpIHsNCiAgICAgIHRoaXMuZml4SGVhZGVyKCkNCiAgICB9DQogIH0sDQp9DQo="},{"version":3,"sources":["Vuetable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuTA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;;;AAGA;;AAEA;;AAEA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Vuetable.vue","sourceRoot":"node_modules/vuetable-2/src/components","sourcesContent":["<template>\r\n<div v-if=\"isFixedHeader\">\r\n  <div class=\"vuetable-head-wrapper\">\r\n    <table :class=\"['vuetable', css.tableClass, css.tableHeaderClass]\">\r\n    <thead>\r\n      <tr>\r\n        <template v-for=\"(field, fieldIndex) in tableFields\">\r\n          <template v-if=\"field.visible\">\r\n            <template v-if=\"isSpecialField(field.name)\">\r\n              <th v-if=\"extractName(field.name) == '__checkbox'\"\r\n                :key=\"fieldIndex\"\r\n                :style=\"{width: field.width}\"\r\n                :class=\"['vuetable-th-checkbox-'+trackBy, field.titleClass]\"\r\n              >\r\n                <input type=\"checkbox\" @change=\"toggleAllCheckboxes(field.name, $event)\"\r\n                  :checked=\"checkCheckboxesState(field.name)\">\r\n              </th>\r\n              <th v-if=\"extractName(field.name) == '__component'\"\r\n                :key=\"fieldIndex\"\r\n                :style=\"{width: field.width}\"\r\n                :class=\"['vuetable-th-component-'+trackBy, field.titleClass, sortClass(field), {'sortable': isSortable(field)}]\"\r\n                v-html=\"renderTitle(field)\"\r\n                @click=\"orderBy(field, $event)\"\r\n              ></th>\r\n              <th v-if=\"extractName(field.name) == '__slot'\"\r\n                :key=\"fieldIndex\"\r\n                :style=\"{width: field.width}\"\r\n                :class=\"['vuetable-th-slot-'+extractArgs(field.name), field.titleClass, sortClass(field), {'sortable': isSortable(field)}]\"\r\n                v-html=\"renderTitle(field)\"\r\n                @click=\"orderBy(field, $event)\"\r\n              ></th>\r\n              <th v-if=\"extractName(field.name) == '__sequence'\"\r\n                :key=\"fieldIndex\"\r\n                :style=\"{width: field.width}\"\r\n                :class=\"['vuetable-th-sequence', field.titleClass || '']\" v-html=\"renderTitle(field)\">\r\n              </th>\r\n              <th v-if=\"notIn(extractName(field.name), ['__sequence', '__checkbox', '__component', '__slot'])\"\r\n                :key=\"fieldIndex\"\r\n                :style=\"{width: field.width}\"\r\n                :class=\"['vuetable-th-'+field.name, field.titleClass || '']\" v-html=\"renderTitle(field)\">\r\n              </th>\r\n            </template>\r\n            <template v-else>\r\n              <th @click=\"orderBy(field, $event)\"\r\n                :key=\"fieldIndex\"\r\n                :id=\"'_' + field.name\"\r\n                :style=\"{width: field.width}\"\r\n                :class=\"['vuetable-th-'+field.name, field.titleClass, sortClass(field), {'sortable': isSortable(field)}]\"\r\n                v-html=\"renderTitle(field)\"\r\n              ></th>\r\n            </template>\r\n          </template>\r\n        </template>\r\n        <th v-if=\"scrollVisible\" :style=\"{width: scrollBarWidth}\" class=\"vuetable-gutter-col\"></th>\r\n      </tr>\r\n    </thead>\r\n    </table>\r\n  </div>\r\n  <div class=\"vuetable-body-wrapper\" :style=\"{height: tableHeight}\">\r\n    <table :class=\"['vuetable', css.tableClass, css.tableBodyClass]\">\r\n      <colgroup>\r\n        <template v-for=\"(field, fieldIndex) in tableFields\">\r\n          <template v-if=\"field.visible\">\r\n            <col\r\n              :key=\"fieldIndex\"\r\n              :id=\"'_col_' + field.name\"\r\n              :style=\"{width: field.width}\"\r\n              :class=\"['vuetable-th-'+field.name, field.titleClass]\"\r\n            />\r\n          </template>\r\n        </template>\r\n      </colgroup>\r\n      <tbody v-cloak class=\"vuetable-body\">\r\n        <template v-for=\"(item, itemIndex) in tableData\">\r\n          <tr \r\n            :key=\"itemIndex\"\r\n            :item-index=\"itemIndex\" \r\n            :render=\"onRowChanged(item)\" \r\n            :class=\"onRowClass(item, itemIndex)\"\r\n            @click=\"onRowClicked(item, $event)\" \r\n            @dblclick=\"onRowDoubleClicked(item, $event)\" \r\n          >\r\n            <template v-for=\"(field, fieldIndex) in tableFields\">\r\n              <template v-if=\"field.visible\">\r\n                <template v-if=\"isSpecialField(field.name)\">\r\n                  <td v-if=\"extractName(field.name) == '__sequence'\" \r\n                    :key=\"fieldIndex\"\r\n                    :class=\"['vuetable-sequence', field.dataClass]\"\r\n                    v-html=\"renderSequence(itemIndex)\">\r\n                  </td>\r\n                  <td v-if=\"extractName(field.name) == '__handle'\" \r\n                    :key=\"fieldIndex\"\r\n                    :class=\"['vuetable-handle', field.dataClass]\"\r\n                    v-html=\"renderIconTag(['handle-icon', css.handleIcon])\"\r\n                  ></td>\r\n                  <td v-if=\"extractName(field.name) == '__checkbox'\" \r\n                    :key=\"fieldIndex\"\r\n                    :class=\"['vuetable-checkboxes', field.dataClass]\"\r\n                  >\r\n                    <input type=\"checkbox\"\r\n                      @change=\"toggleCheckbox(item, field.name, $event)\"\r\n                      :checked=\"rowSelected(item, field.name)\">\r\n                  </td>\r\n                  <td v-if=\"extractName(field.name) === '__component'\" \r\n                    :key=\"fieldIndex\"\r\n                    :class=\"['vuetable-component', field.dataClass]\"\r\n                  >\r\n                    <component :is=\"extractArgs(field.name)\"\r\n                      :row-data=\"item\" :row-index=\"itemIndex\" :row-field=\"field.sortField\"\r\n                    ></component>\r\n                  </td>\r\n                  <td v-if=\"extractName(field.name) === '__slot'\" \r\n                    :key=\"fieldIndex\"\r\n                    :class=\"['vuetable-slot', field.dataClass]\"\r\n                  >\r\n                    <slot :name=\"extractArgs(field.name)\"\r\n                      :row-data=\"item\" :row-index=\"itemIndex\" :row-field=\"field.sortField\"\r\n                    ></slot>\r\n                  </td>\r\n                </template>\r\n                <template v-else>\r\n                  <td :class=\"field.dataClass\"\r\n                    :key=\"fieldIndex\"\r\n                    v-html=\"renderNormalField(field, item)\"\r\n                    @click=\"onCellClicked(item, field, $event)\"\r\n                    @dblclick=\"onCellDoubleClicked(item, field, $event)\"\r\n                    @contextmenu=\"onCellRightClicked(item, field, $event)\"\r\n                  ></td>\r\n                </template>\r\n              </template>\r\n            </template>\r\n          </tr>\r\n          <template v-if=\"useDetailRow\">\r\n            <transition :name=\"detailRowTransition\" :key=\"itemIndex\">\r\n              <tr v-if=\"isVisibleDetailRow(item[trackBy])\"\r\n                :class=\"[css.detailRowClass]\"\r\n                @click=\"onDetailRowClick(item, $event)\"\r\n              >\r\n                <td :colspan=\"countVisibleFields\">\r\n                  <component :is=\"detailRowComponent\" :row-data=\"item\" :row-index=\"itemIndex\"></component>\r\n                </td>\r\n              </tr>\r\n            </transition>\r\n          </template>\r\n        </template>\r\n        <template v-if=\"displayEmptyDataRow\">\r\n          <tr>\r\n            <td :colspan=\"countVisibleFields\" class=\"vuetable-empty-result\" v-html=\"noDataTemplate\"></td>\r\n          </tr>\r\n        </template>\r\n        <template v-if=\"lessThanMinRows\">\r\n          <tr v-for=\"i in blankRows\" class=\"blank-row\" :key=\"i\">\r\n            <template v-for=\"(field, fieldIndex) in tableFields\">\r\n              <td v-if=\"field.visible\" :key=\"fieldIndex\">&nbsp;</td>\r\n            </template>\r\n          </tr>\r\n        </template>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n<table v-else :class=\"['vuetable', css.tableClass]\"> <!-- no fixed header - regular table -->\r\n  <thead>\r\n    <tr>\r\n      <template v-for=\"(field, fieldIndex) in tableFields\">\r\n        <template v-if=\"field.visible\">\r\n          <template v-if=\"isSpecialField(field.name)\">\r\n            <th v-if=\"extractName(field.name) == '__checkbox'\"\r\n              :key=\"fieldIndex\"\r\n              :style=\"{width: field.width}\"\r\n              :class=\"['vuetable-th-checkbox-'+trackBy, field.titleClass]\"\r\n            >\r\n              <input type=\"checkbox\" @change=\"toggleAllCheckboxes(field.name, $event)\"\r\n                :checked=\"checkCheckboxesState(field.name)\">\r\n            </th>\r\n            <th v-if=\"extractName(field.name) == '__component'\"\r\n              :key=\"fieldIndex\"\r\n              :style=\"{width: field.width}\"\r\n              :class=\"['vuetable-th-component-'+trackBy, field.titleClass, sortClass(field), {'sortable': isSortable(field)}]\"\r\n              v-html=\"renderTitle(field)\"\r\n              @click=\"orderBy(field, $event)\"\r\n            ></th>\r\n            <th v-if=\"extractName(field.name) == '__slot'\"\r\n              :key=\"fieldIndex\"\r\n              :style=\"{width: field.width}\"\r\n              :class=\"['vuetable-th-slot-'+extractArgs(field.name), field.titleClass, sortClass(field), {'sortable': isSortable(field)}]\"\r\n              v-html=\"renderTitle(field)\"\r\n              @click=\"orderBy(field, $event)\"\r\n            ></th>\r\n            <th v-if=\"extractName(field.name) == '__sequence'\"\r\n              :key=\"fieldIndex\"\r\n              :style=\"{width: field.width}\"\r\n              :class=\"['vuetable-th-sequence', field.titleClass || '', sortClass(field)]\" v-html=\"renderTitle(field)\"\r\n            ></th>\r\n            <th v-if=\"notIn(extractName(field.name), ['__sequence', '__checkbox', '__component', '__slot'])\"\r\n              :key=\"fieldIndex\"\r\n              :style=\"{width: field.width}\"\r\n              :class=\"['vuetable-th-'+field.name, field.titleClass || '', sortClass(field)]\" v-html=\"renderTitle(field)\"\r\n            ></th>\r\n          </template>\r\n          <template v-else>\r\n            <th @click=\"orderBy(field, $event)\"\r\n              :key=\"fieldIndex\"\r\n              :id=\"'_' + field.name\"\r\n              :style=\"{width: field.width}\"\r\n              :class=\"['vuetable-th-'+field.name, field.titleClass, sortClass(field),  {'sortable': isSortable(field)}]\"\r\n              v-html=\"renderTitle(field)\"\r\n            ></th>\r\n          </template>\r\n        </template>\r\n      </template>\r\n    </tr>\r\n  </thead>\r\n  <tbody v-cloak class=\"vuetable-body\">\r\n    <template v-for=\"(item, itemIndex) in tableData\">\r\n      <tr @dblclick=\"onRowDoubleClicked(item, $event)\" \r\n        :key=\"itemIndex\"\r\n        :item-index=\"itemIndex\" \r\n        :render=\"onRowChanged(item)\" \r\n        :class=\"onRowClass(item, itemIndex)\"\r\n        @click=\"onRowClicked(item, $event)\" \r\n      >\r\n        <template v-for=\"(field, fieldIndex) in tableFields\">\r\n          <template v-if=\"field.visible\">\r\n            <template v-if=\"isSpecialField(field.name)\">\r\n              <td v-if=\"extractName(field.name) == '__sequence'\" \r\n                :key=\"fieldIndex\"\r\n                :class=\"['vuetable-sequence', field.dataClass]\"\r\n                v-html=\"renderSequence(itemIndex)\"\r\n              ></td>\r\n              <td v-if=\"extractName(field.name) == '__handle'\" \r\n                :key=\"fieldIndex\"\r\n                :class=\"['vuetable-handle', field.dataClass]\"\r\n                v-html=\"renderIconTag(['handle-icon', css.handleIcon])\"\r\n              ></td>\r\n              <td v-if=\"extractName(field.name) == '__checkbox'\" \r\n                :key=\"fieldIndex\"\r\n                :class=\"['vuetable-checkboxes', field.dataClass]\"\r\n              >\r\n                <input type=\"checkbox\"\r\n                  @change=\"toggleCheckbox(item, field.name, $event)\"\r\n                  :checked=\"rowSelected(item, field.name)\">\r\n              </td>\r\n              <td v-if=\"extractName(field.name) === '__component'\" \r\n                :key=\"fieldIndex\"\r\n                :class=\"['vuetable-component', field.dataClass]\"\r\n              >\r\n                <component :is=\"extractArgs(field.name)\"\r\n                  :row-data=\"item\" :row-index=\"itemIndex\" :row-field=\"field.sortField\"\r\n                ></component>\r\n              </td>\r\n              <td v-if=\"extractName(field.name) === '__slot'\" \r\n                :key=\"fieldIndex\"\r\n                :class=\"['vuetable-slot', field.dataClass]\"\r\n              >\r\n                <slot :name=\"extractArgs(field.name)\"\r\n                  :row-data=\"item\" :row-index=\"itemIndex\" :row-field=\"field.sortField\"\r\n                ></slot>\r\n              </td>\r\n            </template>\r\n            <template v-else>\r\n              <td v-if=\"hasCallback(field)\" \r\n                :key=\"fieldIndex\"\r\n                :class=\"field.dataClass\"\r\n                v-html=\"callCallback(field, item)\"\r\n                @click=\"onCellClicked(item, field, $event)\"\r\n                @dblclick=\"onCellDoubleClicked(item, field, $event)\"\r\n                @contextmenu=\"onCellRightClicked(item, field, $event)\"\r\n              ></td>\r\n              <td v-else \r\n                :key=\"fieldIndex\"\r\n                :class=\"field.dataClass\"\r\n                v-html=\"getObjectValue(item, field.name, '')\"\r\n                @click=\"onCellClicked(item, field, $event)\"\r\n                @dblclick=\"onCellDoubleClicked(item, field, $event)\"\r\n                @contextmenu=\"onCellRightClicked(item, field, $event)\"\r\n              ></td>\r\n            </template>\r\n          </template>\r\n        </template>\r\n      </tr>\r\n      <template v-if=\"useDetailRow\">\r\n        <transition :name=\"detailRowTransition\" :key=\"itemIndex\">\r\n          <tr v-if=\"isVisibleDetailRow(item[trackBy])\"\r\n            :class=\"[css.detailRowClass]\"\r\n            @click=\"onDetailRowClick(item, $event)\"\r\n          >\r\n            <td :colspan=\"countVisibleFields\">\r\n              <component :is=\"detailRowComponent\" :row-data=\"item\" :row-index=\"itemIndex\"></component>\r\n            </td>\r\n          </tr>\r\n        </transition>\r\n      </template>\r\n    </template>\r\n    <template v-if=\"displayEmptyDataRow\">\r\n      <tr>\r\n        <td :colspan=\"countVisibleFields\" class=\"vuetable-empty-result\" v-html=\"noDataTemplate\"></td>\r\n      </tr>\r\n    </template>\r\n    <template v-if=\"lessThanMinRows\">\r\n      <tr v-for=\"i in blankRows\" class=\"blank-row\" :key=\"i\">\r\n        <template v-for=\"(field, fieldIndex) in tableFields\">\r\n          <td v-if=\"field.visible\" :key=\"fieldIndex\">&nbsp;</td>\r\n        </template>\r\n      </tr>\r\n    </template>\r\n  </tbody>\r\n</table>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  props: {\r\n    fields: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    loadOnStart: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    apiUrl: {\r\n        type: String,\r\n        default: ''\r\n    },\r\n    httpMethod: {\r\n        type: String,\r\n        default: 'get',\r\n        validator: (value) => {\r\n          return ['get', 'post'].indexOf(value) > -1\r\n        }\r\n    },\r\n    reactiveApiUrl: {\r\n        type: Boolean,\r\n        default: true\r\n    },\r\n    apiMode: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    data: {\r\n      type: [Array, Object],\r\n      default: null\r\n    },\r\n    dataTotal: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    dataManager: {\r\n      type: Function,\r\n      default: null\r\n    },\r\n    dataPath: {\r\n        type: String,\r\n        default: 'data'\r\n    },\r\n    paginationPath: {\r\n        type: [String],\r\n        default: 'links.pagination'\r\n    },\r\n    queryParams: {\r\n      type: [Object, Function],\r\n      default () {\r\n        return {\r\n          sort: 'sort',\r\n          page: 'page',\r\n          perPage: 'per_page'\r\n        }\r\n      }\r\n    },\r\n    appendParams: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    },\r\n    httpOptions: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    },\r\n    httpFetch: {\r\n      type: Function,\r\n      default: null\r\n    },\r\n    perPage: {\r\n        type: Number,\r\n        default: 10\r\n    },\r\n    initialPage: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    sortOrder: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n    multiSort: {\r\n      type: Boolean,\r\n      default () {\r\n        return false\r\n      }\r\n    },\r\n    tableHeight: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    /*\r\n     * physical key that will trigger multi-sort option\r\n     * possible values: 'alt', 'ctrl', 'meta', 'shift'\r\n     * 'ctrl' might not work as expected on Mac\r\n     */\r\n    multiSortKey: {\r\n      type: String,\r\n      default: 'alt'\r\n    },\r\n    /* deprecated */\r\n    rowClassCallback: {\r\n      type: [String, Function],\r\n      default: ''\r\n    },\r\n    rowClass: {\r\n      type: [String, Function],\r\n      default: ''\r\n    },\r\n    detailRowComponent: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    detailRowTransition: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    trackBy: {\r\n      type: String,\r\n      default: 'id'\r\n    },\r\n    css: {\r\n      type: Object,\r\n      default () {\r\n        return {\r\n          tableClass: 'ui blue selectable celled stackable attached table',\r\n          loadingClass: 'loading',\r\n          ascendingIcon: 'blue chevron up icon',\r\n          descendingIcon: 'blue chevron down icon',\r\n          ascendingClass: 'sorted-asc',\r\n          descendingClass: 'sorted-desc',\r\n          sortableIcon: '',\r\n          detailRowClass: 'vuetable-detail-row',\r\n          handleIcon: 'grey sidebar icon',\r\n          tableBodyClass: 'vuetable-semantic-no-top vuetable-fixed-layout',\r\n          tableHeaderClass: 'vuetable-fixed-layout'\r\n        }\r\n      }\r\n    },\r\n    minRows: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    silent: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    noDataTemplate: {\r\n      type: String,\r\n      default() {\r\n        return 'No Data Available'\r\n      }\r\n    },\r\n    showSortIcons: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      eventPrefix: 'vuetable:',\r\n      tableFields: [],\r\n      tableData: null,\r\n      tablePagination: null,\r\n      currentPage: this.initialPage,\r\n      selectedTo: [],\r\n      visibleDetailRows: [],\r\n      lastScrollPosition: 0,\r\n      scrollBarWidth: '17px', //chrome default\r\n      scrollVisible: false,\r\n    }\r\n  },\r\n  mounted () {\r\n    this.normalizeFields()\r\n    this.normalizeSortOrder()\r\n    if (this.isFixedHeader) {\r\n      this.scrollBarWidth = this.getScrollBarWidth() + 'px';\r\n    }\r\n    this.$nextTick(function() {\r\n      this.fireEvent('initialized', this.tableFields)\r\n    })\r\n\r\n    if (this.loadOnStart) {\r\n      this.loadData()\r\n    }\r\n    if (this.isFixedHeader) {\r\n      let elem = this.$el.getElementsByClassName('vuetable-body-wrapper')[0];\r\n      if (elem != null) {\r\n        elem.addEventListener('scroll', this.handleScroll);\r\n      }\r\n    }\r\n  },\r\n  destroyed () {\r\n    let elem = this.$el.getElementsByClassName('vuetable-body-wrapper')[0];\r\n    if (elem != null) {\r\n      elem.removeEventListener('scroll', this.handleScroll);\r\n    }\r\n  },\r\n  computed: {\r\n    version: () => VERSION,\r\n    useDetailRow () {\r\n      if (this.tableData && this.tableData[0] && this.detailRowComponent !== '' && typeof this.tableData[0][this.trackBy] === 'undefined') {\r\n        this.warn('You need to define unique row identifier in order for detail-row feature to work. Use `track-by` prop to define one!')\r\n        return false\r\n      }\r\n\r\n      return this.detailRowComponent !== ''\r\n    },\r\n    countVisibleFields () {\r\n      return this.tableFields.filter(function(field) {\r\n        return field.visible\r\n      }).length\r\n    },\r\n    countTableData () {\r\n      if (this.tableData === null) {\r\n        return 0\r\n      }\r\n      return this.tableData.length\r\n    },\r\n    displayEmptyDataRow () {\r\n      return this.countTableData === 0 && this.noDataTemplate.length > 0\r\n    },\r\n    lessThanMinRows () {\r\n      if (this.tableData === null || this.tableData.length === 0) {\r\n        return true\r\n      }\r\n      return this.tableData.length < this.minRows\r\n    },\r\n    blankRows () {\r\n      if (this.tableData === null || this.tableData.length === 0) {\r\n        return this.minRows\r\n      }\r\n      if (this.tableData.length >= this.minRows) {\r\n        return 0\r\n      }\r\n\r\n      return this.minRows - this.tableData.length\r\n    },\r\n    isApiMode () {\r\n      return this.apiMode\r\n    },\r\n    isDataMode () {\r\n      return ! this.apiMode\r\n    },\r\n    isFixedHeader () {\r\n      return this.tableHeight != null\r\n    }\r\n  },\r\n  methods: {\r\n    getScrollBarWidth () {\r\n      const outer = document.createElement('div');\r\n      const inner = document.createElement('div');\r\n\r\n      outer.style.visibility = 'hidden';\r\n      outer.style.width = '100px';\r\n\r\n      inner.style.width = '100%';\r\n\r\n\r\n      outer.appendChild(inner);\r\n      document.body.appendChild(outer);\r\n\r\n\r\n      const widthWithoutScrollbar = outer.offsetWidth;\r\n\r\n      outer.style.overflow = 'scroll';\r\n\r\n      const widthWithScrollbar = inner.offsetWidth;\r\n\r\n\r\n      document.body.removeChild(outer);\r\n\r\n\r\n      return (widthWithoutScrollbar - widthWithScrollbar);\r\n    },\r\n    handleScroll (e) { //make sure that the header and the body are aligned when scrolling horizontally on a table that is wider than the viewport\r\n      let horizontal = e.currentTarget.scrollLeft;\r\n      if (horizontal != this.lastScrollPosition) { //don't modify header scroll if we are scrolling vertically\r\n        let header = this.$el.getElementsByClassName('vuetable-head-wrapper')[0]\r\n        if (header != null) {\r\n          header.scrollLeft = horizontal;\r\n        }\r\n        this.lastScrollPosition = horizontal;\r\n      }\r\n\r\n    },\r\n    normalizeFields () {\r\n      if (typeof(this.fields) === 'undefined') {\r\n        this.warn('You need to provide \"fields\" prop.')\r\n        return\r\n      }\r\n\r\n      this.tableFields = []\r\n      let self = this\r\n      let obj\r\n      this.fields.forEach(function(field, i) {\r\n        if (typeof (field) === 'string') {\r\n          obj = {\r\n            name: field,\r\n            title: self.setTitle(field),\r\n            titleClass: '',\r\n            dataClass: '',\r\n            callback: null,\r\n            visible: true,\r\n          }\r\n        } else {\r\n          obj = {\r\n            name: field.name,\r\n            width: field.width,\r\n            title: (field.title === undefined) ? self.setTitle(field.name) : field.title,\r\n            sortField: field.sortField,\r\n            titleClass: (field.titleClass === undefined) ? '' : field.titleClass,\r\n            dataClass: (field.dataClass === undefined) ? '' : field.dataClass,\r\n            callback: (field.callback === undefined) ? '' : field.callback,\r\n            visible: (field.visible === undefined) ? true : field.visible,\r\n          }\r\n        }\r\n        self.tableFields.push(obj)\r\n      })\r\n    },\r\n    setData (data) {\r\n      if (data === null || typeof(data) === 'undefined') return\r\n\r\n      this.fireEvent('loading')\r\n\r\n      if (Array.isArray(data)) {\r\n        this.tableData = data\r\n        this.fireEvent('loaded')\r\n        return\r\n      }\r\n\r\n      this.tableData = this.getObjectValue(data, this.dataPath, null)\r\n      this.tablePagination = this.getObjectValue(data, this.paginationPath, null)\r\n\r\n      this.$nextTick(function() {\r\n        this.fixHeader()\r\n        this.fireEvent('pagination-data', this.tablePagination)\r\n        this.fireEvent('loaded')\r\n      })\r\n    },\r\n    setTitle (str) {\r\n      if (this.isSpecialField(str)) {\r\n        return ''\r\n      }\r\n\r\n      return this.titleCase(str)\r\n    },\r\n    getTitle (field) {\r\n      if (typeof(field.title) === 'function') return field.title()\r\n\r\n      return typeof(field.title) === 'undefined'\r\n        ? field.name.replace('.', ' ')\r\n        : field.title\r\n    },\r\n    renderTitle (field) {\r\n      let title = this.getTitle(field)\r\n\r\n      if (title.length > 0 && this.isInCurrentSortGroup(field) || this.hasSortableIcon(field)) {\r\n        let style = `opacity:${this.sortIconOpacity(field)};position:relative;float:right`\r\n        let iconTag = this.showSortIcons ? this.renderIconTag(['sort-icon', this.sortIcon(field)], `style=\"${style}\"`) : ''\r\n        return title + ' ' + iconTag\r\n      }\r\n\r\n      return title\r\n    },\r\n    renderSequence (index) {\r\n      return this.tablePagination\r\n        ? this.tablePagination.from + index\r\n        : index\r\n    },\r\n    renderNormalField (field, item) {\r\n      return this.hasCallback(field)\r\n        ? this.callCallback(field, item)\r\n        : this.getObjectValue(item, field.name, '')\r\n    },\r\n    isSpecialField (fieldName) {\r\n      return fieldName.slice(0, 2) === '__'\r\n    },\r\n    titleCase (str) {\r\n      return str.replace(/\\w+/g, function(txt) {\r\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\r\n      })\r\n    },\r\n    camelCase (str, delimiter = '_') {\r\n      let self = this\r\n      return str.split(delimiter).map(function(item) {\r\n        return self.titleCase(item)\r\n      }).join('')\r\n    },\r\n    notIn (str, arr) {\r\n      return arr.indexOf(str) === -1\r\n    },\r\n    loadData (success = this.loadSuccess, failed = this.loadFailed) {\r\n      if (this.isDataMode) {\r\n        this.callDataManager()\r\n        return\r\n      }\r\n\r\n      this.fireEvent('loading')\r\n\r\n      this.httpOptions['params'] = this.getAppendParams( this.getAllQueryParams() )\r\n\r\n      return this.fetch(this.apiUrl, this.httpOptions).then(\r\n          success,\r\n          failed\r\n      ).catch(() => failed())\r\n    },\r\n    fetch (apiUrl, httpOptions) {\r\n      return this.httpFetch\r\n          ? this.httpFetch(apiUrl, httpOptions)\r\n          : axios[this.httpMethod](apiUrl, httpOptions)\r\n    },\r\n    loadSuccess (response) {\r\n      this.fireEvent('load-success', response)\r\n\r\n      let body = this.transform(response.data)\r\n\r\n      this.tableData = this.getObjectValue(body, this.dataPath, null)\r\n      this.tablePagination = this.getObjectValue(body, this.paginationPath, null)\r\n\r\n      if (this.tablePagination === null) {\r\n        this.warn('vuetable: pagination-path \"' + this.paginationPath + '\" not found. '\r\n          + 'It looks like the data returned from the sever does not have pagination information '\r\n          + \"or you may have set it incorrectly.\\n\"\r\n          + 'You can explicitly suppress this warning by setting pagination-path=\"\".'\r\n        )\r\n      }\r\n\r\n      this.$nextTick(function() {\r\n        this.fixHeader()\r\n        this.fireEvent('pagination-data', this.tablePagination)\r\n        this.fireEvent('loaded')\r\n      })\r\n    },\r\n    fixHeader() {\r\n      if (!this.isFixedHeader) {\r\n        return;\r\n      }\r\n\r\n      let elem = this.$el.getElementsByClassName('vuetable-body-wrapper')[0]\r\n      if (elem != null) {\r\n        if (elem.scrollHeight > elem.clientHeight) {\r\n          this.scrollVisible = true;\r\n        }\r\n        else {\r\n          this.scrollVisible = false;\r\n        }\r\n      }\r\n    },\r\n    loadFailed (response) {\r\n      console.error('load-error', response)\r\n      this.fireEvent('load-error', response)\r\n      this.fireEvent('loaded')\r\n    },\r\n    transform (data) {\r\n      let func = 'transform'\r\n\r\n      if (this.parentFunctionExists(func)) {\r\n          return this.$parent[func].call(this.$parent, data)\r\n      }\r\n\r\n      return data\r\n    },\r\n    parentFunctionExists (func) {\r\n      return (func !== '' && typeof this.$parent[func] === 'function')\r\n    },\r\n    callParentFunction (func, args, defaultValue = null) {\r\n      if (this.parentFunctionExists(func)) {\r\n        return this.$parent[func].call(this.$parent, args)\r\n      }\r\n\r\n      return defaultValue\r\n    },\r\n    fireEvent (eventName, args) {\r\n      this.$emit(this.eventPrefix + eventName, args)\r\n    },\r\n    warn (msg) {\r\n      if (!this.silent) {\r\n        console.warn(msg)\r\n      }\r\n    },\r\n    getAllQueryParams () {\r\n      let params = {}\r\n\r\n      if (typeof(this.queryParams) === 'function') {\r\n        params = this.queryParams(this.sortOrder, this.currentPage, this.perPage)\r\n        return typeof(params) !== 'object' ? {} : params\r\n      }\r\n\r\n      params[this.queryParams.sort] = this.getSortParam()\r\n      params[this.queryParams.page] = this.currentPage\r\n      params[this.queryParams.perPage] = this.perPage\r\n\r\n      return params\r\n    },\r\n    getSortParam () {\r\n      if (!this.sortOrder || this.sortOrder.field == '') {\r\n        return ''\r\n      }\r\n\r\n      if (typeof this.$parent['getSortParam'] === 'function') {\r\n        return this.$parent['getSortParam'].call(this.$parent, this.sortOrder)\r\n      }\r\n\r\n      return this.getDefaultSortParam()\r\n    },\r\n    getDefaultSortParam () {\r\n      let result = '';\r\n\r\n      for (let i = 0; i < this.sortOrder.length; i++) {\r\n        let fieldName = (typeof this.sortOrder[i].sortField === 'undefined')\r\n          ? this.sortOrder[i].field\r\n          : this.sortOrder[i].sortField;\r\n\r\n        result += fieldName + '|' + this.sortOrder[i].direction + ((i+1) < this.sortOrder.length ? ',' : '');\r\n      }\r\n      return result;\r\n    },\r\n    getAppendParams (params) {\r\n      for (let x in this.appendParams) {\r\n        params[x] = this.appendParams[x]\r\n      }\r\n\r\n      return params\r\n    },\r\n    extractName (string) {\r\n      return string.split(':')[0].trim()\r\n    },\r\n    extractArgs (string) {\r\n      return string.split(':')[1]\r\n    },\r\n    isSortable (field) {\r\n      return !(typeof field.sortField === 'undefined')\r\n    },\r\n    isInCurrentSortGroup (field) {\r\n      return this.currentSortOrderPosition(field) !== false;\r\n    },\r\n    hasSortableIcon (field) {\r\n      return this.isSortable(field) && this.css.sortableIcon != ''\r\n    },\r\n    currentSortOrderPosition (field) {\r\n      if ( ! this.isSortable(field)) {\r\n        return false\r\n      }\r\n\r\n      for (let i = 0; i < this.sortOrder.length; i++) {\r\n        if (this.fieldIsInSortOrderPosition(field, i)) {\r\n          return i;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n    fieldIsInSortOrderPosition (field, i) {\r\n      return this.sortOrder[i].field === field.name && this.sortOrder[i].sortField === field.sortField\r\n    },\r\n    orderBy (field, event) {\r\n      if ( ! this.isSortable(field) ) return\r\n\r\n      let key = this.multiSortKey.toLowerCase() + 'Key'\r\n\r\n      if (this.multiSort && event[key]) { //adding column to multisort\r\n        this.multiColumnSort(field)\r\n      } else {\r\n        //no multisort, or resetting sort\r\n        this.singleColumnSort(field)\r\n      }\r\n\r\n      this.currentPage = 1    // reset page index\r\n      if (this.apiMode || this.dataManager) {\r\n        this.loadData()\r\n      }\r\n    },\r\n    multiColumnSort (field) {\r\n      let i = this.currentSortOrderPosition(field);\r\n\r\n      if(i === false) { //this field is not in the sort array yet\r\n        this.sortOrder.push({\r\n          field: field.name,\r\n          sortField: field.sortField,\r\n          direction: 'asc'\r\n        });\r\n      } else { //this field is in the sort array, now we change its state\r\n        if(this.sortOrder[i].direction === 'asc') {\r\n          // switch direction\r\n          this.sortOrder[i].direction = 'desc'\r\n        } else {\r\n          //remove sort condition\r\n          this.sortOrder.splice(i, 1);\r\n        }\r\n      }\r\n    },\r\n    singleColumnSort (field) {\r\n      if (this.sortOrder.length === 0) {\r\n        this.clearSortOrder()\r\n      }\r\n\r\n      this.sortOrder.splice(1); //removes additional columns\r\n\r\n      if (this.fieldIsInSortOrderPosition(field, 0)) {\r\n        // change sort direction\r\n        this.sortOrder[0].direction = this.sortOrder[0].direction === 'asc' ? 'desc' : 'asc'\r\n      } else {\r\n        // reset sort direction\r\n        this.sortOrder[0].direction = 'asc'\r\n      }\r\n      this.sortOrder[0].field = field.name\r\n      this.sortOrder[0].sortField = field.sortField\r\n    },\r\n    clearSortOrder () {\r\n      this.sortOrder.push({\r\n        field: '',\r\n        sortField: '',\r\n        direction: 'asc'\r\n      });\r\n    },\r\n    sortClass (field) {\r\n      let cls = ''\r\n      let i = this.currentSortOrderPosition(field)\r\n\r\n      if (i !== false) {\r\n        cls = (this.sortOrder[i].direction == 'asc') ? this.css.ascendingClass : this.css.descendingClass\r\n      }\r\n\r\n      return cls\r\n    },\r\n    sortIcon (field) {\r\n      let cls = this.css.sortableIcon\r\n      let i = this.currentSortOrderPosition(field)\r\n\r\n      if (i !== false) {\r\n        cls = (this.sortOrder[i].direction == 'asc') ? this.css.ascendingIcon : this.css.descendingIcon\r\n      }\r\n\r\n      return cls;\r\n    },\r\n    sortIconOpacity (field) {\r\n      /*\r\n       * fields with stronger precedence have darker color\r\n       *\r\n       * if there are few fields, we go down by 0.3\r\n       * ex. 2 fields are selected: 1.0, 0.7\r\n       *\r\n       * if there are more we go down evenly on the given spectrum\r\n       * ex. 6 fields are selected: 1.0, 0.86, 0.72, 0.58, 0.44, 0.3\r\n       */\r\n      let max = 1.0,\r\n          min = 0.3,\r\n          step = 0.3\r\n\r\n      let count = this.sortOrder.length;\r\n      let current = this.currentSortOrderPosition(field)\r\n\r\n\r\n      if(max - count * step < min) {\r\n        step = (max - min) / (count-1)\r\n      }\r\n\r\n      let opacity = max - current * step\r\n\r\n      return opacity\r\n    },\r\n    hasCallback (item) {\r\n      return item.callback ? true : false\r\n    },\r\n    callCallback (field, item) {\r\n      if ( ! this.hasCallback(field)) return\r\n\r\n      if(typeof(field.callback) == 'function') {\r\n       return field.callback(this.getObjectValue(item, field.name))\r\n      }\r\n\r\n      let args = field.callback.split('|')\r\n      let func = args.shift()\r\n\r\n      if (typeof this.$parent[func] === 'function') {\r\n        let value = this.getObjectValue(item, field.name)\r\n\r\n        return (args.length > 0)\r\n          ? this.$parent[func].apply(this.$parent, [value].concat(args))\r\n          : this.$parent[func].call(this.$parent, value)\r\n      }\r\n\r\n      return null\r\n    },\r\n    getObjectValue (object, path, defaultValue) {\r\n      defaultValue = (typeof defaultValue === 'undefined') ? null : defaultValue\r\n\r\n      let obj = object\r\n      if (path.trim() != '') {\r\n        let keys = path.split('.')\r\n        keys.forEach(function(key) {\r\n          if (obj !== null && typeof obj[key] !== 'undefined' && obj[key] !== null) {\r\n            obj = obj[key]\r\n          } else {\r\n            obj = defaultValue\r\n            return\r\n          }\r\n        })\r\n      }\r\n      return obj\r\n    },\r\n    toggleCheckbox (dataItem, fieldName, event) {\r\n      let isChecked = event.target.checked\r\n      let idColumn = this.trackBy\r\n\r\n      if (dataItem[idColumn] === undefined) {\r\n        this.warn('__checkbox field: The \"'+this.trackBy+'\" field does not exist! Make sure the field you specify in \"track-by\" prop does exist.')\r\n        return\r\n      }\r\n\r\n      let key = dataItem[idColumn]\r\n      if (isChecked) {\r\n        this.selectId(key)\r\n      } else {\r\n        this.unselectId(key)\r\n      }\r\n      this.$emit('vuetable:checkbox-toggled', isChecked, dataItem)\r\n    },\r\n    selectId (key) {\r\n      if ( ! this.isSelectedRow(key)) {\r\n        this.selectedTo.push(key)\r\n      }\r\n    },\r\n    unselectId (key) {\r\n      this.selectedTo = this.selectedTo.filter(function(item) {\r\n        return item !== key\r\n      })\r\n    },\r\n    isSelectedRow (key) {\r\n      return this.selectedTo.indexOf(key) >= 0\r\n    },\r\n    rowSelected (dataItem, fieldName){\r\n      let idColumn = this.trackBy\r\n      let key = dataItem[idColumn]\r\n\r\n      return this.isSelectedRow(key)\r\n    },\r\n    checkCheckboxesState (fieldName) {\r\n      if (! this.tableData) return\r\n\r\n      let self = this\r\n      let idColumn = this.trackBy\r\n      let selector = 'th.vuetable-th-checkbox-' + idColumn + ' input[type=checkbox]'\r\n      let els = document.querySelectorAll(selector)\r\n\r\n      //fixed:document.querySelectorAll return the typeof nodeList not array\r\n      if (els.forEach===undefined)\r\n        els.forEach=function(cb){\r\n          [].forEach.call(els, cb);\r\n        }\r\n\r\n      // count how many checkbox row in the current page has been checked\r\n      let selected = this.tableData.filter(function(item) {\r\n        return self.selectedTo.indexOf(item[idColumn]) >= 0\r\n      })\r\n\r\n      // count == 0, clear the checkbox\r\n      if (selected.length <= 0) {\r\n        els.forEach(function(el) {\r\n          el.indeterminate = false\r\n        })\r\n        return false\r\n      }\r\n      // count > 0 and count < perPage, set checkbox state to 'indeterminate'\r\n      else if (selected.length < this.perPage) {\r\n        els.forEach(function(el) {\r\n          el.indeterminate = true\r\n        })\r\n        return true\r\n      }\r\n      // count == perPage, set checkbox state to 'checked'\r\n      else {\r\n        els.forEach(function(el) {\r\n          el.indeterminate = false\r\n        })\r\n        return true\r\n      }\r\n    },\r\n    toggleAllCheckboxes (fieldName, event) {\r\n      let self = this\r\n      let isChecked = event.target.checked\r\n      let idColumn = this.trackBy\r\n\r\n      if (isChecked) {\r\n        this.tableData.forEach(function(dataItem) {\r\n          self.selectId(dataItem[idColumn])\r\n        })\r\n      } else {\r\n        this.tableData.forEach(function(dataItem) {\r\n          self.unselectId(dataItem[idColumn])\r\n        })\r\n      }\r\n      this.$emit('vuetable:checkbox-toggled-all', isChecked)\r\n    },\r\n    gotoPreviousPage () {\r\n      if (this.currentPage > 1) {\r\n        this.currentPage--\r\n        this.loadData()\r\n      }\r\n    },\r\n    gotoNextPage () {\r\n      if (this.currentPage < this.tablePagination.last_page) {\r\n        this.currentPage++\r\n        this.loadData()\r\n      }\r\n    },\r\n    gotoPage (page) {\r\n      if (page != this.currentPage && (page > 0 && page <= this.tablePagination.last_page)) {\r\n        this.currentPage = page\r\n        this.loadData()\r\n      }\r\n    },\r\n    isVisibleDetailRow (rowId) {\r\n      return this.visibleDetailRows.indexOf( rowId ) >= 0\r\n    },\r\n    showDetailRow (rowId) {\r\n      if (!this.isVisibleDetailRow(rowId)) {\r\n        this.visibleDetailRows.push(rowId)\r\n      }\r\n    },\r\n    hideDetailRow (rowId) {\r\n      if (this.isVisibleDetailRow(rowId)) {\r\n        this.visibleDetailRows.splice(\r\n          this.visibleDetailRows.indexOf(rowId),\r\n          1\r\n        )\r\n      }\r\n    },\r\n    toggleDetailRow (rowId) {\r\n      if (this.isVisibleDetailRow(rowId)) {\r\n        this.hideDetailRow(rowId)\r\n      } else {\r\n        this.showDetailRow(rowId)\r\n      }\r\n    },\r\n    showField (index) {\r\n      if (index < 0 || index > this.tableFields.length) return\r\n\r\n      this.tableFields[index].visible = true\r\n    },\r\n    hideField (index) {\r\n      if (index < 0 || index > this.tableFields.length) return\r\n\r\n      this.tableFields[index].visible = false\r\n    },\r\n    toggleField (index) {\r\n      if (index < 0 || index > this.tableFields.length) return\r\n\r\n      this.tableFields[index].visible = ! this.tableFields[index].visible\r\n    },\r\n    renderIconTag (classes, options = '') {\r\n      return typeof(this.css.renderIcon) === 'undefined'\r\n        ? `<i class=\"${classes.join(' ')}\" ${options}></i>`\r\n        : this.css.renderIcon(classes, options)\r\n    },\r\n    makePagination (total = null, perPage = null, currentPage = null) {\r\n      let pagination = {}\r\n      total = total === null ? this.dataTotal : total\r\n      perPage = perPage === null ? this.perPage : perPage\r\n      currentPage = currentPage === null ? this.currentPage : currentPage\r\n\r\n      return {\r\n        'total': total,\r\n        'per_page': perPage,\r\n        'current_page': currentPage,\r\n        'last_page': Math.ceil(total / perPage) || 0,\r\n        'next_page_url': '',\r\n        'prev_page_url': '',\r\n        'from': (currentPage -1) * perPage +1,\r\n        'to': Math.min(currentPage * perPage, total)\r\n      }\r\n    },\r\n    normalizeSortOrder () {\r\n      this.sortOrder.forEach(function(item) {\r\n        item.sortField = item.sortField || item.field\r\n      })\r\n    },\r\n    callDataManager () {\r\n      if (this.dataManager === null && this.data === null) return\r\n\r\n      if (Array.isArray(this.data)) {\r\n        return this.setData(this.data)\r\n      } \r\n      \r\n      this.normalizeSortOrder()\r\n\r\n      return this.setData(\r\n        this.dataManager\r\n          ? this.dataManager(this.sortOrder, this.makePagination())\r\n          : this.data\r\n      )\r\n    },\r\n    onRowClass (dataItem, index) {\r\n      if (this.rowClassCallback !== '') {\r\n        this.warn('\"row-class-callback\" prop is deprecated, please use \"row-class\" prop instead.')\r\n        return\r\n      }\r\n\r\n      if (typeof(this.rowClass) === 'function') {\r\n        return this.rowClass(dataItem, index)\r\n      }\r\n\r\n      return this.rowClass\r\n    },\r\n    onRowChanged (dataItem) {\r\n      this.fireEvent('row-changed', dataItem)\r\n      return true\r\n    },\r\n    onRowClicked (dataItem, event) {\r\n      this.$emit(this.eventPrefix + 'row-clicked', dataItem, event)\r\n      return true\r\n    },\r\n    onRowDoubleClicked (dataItem, event) {\r\n      this.$emit(this.eventPrefix + 'row-dblclicked', dataItem, event)\r\n    },\r\n    onDetailRowClick (dataItem, event) {\r\n      this.$emit(this.eventPrefix + 'detail-row-clicked', dataItem, event)\r\n    },\r\n    onCellClicked (dataItem, field, event) {\r\n      this.$emit(this.eventPrefix + 'cell-clicked', dataItem, field, event)\r\n    },\r\n    onCellDoubleClicked (dataItem, field, event) {\r\n      this.$emit(this.eventPrefix + 'cell-dblclicked', dataItem, field, event)\r\n    },\r\n    onCellRightClicked (dataItem, field, event) {\r\n      this.$emit(this.eventPrefix + 'cell-rightclicked', dataItem, field, event)\r\n    },\r\n    /*\r\n     * API for externals\r\n     */\r\n    changePage (page) {\r\n      if (page === 'prev') {\r\n        this.gotoPreviousPage()\r\n      } else if (page === 'next') {\r\n        this.gotoNextPage()\r\n      } else {\r\n        this.gotoPage(page)\r\n      }\r\n    },\r\n    reload () {\r\n      return this.loadData()\r\n    },\r\n    refresh () {\r\n      this.currentPage = 1\r\n      return this.loadData()\r\n    },\r\n    resetData () {\r\n      this.tableData = null\r\n      this.tablePagination = null\r\n      this.fireEvent('data-reset')\r\n    }\r\n  }, // end: methods\r\n  watch: {\r\n    'multiSort' (newVal, oldVal) {\r\n      if (newVal === false && this.sortOrder.length > 1) {\r\n        this.sortOrder.splice(1);\r\n        this.loadData();\r\n      }\r\n    },\r\n    'apiUrl'  (newVal, oldVal) {\r\n      if(this.reactiveApiUrl && newVal !== oldVal)\r\n        this.refresh()\r\n    },\r\n    'data' (newVal, oldVal) {\r\n      this.setData(newVal)\r\n    },\r\n    'tableHeight' (newVal, oldVal) {\r\n      this.fixHeader()\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  [v-cloak] {\r\n    display: none;\r\n  }\r\n  .vuetable th.sortable:hover {\r\n    color: #2185d0;\r\n    cursor: pointer;\r\n  }\r\n  .vuetable-body-wrapper {\r\n    position:relative;\r\n    overflow-y:auto;\r\n  }\r\n  .vuetable-head-wrapper {\r\n    overflow-x: hidden;\r\n  }\r\n  .vuetable-actions {\r\n    width: 15%;\r\n    padding: 12px 0px;\r\n    text-align: center;\r\n  }\r\n  .vuetable-pagination {\r\n    background: #f9fafb !important;\r\n  }\r\n  .vuetable-pagination-info {\r\n    margin-top: auto;\r\n    margin-bottom: auto;\r\n  }\r\n  .vuetable-empty-result {\r\n    text-align: center;\r\n  }\r\n  .vuetable-clip-text {\r\n    white-space: pre-wrap;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    display: block;\r\n  }\r\n  .vuetable-semantic-no-top {\r\n    border-top:none !important;\r\n    margin-top:0 !important;\r\n  }\r\n  .vuetable-fixed-layout {\r\n    table-layout: fixed;\r\n  }\r\n  .vuetable-gutter-col {\r\n    padding: 0 !important;\r\n    border-left: none  !important;\r\n    border-right: none  !important;\r\n  }\r\n</style>\r\n"]}]}