{"remainingRequest":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/src/components/ui/chat/Chat.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/src/components/ui/chat/Chat.vue","mtime":1602761897212},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY2hhdCB7CiAgJl9fY29udGVudCB7CiAgICBAaW5jbHVkZSB2YS1mbGV4LWNlbnRlcigpOwogIH0KfQoKJGNoYXQtbWVzc2FnZS1icjogMC42NXJlbTsKCi52YS1jaGF0IHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgcGFkZGluZzogMDsKICBkaXNwbGF5OiBncmlkOwogIGdyaWQtdGVtcGxhdGUtcm93czogMWZyIDZyZW07CgogICZfX2JvZHkgewogICAgcGFkZGluZzogMjBweCAxMHB4OwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBvdmVyZmxvdy15OiBhdXRvOwoKICAgICYtbWVzc2FnZXMgewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7CiAgICAgIG1heC1oZWlnaHQ6IDMwMHB4OwogICAgfQogIH0KCiAgJl9fbWVzc2FnZSB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBwYWRkaW5nOiAwLjY1N3JlbSAxLjM3NXJlbTsKICAgIG1hcmdpbi1ib3R0b206ICRjaGF0LW1lc3NhZ2UtYnI7CiAgICBtYXgtd2lkdGg6IDcwJTsKICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7CiAgICBib3JkZXItcmFkaXVzOiAwLjVyZW07CiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwOwogICAgYWxpZ24tc2VsZjogZmxleC1zdGFydDsKICAgIGJhY2tncm91bmQtY29sb3I6ICRsaWdodC1ncmF5MjsKICAgIHRyYW5zaXRpb246IHBhZGRpbmcgMC4zczsKCiAgICAmLWluZm8gewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHRvcDogMC40cmVtOwogICAgICBmb250LXNpemU6IDAuNnJlbTsKICAgIH0KCiAgICAmLXRleHQgewogICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgfQoKICAgICY6bGFzdC1jaGlsZCB7CiAgICAgIG1hcmdpbi1ib3R0b206IDA7CiAgICB9CgogICAgJi0teW91cnMgewogICAgICBhbGlnbi1zZWxmOiBmbGV4LWVuZDsKICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7CiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDAuNXJlbTsKICAgIH0KCiAgICAmX2RhdGUgewogICAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjsKICAgICAgZm9udC1zaXplOiAwLjhyZW07CiAgICAgIG9wYWNpdHk6IDA7CiAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC41czsKICAgIH0KICB9CgogICZfX2NvbnRyb2xzIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgaGVpZ2h0OiAxMDAlOwogICAgd2lkdGg6IDEwMCU7CiAgfQoKICAmX19pbnB1dCB7CiAgICBtYXJnaW4tYm90dG9tOiAwOwogICAgY29sb3I6IHdoaXRlOwogIH0KfQo="},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Chat.vue","sourceRoot":"src/components/ui/chat","sourcesContent":["<template>\n  <div class=\"va-chat\">\n    <div\n      class=\"va-chat__body\"\n      :style=\"{ backgroundColor: '#00000017' }\"\n      v-sticky-scroll=\"{\n        animate: true,\n        duration: 200,\n      }\"\n    >\n      <div class=\"va-chat__body-messages\">\n        <div\n          class=\"va-chat__message\"\n          v-for=\"(message, index) in value\"\n          :key=\"index\"\n          :style=\"{\n            ...(message.yours ? computedYoursStyle : computedStyle),\n            paddingTop: !message.delivered ? '1.4rem' : '0.657rem',\n          }\"\n          :class=\"{ 'va-chat__message--yours': message.yours }\"\n        >\n          <div\n            class=\"va-chat__message-info\"\n            :style=\"{\n              left: message.yours ? 'auto' : '0.5rem',\n              right: message.yours ? '0.5rem' : 'auto',\n            }\"\n          >\n            <va-icon\n              name=\"fa fa-spinner fa-spin\"\n              v-if=\"!message.delivered\"\n            ></va-icon>\n          </div>\n\n          <span\n            class=\"va-chat__message-text\"\n            :style=\"{\n              textAlign: message.yours ? 'right' : 'left',\n            }\"\n          >\n            {{ message.text }}\n          </span>\n          <span\n            class=\"va-chat__message_date\"\n            :style=\"{\n              opacity: 0.4,\n              textAlign: message.yours ? 'right' : 'left',\n            }\"\n          >\n            {{ message.date }}\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class=\"va-chat__controls\">\n      <va-input\n        :autosize=\"true\"\n        v-model=\"inputMessage\"\n        @keypress.enter=\"sendMessage\"\n        :placeholder=\"$t('dashboard.support.placeholder')\"\n        class=\"va-chat__input\"\n      />\n      <va-button @click=\"sendMessage\">\n        {{ $t('buttons.send') }}\n      </va-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { StickyScroll } from '../../../services/vuestic-ui/components'\n\nexport default {\n  name: 'chat',\n  directives: { StickyScroll },\n  data() {\n    return {\n      inputMessage: '',\n    }\n  },\n  computed: {\n    computedStyle() {\n      return { backgroundColor: this.$themes.darkForeground, color: 'white' }\n    },\n    computedYoursStyle() {\n      return { backgroundColor: this.$themes.info, color: 'white' }\n    },\n  },\n  props: {\n    value: Array,\n  },\n  watch: {\n    value: 'scrollToBottom',\n  },\n  methods: {\n    scrollToBottom() {\n      setTimeout(() => {\n        var messages = document.querySelector('.va-chat__body')\n        messages.scrollTop = messages.scrollHeight - messages.clientHeight\n      }, 10)\n    },\n    sendMessage() {\n      if (!this.inputMessage) {\n        return\n      }\n      this.$emit('input', {\n        text: this.inputMessage,\n        yours: true,\n      })\n      this.inputMessage = ''\n      setTimeout(() => {\n        this.$el.querySelector('.va-chat__input').focus()\n      }, 10)\n    },\n  },\n  mounted() {\n    this.scrollToBottom()\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.chat {\n  &__content {\n    @include va-flex-center();\n  }\n}\n\n$chat-message-br: 0.65rem;\n\n.va-chat {\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  display: grid;\n  grid-template-rows: 1fr 6rem;\n\n  &__body {\n    padding: 20px 10px;\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n\n    &-messages {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-end;\n      max-height: 300px;\n    }\n  }\n\n  &__message {\n    position: relative;\n    padding: 0.657rem 1.375rem;\n    margin-bottom: $chat-message-br;\n    max-width: 70%;\n    overflow-wrap: break-word;\n    border-radius: 0.5rem;\n    border-top-left-radius: 0;\n    align-self: flex-start;\n    background-color: $light-gray2;\n    transition: padding 0.3s;\n\n    &-info {\n      position: absolute;\n      top: 0.4rem;\n      font-size: 0.6rem;\n    }\n\n    &-text {\n      display: block;\n      transform: translateY(-2px);\n    }\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    &--yours {\n      align-self: flex-end;\n      border-top-right-radius: 0;\n      border-top-left-radius: 0.5rem;\n    }\n\n    &_date {\n      font-family: sans-serif;\n      font-size: 0.8rem;\n      opacity: 0;\n      transition: opacity 0.5s;\n    }\n  }\n\n  &__controls {\n    display: flex;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n  }\n\n  &__input {\n    margin-bottom: 0;\n    color: white;\n  }\n}\n</style>\n"]}]}