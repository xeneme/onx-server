{"remainingRequest":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/src/components/data-tables/scenarios/DataTableInfiniteScroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/src/components/data-tables/scenarios/DataTableInfiniteScroll.vue","mtime":1594635175453},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFNwcmluZ1NwaW5uZXIgfSBmcm9tICdlcGljLXNwaW5uZXJzJwppbXBvcnQgdXNlcnMgZnJvbSAnLi4vLi4vLi4vZGF0YS91c2Vycy5qc29uJwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFNwcmluZ1NwaW5uZXIsCiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIG9mZnNldDogMCwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBmaWVsZHMgKCkgewogICAgICByZXR1cm4gW3sKICAgICAgICBuYW1lOiAnX19zbG90Om1hcmtlcicsCiAgICAgICAgd2lkdGg6ICczMHB4JywKICAgICAgICBkYXRhQ2xhc3M6ICd0ZXh0LWNlbnRlcicsCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnZnVsbE5hbWUnLAogICAgICAgIHRpdGxlOiB0aGlzLiR0KCd0YWJsZXMuaGVhZGluZ3MubmFtZScpLAogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ2VtYWlsJywKICAgICAgICB0aXRsZTogdGhpcy4kdCgndGFibGVzLmhlYWRpbmdzLmVtYWlsJyksCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnY291bnRyeScsCiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3RhYmxlcy5oZWFkaW5ncy5jb3VudHJ5JyksCiAgICAgIH1dCiAgICB9LAogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmxvYWRNb3JlKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWRNb3JlICgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQoKICAgICAgdGhpcy5yZWFkVXNlcnMoKQogICAgICAgIC50aGVuKHVzZXJzID0+IHsKICAgICAgICAgIHRoaXMudXNlcnMgPSB0aGlzLnVzZXJzLmNvbmNhdCh1c2VycykKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgfSkKICAgIH0sCiAgICByZWFkVXNlcnMgKCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcmVzb2x2ZSh1c2Vycy5zbGljZSgwLCAxMCkpCiAgICAgICAgfSwgNjAwKQogICAgICB9KQogICAgfSwKICAgIG9uU2Nyb2xsIChlKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHsKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgY29uc3QgeyB0YXJnZXQgfSA9IGUKCiAgICAgIGlmICh0YXJnZXQub2Zmc2V0SGVpZ2h0ICsgdGFyZ2V0LnNjcm9sbFRvcCA9PT0gdGFyZ2V0LnNjcm9sbEhlaWdodCkgewogICAgICAgIHRoaXMubG9hZE1vcmUoKQogICAgICB9CiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["DataTableInfiniteScroll.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"DataTableInfiniteScroll.vue","sourceRoot":"src/components/data-tables/scenarios","sourcesContent":["<template>\n  <va-card :title=\"$t('tables.infiniteScroll')\">\n    <div class=\"data-table-infinite-scroll--container\" ref=\"scrollable\" @scroll=\"onScroll\">\n      <va-data-table\n        :fields=\"fields\"\n        :data=\"users\"\n        api-mode\n        no-pagination\n      >\n        <template slot=\"marker\" slot-scope=\"props\">\n          <va-icon name=\"fa fa-circle\" :color=\"props.rowData.color\" size=\"8px\" />\n        </template>\n      </va-data-table>\n\n      <div class=\"flex-center ma-3\">\n        <spring-spinner\n          v-if=\"loading\"\n          :animation-duration=\"2000\"\n          :size=\"60\"\n          :color=\"$themes.primary\"\n        />\n      </div>\n    </div>\n  </va-card>\n</template>\n\n<script>\nimport { SpringSpinner } from 'epic-spinners'\nimport users from '../../../data/users.json'\n\nexport default {\n  components: {\n    SpringSpinner,\n  },\n  data () {\n    return {\n      users: [],\n      loading: false,\n      offset: 0,\n    }\n  },\n  computed: {\n    fields () {\n      return [{\n        name: '__slot:marker',\n        width: '30px',\n        dataClass: 'text-center',\n      }, {\n        name: 'fullName',\n        title: this.$t('tables.headings.name'),\n      }, {\n        name: 'email',\n        title: this.$t('tables.headings.email'),\n      }, {\n        name: 'country',\n        title: this.$t('tables.headings.country'),\n      }]\n    },\n  },\n  created () {\n    this.loadMore()\n  },\n  methods: {\n    loadMore () {\n      this.loading = true\n\n      this.readUsers()\n        .then(users => {\n          this.users = this.users.concat(users)\n          this.loading = false\n        })\n    },\n    readUsers () {\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve(users.slice(0, 10))\n        }, 600)\n      })\n    },\n    onScroll (e) {\n      if (this.loading) {\n        return\n      }\n\n      const { target } = e\n\n      if (target.offsetHeight + target.scrollTop === target.scrollHeight) {\n        this.loadMore()\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  .data-table-infinite-scroll--container {\n    height: 300px;\n    overflow-y: auto;\n  }\n</style>\n"]}]}