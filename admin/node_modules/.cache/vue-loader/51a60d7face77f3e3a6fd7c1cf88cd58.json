{"remainingRequest":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/src/components/ui/chat/Chat.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/src/components/ui/chat/Chat.vue","mtime":1604871598187},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jaGF0IHsKICAmX19jb250ZW50IHsKICAgIEBpbmNsdWRlIHZhLWZsZXgtY2VudGVyKCk7CiAgfQp9CgokY2hhdC1tZXNzYWdlLWJyOiAwLjY1cmVtOwoKLnZhLWNoYXQgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBwYWRkaW5nOiAwOwogIGRpc3BsYXk6IGdyaWQ7CiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxZnIgNnJlbTsKCiAgJl9fYm9keSB7CiAgICBwYWRkaW5nOiAyMHB4IDEwcHg7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIG92ZXJmbG93LXk6IGF1dG87CgogICAgJi1tZXNzYWdlcyB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDsKICAgICAgbWF4LWhlaWdodDogMzAwcHg7CiAgICB9CiAgfQoKICAmX19tZXNzYWdlIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIHBhZGRpbmc6IDAuNjU3cmVtIDEuMzc1cmVtOwogICAgbWFyZ2luLWJvdHRvbTogJGNoYXQtbWVzc2FnZS1icjsKICAgIG1heC13aWR0aDogNzAlOwogICAgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDsKICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTsKICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7CiAgICBhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0OwogICAgYmFja2dyb3VuZC1jb2xvcjogJGxpZ2h0LWdyYXkyOwogICAgdHJhbnNpdGlvbjogcGFkZGluZyAwLjNzOwoKICAgICYtaW5mbyB7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgdG9wOiAwLjRyZW07CiAgICAgIGZvbnQtc2l6ZTogMC42cmVtOwogICAgfQoKICAgICYtdGV4dCB7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICB9CgogICAgJjpsYXN0LWNoaWxkIHsKICAgICAgbWFyZ2luLWJvdHRvbTogMDsKICAgIH0KCiAgICAmLS15b3VycyB7CiAgICAgIGFsaWduLXNlbGY6IGZsZXgtZW5kOwogICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDsKICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMC41cmVtOwogICAgfQoKICAgICZfZGF0ZSB7CiAgICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOwogICAgICBmb250LXNpemU6IDAuOHJlbTsKICAgICAgb3BhY2l0eTogMDsKICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjVzOwogICAgfQogIH0KCiAgJl9fY29udHJvbHMgewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICB3aWR0aDogMTAwJTsKICB9CgogICZfX2lucHV0IHsKICAgIG1hcmdpbi1ib3R0b206IDA7CiAgICBjb2xvcjogd2hpdGU7CiAgfQp9Cg=="},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Chat.vue","sourceRoot":"src/components/ui/chat","sourcesContent":["<template>\n  <div class=\"va-chat\">\n    <div\n      class=\"va-chat__body\"\n      :style=\"{ backgroundColor: '#00000017' }\"\n      v-sticky-scroll=\"{\n        animate: true,\n        duration: 200,\n      }\"\n    >\n      <div class=\"va-chat__body-messages\">\n        <div\n          class=\"va-chat__message\"\n          v-for=\"(message, index) in value\"\n          :key=\"index\"\n          :style=\"{\n            ...(message.yours ? computedYoursStyle : computedStyle),\n            paddingTop: !message.delivered ? '1.4rem' : '0.657rem',\n          }\"\n          :class=\"{ 'va-chat__message--yours': message.yours }\"\n        >\n          <div\n            class=\"va-chat__message-info\"\n            :style=\"{\n              left: message.yours ? 'auto' : '0.5rem',\n              right: message.yours ? '0.5rem' : 'auto',\n            }\"\n          >\n            <va-icon\n              name=\"fa fa-spinner fa-spin\"\n              v-if=\"!message.delivered\"\n            ></va-icon>\n          </div>\n\n          <span\n            class=\"va-chat__message-text\"\n            :style=\"{\n              textAlign: message.yours ? 'right' : 'left',\n            }\"\n          >\n            {{ message.text }}\n          </span>\n          <span\n            class=\"va-chat__message_date\"\n            :style=\"{\n              opacity: 0.4,\n              textAlign: message.yours ? 'right' : 'left',\n            }\"\n          >\n            {{ message.date }}\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class=\"va-chat__controls\">\n      <va-input\n        :autosize=\"true\"\n        v-model=\"inputMessage\"\n        @keypress.enter=\"sendMessage\"\n        :placeholder=\"$t('dashboard.support.placeholder')\"\n        class=\"va-chat__input\"\n      />\n      <va-button @click=\"sendMessage\">\n        {{ $t('buttons.send') }}\n      </va-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { StickyScroll } from '../../../services/vuestic-ui/components'\n\nexport default {\n  name: 'chat',\n  directives: { StickyScroll },\n  data() {\n    return {\n      inputMessage: '',\n    }\n  },\n  computed: {\n    computedStyle() {\n      return { backgroundColor: this.$themes.darkForeground, color: 'white' }\n    },\n    computedYoursStyle() {\n      return { backgroundColor: this.$themes.info, color: 'white' }\n    },\n  },\n  props: {\n    value: Array,\n  },\n  watch: {\n    value: 'scrollToBottom',\n  },\n  methods: {\n    scrollToBottom(val, old) {\n      if(val && old && val.length == old.length) return\n      \n      setTimeout(() => {\n        var messages = document.querySelector('.va-chat__body')\n        messages.scrollTop = messages.scrollHeight - messages.clientHeight\n      }, 10)\n    },\n    sendMessage() {\n      if (!this.inputMessage) {\n        return\n      }\n      this.$emit('input', {\n        text: this.inputMessage,\n        yours: true,\n      })\n      this.inputMessage = ''\n      setTimeout(() => {\n        this.$el.querySelector('.va-chat__input').focus()\n      }, 10)\n    },\n  },\n  mounted() {\n    this.scrollToBottom()\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.chat {\n  &__content {\n    @include va-flex-center();\n  }\n}\n\n$chat-message-br: 0.65rem;\n\n.va-chat {\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  display: grid;\n  grid-template-rows: 1fr 6rem;\n\n  &__body {\n    padding: 20px 10px;\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n\n    &-messages {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-end;\n      max-height: 300px;\n    }\n  }\n\n  &__message {\n    position: relative;\n    padding: 0.657rem 1.375rem;\n    margin-bottom: $chat-message-br;\n    max-width: 70%;\n    overflow-wrap: break-word;\n    border-radius: 0.5rem;\n    border-top-left-radius: 0;\n    align-self: flex-start;\n    background-color: $light-gray2;\n    transition: padding 0.3s;\n\n    &-info {\n      position: absolute;\n      top: 0.4rem;\n      font-size: 0.6rem;\n    }\n\n    &-text {\n      display: block;\n      transform: translateY(-2px);\n    }\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    &--yours {\n      align-self: flex-end;\n      border-top-right-radius: 0;\n      border-top-left-radius: 0.5rem;\n    }\n\n    &_date {\n      font-family: sans-serif;\n      font-size: 0.8rem;\n      opacity: 0;\n      transition: opacity 0.5s;\n    }\n  }\n\n  &__controls {\n    display: flex;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n  }\n\n  &__input {\n    margin-bottom: 0;\n    color: white;\n  }\n}\n</style>\n"]}]}