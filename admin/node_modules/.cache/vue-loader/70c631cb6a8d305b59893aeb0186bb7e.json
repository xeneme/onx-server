{"remainingRequest":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/src/components/dashboard/DashboardTotalLog.vue?vue&type=style&index=0&id=dccc924e&lang=scss&scoped=true&","dependencies":[{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/src/components/dashboard/DashboardTotalLog.vue","mtime":1603530353395},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQpAaW1wb3J0ICcuLi8uLi9zYXNzL3NtYXJ0LWdyaWQuc2Nzcyc7DQoNCi50YWIgew0KICBtaW4taGVpZ2h0OiAyMzJweDsNCg0KICAmX193cmFwIHsNCiAgICAmX190aXRsZSB7DQogICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgICBoZWlnaHQ6IDEwMCU7DQoNCiAgICAgIEBpbmNsdWRlIHRvKDgwcmVtKSB7DQogICAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgICB9DQoNCiAgICAgIEBpbmNsdWRlIGZyb20oODByZW0pIHsNCiAgICAgICAgaGVpZ2h0OiA0MHB4Ow0KICAgICAgICBkaXNwbGF5OiBncmlkOw0KICAgICAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7DQogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDIwMHB4IDE1MHB4Ow0KICAgICAgfQ0KICAgIH0NCg0KICAgICZfX3RhYmxlIHsNCiAgICAgICZfX2l0ZW0gew0KICAgICAgICB3aWR0aDogY2FsYygxMDAlICsgNDBweCk7DQogICAgICAgIG1hcmdpbjogMCAtMjBweDsNCg0KICAgICAgICBAaW5jbHVkZSB0byg4MHJlbSkgew0KICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7DQogICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiA3MHB4IDFmcjsNCiAgICAgICAgfQ0KDQogICAgICAgIEBpbmNsdWRlIGZyb20oODByZW0pIHsNCiAgICAgICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgICAgfQ0KDQogICAgICAgICZfX3RpdGxlIHsNCiAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQoNCiAgICAgICAgICBkaXYgew0KICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsNCiAgICAgICAgICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIHRleHQtaW5kZW50OiAxMHB4Ow0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQoNCiAgICAgICAgICAgIGJvcmRlcjogMXB4ICNmZmZmZmYxMSBzb2xpZDsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICBAaW5jbHVkZSB0byg4MHJlbSkgew0KICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsNCiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtcm93czogMmZyIDFmciAxZnI7DQogICAgICAgICAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIEBpbmNsdWRlIGZyb20oODByZW0pIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgJl9fcHJvcHMgew0KICAgICAgICAgIG1pbi1oZWlnaHQ6IDU1cHg7DQoNCiAgICAgICAgICBAaW5jbHVkZSB0byg4MHJlbSkgew0KICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsNCiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtcm93czogMmZyIDFmciAxZnI7DQogICAgICAgICAgfQ0KDQogICAgICAgICAgQGluY2x1ZGUgZnJvbSg4MHJlbSkgew0KICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsNCiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDIwMHB4IDE1MHB4Ow0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGRpdiB7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBwYWRkaW5nOiAxMHB4Ow0KICAgICAgICAgICAgYm9yZGVyOiAxcHggI2ZmZmZmZjExIHNvbGlkOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgICYtYWN0aW9uIHsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgfQ0KDQogICAgICAgICAgJi1kYXRlLA0KICAgICAgICAgICYtbmFtZSB7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQoNCiAgICAgICAgICAgICBAaW5jbHVkZSB0byg4MHJlbSkgew0KICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIEBpbmNsdWRlIGZyb20oODByZW0pIHsNCiAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgICY6bnRoLWNoaWxkKG9kZCkgew0KICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmYwNzsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogICZfX3BhZ2luYXRpb25fd3JhcCB7DQogICAgZGlzcGxheTogZ3JpZDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICBoZWlnaHQ6IDJyZW07DQogIH0NCn0NCg=="},{"version":3,"sources":["DashboardTotalLog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"DashboardTotalLog.vue","sourceRoot":"src/components/dashboard","sourcesContent":["<template>\r\n  <va-card\r\n    :color=\"$themes.background\"\r\n    :style=\"computedWidgetStyle\"\r\n    :title=\"$t('dashboard.totalLog.title')\"\r\n  >\r\n    <va-button\r\n      slot=\"actions\"\r\n      color=\"info\"\r\n      class=\"mr-0\"\r\n      small\r\n      flat\r\n      @click=\"refresh\"\r\n    >\r\n      <va-icon name=\"material-icons\">autorenew</va-icon>\r\n    </va-button>\r\n    <va-inner-loading :loading=\"log.length && loading\">\r\n      <div v-if=\"log.length\" class=\"tab\" :style=\"computedStyle\">\r\n        <div class=\"row\">\r\n          <div class=\"flex xs12 xl12\">\r\n            <div class=\"tab__wrap\">\r\n              <div class=\"tab__wrap__title\">\r\n                <div>Action</div>\r\n                <div>User</div>\r\n                <div>Date</div>\r\n              </div>\r\n              <div class=\"tab__wrap__table\">\r\n                <div\r\n                  v-for=\"action in log[activePage - 1]\"\r\n                  :key=\"action._id\"\r\n                  class=\"tab__wrap__table__item align--center\"\r\n                >\r\n                  <div class=\"tab__wrap__table__item__title\">\r\n                    <div>Action</div>\r\n                    <div>User</div>\r\n                    <div>Date</div>\r\n                  </div>\r\n                  <div class=\"tab__wrap__table__item__props\">\r\n                    <div class=\"tab__wrap__table__item__props-action\">\r\n                      <va-icon\r\n                        :name=\"actionIcon(action.actionName)\"\r\n                        class=\"ml-3 mr-3 \"\r\n                      ></va-icon>\r\n                      {{ $t(action.messageLocalPath) }}\r\n                      {{ action.relatedData }}\r\n                    </div>\r\n                    <div class=\"tab__wrap__table__item__props-name\">\r\n                      {{ action.user.name }}\r\n                    </div>\r\n                    <div class=\"tab__wrap__table__item__props-date\">\r\n                      {{ action.formatedDate }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"tab__pagination_wrap\">\r\n          <va-pagination\r\n            v-model=\"activePage\"\r\n            :pages=\"log.length\"\r\n            :visiblePages=\"5\"\r\n            small\r\n          ></va-pagination>\r\n        </div>\r\n      </div>\r\n      <VaCardNoData\r\n        v-else\r\n        :loading=\"loading\"\r\n        LT=\"Log is loading...\"\r\n        ET=\"Empty\"\r\n      />\r\n    </va-inner-loading>\r\n  </va-card>\r\n</template>\r\n\r\n<script>\r\nimport VaCardNoData from './components/VaCardNoData'\r\nimport _ from 'lodash'\r\nimport { ActionsList } from '../../services/Users'\r\n\r\nexport default {\r\n  name: 'dashboard-total-log',\r\n  components: {\r\n    VaCardNoData,\r\n  },\r\n  data: () => ({\r\n    loading: false,\r\n    activePage: 1,\r\n    actions: [],\r\n  }),\r\n  computed: {\r\n    computedStyle() {\r\n      return {\r\n        color: this.$themes.brightForeground,\r\n        opacity: this.loading ? 0.2 : 1,\r\n      }\r\n    },\r\n    computedWidgetStyle() {\r\n      return {\r\n        color: this.$themes.brightForeground,\r\n      }\r\n    },\r\n    log() {\r\n      return _.chunk(this.actions, 8)\r\n    },\r\n  },\r\n  methods: {\r\n    refresh() {\r\n      this.loading = true\r\n// \r\n      // this.actions = []\r\n      // for (let i = 0; i < 30; i++) {\r\n      // this.actions.push({\r\n      // _id: i,\r\n      // user: {\r\n      // name: 'виталий гениталий',\r\n      // },\r\n      // relatedData: '',\r\n      // messageLocalPath:\r\n      // 'User has changed his',\r\n      // actionName: 'visited',\r\n      // formatedDate: '17.10.20 1:32:06',\r\n      // })\r\n      // }\r\n// \r\n      ActionsList().then(({ data: actions }) => {\r\n        this.loading = false\r\n        this.actions = actions\r\n      })\r\n    },\r\n    actionIcon(name) {\r\n      return {\r\n        registered: 'fa fa-user-plus',\r\n        authenticated: 'fa fa-sign-in',\r\n        visited: 'fa fa-map-marker',\r\n        name_changed: 'fa fa-edit',\r\n        transfer: 'fa fa-money',\r\n        withdrawal: 'fa fa-money',\r\n        deposit: 'fa fa-money',\r\n      }[name]\r\n    },\r\n  },\r\n  mounted() {\r\n    this.refresh()\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../sass/smart-grid.scss';\r\n\r\n.tab {\r\n  min-height: 232px;\r\n\r\n  &__wrap {\r\n    &__title {\r\n      font-weight: 600;\r\n      width: 100%;\r\n      height: 100%;\r\n\r\n      @include to(80rem) {\r\n        display: none;\r\n      }\r\n\r\n      @include from(80rem) {\r\n        height: 40px;\r\n        display: grid;\r\n        justify-items: center;\r\n        align-items: center;\r\n        grid-template-columns: 1fr 200px 150px;\r\n      }\r\n    }\r\n\r\n    &__table {\r\n      &__item {\r\n        width: calc(100% + 40px);\r\n        margin: 0 -20px;\r\n\r\n        @include to(80rem) {\r\n          display: grid;\r\n          grid-template-columns: 70px 1fr;\r\n        }\r\n\r\n        @include from(80rem) {\r\n          display: block;\r\n        }\r\n\r\n        &__title {\r\n          height: 100%;\r\n\r\n          div {\r\n            display: grid;\r\n            align-content: center;\r\n            text-indent: 10px;\r\n            width: 100%;\r\n            height: 100%;\r\n\r\n            border: 1px #ffffff11 solid;\r\n          }\r\n\r\n          @include to(80rem) {\r\n            display: grid;\r\n            grid-template-rows: 2fr 1fr 1fr;\r\n            justify-items: center;\r\n            align-items: center;\r\n          }\r\n\r\n          @include from(80rem) {\r\n            display: none;\r\n          }\r\n        }\r\n\r\n        &__props {\r\n          min-height: 55px;\r\n\r\n          @include to(80rem) {\r\n            display: grid;\r\n            grid-template-rows: 2fr 1fr 1fr;\r\n          }\r\n\r\n          @include from(80rem) {\r\n            display: grid;\r\n            grid-template-columns: 1fr 200px 150px;\r\n          }\r\n\r\n          div {\r\n            width: 100%;\r\n            height: 100%;\r\n            display: flex;\r\n            padding: 10px;\r\n            border: 1px #ffffff11 solid;\r\n          }\r\n\r\n          &-action {\r\n            align-items: center;\r\n          }\r\n\r\n          &-date,\r\n          &-name {\r\n            text-align: center;\r\n\r\n             @include to(80rem) {\r\n              align-items: center;\r\n              justify-content: flex-start;\r\n            }\r\n\r\n            @include from(80rem) {\r\n              align-items: center;\r\n              justify-content: center;\r\n            }\r\n          }\r\n        }\r\n        &:nth-child(odd) {\r\n          background-color: #ffffff07;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  &__pagination_wrap {\r\n    display: grid;\r\n    justify-content: center;\r\n    height: 2rem;\r\n  }\r\n}\r\n</style>\r\n"]}]}