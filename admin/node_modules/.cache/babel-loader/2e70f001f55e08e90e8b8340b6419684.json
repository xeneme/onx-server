{"remainingRequest":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/thread-loader/dist/cjs.js!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/babel-loader/lib/index.js!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/src/components/data-tables/scenarios/DataTableInfiniteScroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/src/components/data-tables/scenarios/DataTableInfiniteScroll.vue","mtime":1594635175453},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IFNwcmluZ1NwaW5uZXIgfSBmcm9tICdlcGljLXNwaW5uZXJzJzsKaW1wb3J0IHVzZXJzIGZyb20gJy4uLy4uLy4uL2RhdGEvdXNlcnMuanNvbic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBTcHJpbmdTcGlubmVyOiBTcHJpbmdTcGlubmVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcnM6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgb2Zmc2V0OiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpZWxkczogZnVuY3Rpb24gZmllbGRzKCkgewogICAgICByZXR1cm4gW3sKICAgICAgICBuYW1lOiAnX19zbG90Om1hcmtlcicsCiAgICAgICAgd2lkdGg6ICczMHB4JywKICAgICAgICBkYXRhQ2xhc3M6ICd0ZXh0LWNlbnRlcicKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdmdWxsTmFtZScsCiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3RhYmxlcy5oZWFkaW5ncy5uYW1lJykKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdlbWFpbCcsCiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3RhYmxlcy5oZWFkaW5ncy5lbWFpbCcpCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnY291bnRyeScsCiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3RhYmxlcy5oZWFkaW5ncy5jb3VudHJ5JykKICAgICAgfV07CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkTW9yZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZE1vcmU6IGZ1bmN0aW9uIGxvYWRNb3JlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5yZWFkVXNlcnMoKS50aGVuKGZ1bmN0aW9uICh1c2VycykgewogICAgICAgIF90aGlzLnVzZXJzID0gX3RoaXMudXNlcnMuY29uY2F0KHVzZXJzKTsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHJlYWRVc2VyczogZnVuY3Rpb24gcmVhZFVzZXJzKCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmVzb2x2ZSh1c2Vycy5zbGljZSgwLCAxMCkpOwogICAgICAgIH0sIDYwMCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU2Nyb2xsOiBmdW5jdGlvbiBvblNjcm9sbChlKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKCiAgICAgIGlmICh0YXJnZXQub2Zmc2V0SGVpZ2h0ICsgdGFyZ2V0LnNjcm9sbFRvcCA9PT0gdGFyZ2V0LnNjcm9sbEhlaWdodCkgewogICAgICAgIHRoaXMubG9hZE1vcmUoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["DataTableInfiniteScroll.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,SAAA,aAAA,QAAA,eAAA;AACA,OAAA,KAAA,MAAA,0BAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA;AAKA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,aAAA,CAAA;AACA,QAAA,IAAA,EAAA,eADA;AAEA,QAAA,KAAA,EAAA,MAFA;AAGA,QAAA,SAAA,EAAA;AAHA,OAAA,EAIA;AACA,QAAA,IAAA,EAAA,UADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,sBAAA;AAFA,OAJA,EAOA;AACA,QAAA,IAAA,EAAA,OADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,uBAAA;AAFA,OAPA,EAUA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,yBAAA;AAFA,OAVA,CAAA;AAcA;AAhBA,GAXA;AA6BA,EAAA,OA7BA,qBA6BA;AACA,SAAA,QAAA;AACA,GA/BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AAEA,WAAA,SAAA,GACA,IADA,CACA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAJA;AAKA,KATA;AAUA,IAAA,SAVA,uBAUA;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA;AACA,SAFA,EAEA,GAFA,CAAA;AAGA,OAJA,CAAA;AAKA,KAhBA;AAiBA,IAAA,QAjBA,oBAiBA,CAjBA,EAiBA;AACA,UAAA,KAAA,OAAA,EAAA;AACA;AACA;;AAHA,UAKA,MALA,GAKA,CALA,CAKA,MALA;;AAOA,UAAA,MAAA,CAAA,YAAA,GAAA,MAAA,CAAA,SAAA,KAAA,MAAA,CAAA,YAAA,EAAA;AACA,aAAA,QAAA;AACA;AACA;AA3BA;AAhCA,CAAA","sourcesContent":["<template>\n  <va-card :title=\"$t('tables.infiniteScroll')\">\n    <div class=\"data-table-infinite-scroll--container\" ref=\"scrollable\" @scroll=\"onScroll\">\n      <va-data-table\n        :fields=\"fields\"\n        :data=\"users\"\n        api-mode\n        no-pagination\n      >\n        <template slot=\"marker\" slot-scope=\"props\">\n          <va-icon name=\"fa fa-circle\" :color=\"props.rowData.color\" size=\"8px\" />\n        </template>\n      </va-data-table>\n\n      <div class=\"flex-center ma-3\">\n        <spring-spinner\n          v-if=\"loading\"\n          :animation-duration=\"2000\"\n          :size=\"60\"\n          :color=\"$themes.primary\"\n        />\n      </div>\n    </div>\n  </va-card>\n</template>\n\n<script>\nimport { SpringSpinner } from 'epic-spinners'\nimport users from '../../../data/users.json'\n\nexport default {\n  components: {\n    SpringSpinner,\n  },\n  data () {\n    return {\n      users: [],\n      loading: false,\n      offset: 0,\n    }\n  },\n  computed: {\n    fields () {\n      return [{\n        name: '__slot:marker',\n        width: '30px',\n        dataClass: 'text-center',\n      }, {\n        name: 'fullName',\n        title: this.$t('tables.headings.name'),\n      }, {\n        name: 'email',\n        title: this.$t('tables.headings.email'),\n      }, {\n        name: 'country',\n        title: this.$t('tables.headings.country'),\n      }]\n    },\n  },\n  created () {\n    this.loadMore()\n  },\n  methods: {\n    loadMore () {\n      this.loading = true\n\n      this.readUsers()\n        .then(users => {\n          this.users = this.users.concat(users)\n          this.loading = false\n        })\n    },\n    readUsers () {\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve(users.slice(0, 10))\n        }, 600)\n      })\n    },\n    onScroll (e) {\n      if (this.loading) {\n        return\n      }\n\n      const { target } = e\n\n      if (target.offsetHeight + target.scrollTop === target.scrollHeight) {\n        this.loadMore()\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  .data-table-infinite-scroll--container {\n    height: 300px;\n    overflow-y: auto;\n  }\n</style>\n"],"sourceRoot":"src/components/data-tables/scenarios"}]}