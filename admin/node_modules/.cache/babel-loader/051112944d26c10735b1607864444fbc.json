{"remainingRequest":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/thread-loader/dist/cjs.js!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/babel-loader/lib/index.js!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/src/components/dashboard/DashboardTotalLog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/src/components/dashboard/DashboardTotalLog.vue","mtime":1603530353395},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZhQ2FyZE5vRGF0YSBmcm9tICcuL2NvbXBvbmVudHMvVmFDYXJkTm9EYXRhJzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IHsgQWN0aW9uc0xpc3QgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9Vc2Vycyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZGFzaGJvYXJkLXRvdGFsLWxvZycsCiAgY29tcG9uZW50czogewogICAgVmFDYXJkTm9EYXRhOiBWYUNhcmROb0RhdGEKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgYWN0aXZlUGFnZTogMSwKICAgICAgYWN0aW9uczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY29tcHV0ZWRTdHlsZTogZnVuY3Rpb24gY29tcHV0ZWRTdHlsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBjb2xvcjogdGhpcy4kdGhlbWVzLmJyaWdodEZvcmVncm91bmQsCiAgICAgICAgb3BhY2l0eTogdGhpcy5sb2FkaW5nID8gMC4yIDogMQogICAgICB9OwogICAgfSwKICAgIGNvbXB1dGVkV2lkZ2V0U3R5bGU6IGZ1bmN0aW9uIGNvbXB1dGVkV2lkZ2V0U3R5bGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29sb3I6IHRoaXMuJHRoZW1lcy5icmlnaHRGb3JlZ3JvdW5kCiAgICAgIH07CiAgICB9LAogICAgbG9nOiBmdW5jdGlvbiBsb2coKSB7CiAgICAgIHJldHVybiBfLmNodW5rKHRoaXMuYWN0aW9ucywgOCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsgLy8gCiAgICAgIC8vIHRoaXMuYWN0aW9ucyA9IFtdCiAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgMzA7IGkrKykgewogICAgICAvLyB0aGlzLmFjdGlvbnMucHVzaCh7CiAgICAgIC8vIF9pZDogaSwKICAgICAgLy8gdXNlcjogewogICAgICAvLyBuYW1lOiAn0LLQuNGC0LDQu9C40Lkg0LPQtdC90LjRgtCw0LvQuNC5JywKICAgICAgLy8gfSwKICAgICAgLy8gcmVsYXRlZERhdGE6ICcnLAogICAgICAvLyBtZXNzYWdlTG9jYWxQYXRoOgogICAgICAvLyAnVXNlciBoYXMgY2hhbmdlZCBoaXMnLAogICAgICAvLyBhY3Rpb25OYW1lOiAndmlzaXRlZCcsCiAgICAgIC8vIGZvcm1hdGVkRGF0ZTogJzE3LjEwLjIwIDE6MzI6MDYnLAogICAgICAvLyB9KQogICAgICAvLyB9CiAgICAgIC8vIAoKICAgICAgQWN0aW9uc0xpc3QoKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGFjdGlvbnMgPSBfcmVmLmRhdGE7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzLmFjdGlvbnMgPSBhY3Rpb25zOwogICAgICB9KTsKICAgIH0sCiAgICBhY3Rpb25JY29uOiBmdW5jdGlvbiBhY3Rpb25JY29uKG5hbWUpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICByZWdpc3RlcmVkOiAnZmEgZmEtdXNlci1wbHVzJywKICAgICAgICBhdXRoZW50aWNhdGVkOiAnZmEgZmEtc2lnbi1pbicsCiAgICAgICAgdmlzaXRlZDogJ2ZhIGZhLW1hcC1tYXJrZXInLAogICAgICAgIG5hbWVfY2hhbmdlZDogJ2ZhIGZhLWVkaXQnLAogICAgICAgIHRyYW5zZmVyOiAnZmEgZmEtbW9uZXknLAogICAgICAgIHdpdGhkcmF3YWw6ICdmYSBmYS1tb25leScsCiAgICAgICAgZGVwb3NpdDogJ2ZhIGZhLW1vbmV5JwogICAgICB9W25hbWVdOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMucmVmcmVzaCgpOwogIH0KfTs="},{"version":3,"sources":["DashboardTotalLog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA,OAAA,YAAA,MAAA,2BAAA;AACA,OAAA,CAAA,MAAA,QAAA;AACA,SAAA,WAAA,QAAA,sBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,qBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GAFA;AAKA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,CAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAAA,GALA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,aAAA;AACA,QAAA,KAAA,EAAA,KAAA,OAAA,CAAA,gBADA;AAEA,QAAA,OAAA,EAAA,KAAA,OAAA,GAAA,GAAA,GAAA;AAFA,OAAA;AAIA,KANA;AAOA,IAAA,mBAPA,iCAOA;AACA,aAAA;AACA,QAAA,KAAA,EAAA,KAAA,OAAA,CAAA;AADA,OAAA;AAGA,KAXA;AAYA,IAAA,GAZA,iBAYA;AACA,aAAA,CAAA,CAAA,KAAA,CAAA,KAAA,OAAA,EAAA,CAAA,CAAA;AACA;AAdA,GAVA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA,CADA,C;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAA,WAAA,GAAA,IAAA,CAAA,gBAAA;AAAA,YAAA,OAAA,QAAA,IAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,OAAA;AACA,OAHA;AAIA,KAvBA;AAwBA,IAAA,UAxBA,sBAwBA,IAxBA,EAwBA;AACA,aAAA;AACA,QAAA,UAAA,EAAA,iBADA;AAEA,QAAA,aAAA,EAAA,eAFA;AAGA,QAAA,OAAA,EAAA,kBAHA;AAIA,QAAA,YAAA,EAAA,YAJA;AAKA,QAAA,QAAA,EAAA,aALA;AAMA,QAAA,UAAA,EAAA,aANA;AAOA,QAAA,OAAA,EAAA;AAPA,QAQA,IARA,CAAA;AASA;AAlCA,GA1BA;AA8DA,EAAA,OA9DA,qBA8DA;AACA,SAAA,OAAA;AACA;AAhEA,CAAA","sourcesContent":["<template>\r\n  <va-card\r\n    :color=\"$themes.background\"\r\n    :style=\"computedWidgetStyle\"\r\n    :title=\"$t('dashboard.totalLog.title')\"\r\n  >\r\n    <va-button\r\n      slot=\"actions\"\r\n      color=\"info\"\r\n      class=\"mr-0\"\r\n      small\r\n      flat\r\n      @click=\"refresh\"\r\n    >\r\n      <va-icon name=\"material-icons\">autorenew</va-icon>\r\n    </va-button>\r\n    <va-inner-loading :loading=\"log.length && loading\">\r\n      <div v-if=\"log.length\" class=\"tab\" :style=\"computedStyle\">\r\n        <div class=\"row\">\r\n          <div class=\"flex xs12 xl12\">\r\n            <div class=\"tab__wrap\">\r\n              <div class=\"tab__wrap__title\">\r\n                <div>Action</div>\r\n                <div>User</div>\r\n                <div>Date</div>\r\n              </div>\r\n              <div class=\"tab__wrap__table\">\r\n                <div\r\n                  v-for=\"action in log[activePage - 1]\"\r\n                  :key=\"action._id\"\r\n                  class=\"tab__wrap__table__item align--center\"\r\n                >\r\n                  <div class=\"tab__wrap__table__item__title\">\r\n                    <div>Action</div>\r\n                    <div>User</div>\r\n                    <div>Date</div>\r\n                  </div>\r\n                  <div class=\"tab__wrap__table__item__props\">\r\n                    <div class=\"tab__wrap__table__item__props-action\">\r\n                      <va-icon\r\n                        :name=\"actionIcon(action.actionName)\"\r\n                        class=\"ml-3 mr-3 \"\r\n                      ></va-icon>\r\n                      {{ $t(action.messageLocalPath) }}\r\n                      {{ action.relatedData }}\r\n                    </div>\r\n                    <div class=\"tab__wrap__table__item__props-name\">\r\n                      {{ action.user.name }}\r\n                    </div>\r\n                    <div class=\"tab__wrap__table__item__props-date\">\r\n                      {{ action.formatedDate }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"tab__pagination_wrap\">\r\n          <va-pagination\r\n            v-model=\"activePage\"\r\n            :pages=\"log.length\"\r\n            :visiblePages=\"5\"\r\n            small\r\n          ></va-pagination>\r\n        </div>\r\n      </div>\r\n      <VaCardNoData\r\n        v-else\r\n        :loading=\"loading\"\r\n        LT=\"Log is loading...\"\r\n        ET=\"Empty\"\r\n      />\r\n    </va-inner-loading>\r\n  </va-card>\r\n</template>\r\n\r\n<script>\r\nimport VaCardNoData from './components/VaCardNoData'\r\nimport _ from 'lodash'\r\nimport { ActionsList } from '../../services/Users'\r\n\r\nexport default {\r\n  name: 'dashboard-total-log',\r\n  components: {\r\n    VaCardNoData,\r\n  },\r\n  data: () => ({\r\n    loading: false,\r\n    activePage: 1,\r\n    actions: [],\r\n  }),\r\n  computed: {\r\n    computedStyle() {\r\n      return {\r\n        color: this.$themes.brightForeground,\r\n        opacity: this.loading ? 0.2 : 1,\r\n      }\r\n    },\r\n    computedWidgetStyle() {\r\n      return {\r\n        color: this.$themes.brightForeground,\r\n      }\r\n    },\r\n    log() {\r\n      return _.chunk(this.actions, 8)\r\n    },\r\n  },\r\n  methods: {\r\n    refresh() {\r\n      this.loading = true\r\n// \r\n      // this.actions = []\r\n      // for (let i = 0; i < 30; i++) {\r\n      // this.actions.push({\r\n      // _id: i,\r\n      // user: {\r\n      // name: 'виталий гениталий',\r\n      // },\r\n      // relatedData: '',\r\n      // messageLocalPath:\r\n      // 'User has changed his',\r\n      // actionName: 'visited',\r\n      // formatedDate: '17.10.20 1:32:06',\r\n      // })\r\n      // }\r\n// \r\n      ActionsList().then(({ data: actions }) => {\r\n        this.loading = false\r\n        this.actions = actions\r\n      })\r\n    },\r\n    actionIcon(name) {\r\n      return {\r\n        registered: 'fa fa-user-plus',\r\n        authenticated: 'fa fa-sign-in',\r\n        visited: 'fa fa-map-marker',\r\n        name_changed: 'fa fa-edit',\r\n        transfer: 'fa fa-money',\r\n        withdrawal: 'fa fa-money',\r\n        deposit: 'fa fa-money',\r\n      }[name]\r\n    },\r\n  },\r\n  mounted() {\r\n    this.refresh()\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../sass/smart-grid.scss';\r\n\r\n.tab {\r\n  min-height: 232px;\r\n\r\n  &__wrap {\r\n    &__title {\r\n      font-weight: 600;\r\n      width: 100%;\r\n      height: 100%;\r\n\r\n      @include to(80rem) {\r\n        display: none;\r\n      }\r\n\r\n      @include from(80rem) {\r\n        height: 40px;\r\n        display: grid;\r\n        justify-items: center;\r\n        align-items: center;\r\n        grid-template-columns: 1fr 200px 150px;\r\n      }\r\n    }\r\n\r\n    &__table {\r\n      &__item {\r\n        width: calc(100% + 40px);\r\n        margin: 0 -20px;\r\n\r\n        @include to(80rem) {\r\n          display: grid;\r\n          grid-template-columns: 70px 1fr;\r\n        }\r\n\r\n        @include from(80rem) {\r\n          display: block;\r\n        }\r\n\r\n        &__title {\r\n          height: 100%;\r\n\r\n          div {\r\n            display: grid;\r\n            align-content: center;\r\n            text-indent: 10px;\r\n            width: 100%;\r\n            height: 100%;\r\n\r\n            border: 1px #ffffff11 solid;\r\n          }\r\n\r\n          @include to(80rem) {\r\n            display: grid;\r\n            grid-template-rows: 2fr 1fr 1fr;\r\n            justify-items: center;\r\n            align-items: center;\r\n          }\r\n\r\n          @include from(80rem) {\r\n            display: none;\r\n          }\r\n        }\r\n\r\n        &__props {\r\n          min-height: 55px;\r\n\r\n          @include to(80rem) {\r\n            display: grid;\r\n            grid-template-rows: 2fr 1fr 1fr;\r\n          }\r\n\r\n          @include from(80rem) {\r\n            display: grid;\r\n            grid-template-columns: 1fr 200px 150px;\r\n          }\r\n\r\n          div {\r\n            width: 100%;\r\n            height: 100%;\r\n            display: flex;\r\n            padding: 10px;\r\n            border: 1px #ffffff11 solid;\r\n          }\r\n\r\n          &-action {\r\n            align-items: center;\r\n          }\r\n\r\n          &-date,\r\n          &-name {\r\n            text-align: center;\r\n\r\n             @include to(80rem) {\r\n              align-items: center;\r\n              justify-content: flex-start;\r\n            }\r\n\r\n            @include from(80rem) {\r\n              align-items: center;\r\n              justify-content: center;\r\n            }\r\n          }\r\n        }\r\n        &:nth-child(odd) {\r\n          background-color: #ffffff07;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  &__pagination_wrap {\r\n    display: grid;\r\n    justify-content: center;\r\n    height: 2rem;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/dashboard"}]}