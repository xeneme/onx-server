{"remainingRequest":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/babel-loader/lib/index.js!/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/src/components/dashboard/dashboard-profile-tabs/ProfileActions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/src/components/dashboard/dashboard-profile-tabs/ProfileActions.vue","mtime":1604779226326},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZhQ2FyZE5vRGF0YSBmcm9tICcuLi9jb21wb25lbnRzL1ZhQ2FyZE5vRGF0YSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IFRocm93UG9wdXAgfSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlcy9Vc2Vycyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBWYUNhcmROb0RhdGE6IFZhQ2FyZE5vRGF0YQogIH0sCiAgcHJvcHM6IHsKICAgIGxvYWRpbmc6IEJvb2xlYW4KICB9LAogIGluamVjdDogWyd1c2VyJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1c3RvbVBvcHVwVHlwZTogJ0Vycm9yJywKICAgICAgY3VzdG9tUG9wdXBUaXRsZTogJycsCiAgICAgIGN1c3RvbVBvcHVwVGV4dDogJycKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgYWN0aW9uczogZnVuY3Rpb24gYWN0aW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMudXNlci5hY3Rpb25zOwogICAgfSwKICAgIGNvbXB1dGVkU3R5bGU6IGZ1bmN0aW9uIGNvbXB1dGVkU3R5bGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgb3BhY2l0eTogdGhpcy5sb2FkaW5nID8gMC4yIDogMQogICAgICB9OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2VuZFBvcHVwOiBmdW5jdGlvbiBzZW5kUG9wdXAoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBUaHJvd1BvcHVwKHRoaXMudXNlci5pZCwgdGhpcy5jdXN0b21Qb3B1cFR5cGUsIHRoaXMuY3VzdG9tUG9wdXBUaXRsZSwgdGhpcy5jdXN0b21Qb3B1cFRleHQpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CgogICAgICAgIF90aGlzLmhhbmRsZVN1Y2Nlc3MoewogICAgICAgICAgbWVzc2FnZTogJ1BvcHVwIHN1Y2Nlc3NmdWxseSBzZW50IScKICAgICAgICB9KTsKICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UpOwoKICAgICAgICBfdGhpcy5oYW5kbGVTdWNjZXNzKHsKICAgICAgICAgIG1lc3NhZ2U6ICdQb3B1cCBoYXMgbm8gc2VudC4nCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZVN1Y2Nlc3MocmVzcG9uc2UpIHsKICAgICAgdGhpcy5zaG93VG9hc3QocmVzcG9uc2UubWVzc2FnZSwgewogICAgICAgIGljb246ICdmYS1jaGVjaycsCiAgICAgICAgcG9zaXRpb246ICdib3R0b20tY2VudGVyJywKICAgICAgICBkdXJhdGlvbjogNDAwMCwKICAgICAgICB0eXBlOiAncHJpbWFyeScKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIGhhbmRsZUVycm9yKHJlc3BvbnNlKSB7CiAgICAgIHRoaXMuc2hvd1RvYXN0KHJlc3BvbnNlLm1lc3NhZ2UsIHsKICAgICAgICBpY29uOiAnZmEtdGltZXMnLAogICAgICAgIHBvc2l0aW9uOiAnYm90dG9tLWNlbnRlcicsCiAgICAgICAgZHVyYXRpb246IDQwMDAsCiAgICAgICAgdHlwZTogJ3ByaW1hcnknCiAgICAgIH0pOwogICAgfSwKICAgIGRvQVBJUmVxdWVzdDogZnVuY3Rpb24gZG9BUElSZXF1ZXN0KHVybCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArIHVybCk7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGF4aW9zLmdldCh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyB1cmwpLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlID0gX3JlZjIuZGF0YTsKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpczIuJHJvb3QuJGVtaXQoJ3JlZnJlc2gtcHJvZmlsZScpOwoKICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmFjdGlvbiA9PT0gJ3NpZ24gaW4gYXMnKSB7CiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2F1dGgtdG9rZW4nLCByZXNwb25zZS50b2tlbik7CiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2FkbWluLXRva2VuJywgcmVzcG9uc2UuYWRtaW4pOwogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuc2hvd1RvYXN0KCJUaGUgdXNlciBoYXMgYmVlbiAiLmNvbmNhdChyZXNwb25zZS5hY3Rpb24sICJkISIpLCB7CiAgICAgICAgICAgICAgaWNvbjogJ2ZhLWNoZWNrJywKICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbS1jZW50ZXInLAogICAgICAgICAgICAgIGR1cmF0aW9uOiA0MDAwLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICAgIF90aGlzMi5zaG93VG9hc3QoIlRoZSB1c2VyIGhhcyBub3QgYmVlbiAiLmNvbmNhdChyZXNwb25zZS5hY3Rpb24sICJkLiIpLCB7CiAgICAgICAgICAgIGljb246ICdmYS10aW1lcycsCiAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tLWNlbnRlcicsCiAgICAgICAgICAgIGR1cmF0aW9uOiA0MDAwLAogICAgICAgICAgICB0eXBlOiAncHJpbWFyeScKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlID0gX3JlZjMucmVzcG9uc2U7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSB0cnVlOwoKICAgICAgICBfdGhpczIuc2hvd1RvYXN0KHJlc3BvbnNlLmRhdGEubWVzc2FnZSArICcgU3RhdHVzIGNvZGUgJyArIChyZXNwb25zZSA/IHJlc3BvbnNlLnN0YXR1cyA6ICclQ09ERSUnKSwgewogICAgICAgICAgaWNvbjogJ2ZhLXRpbWVzJywKICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tLWNlbnRlcicsCiAgICAgICAgICBkdXJhdGlvbjogNDAwMCwKICAgICAgICAgIHR5cGU6ICdwcmltYXJ5JwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ProfileActions.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <va-inner-loading :loading=\"loading && actions.length\">\r\n    <div v-if=\"actions.length\" class=\"tab\" :style=\"computedStyle\">\r\n      <div class=\"tab__actions\">\r\n        <va-button\r\n          v-for=\"action in actions\"\r\n          :key=\"action.name\"\r\n          outline\r\n          :color=\"action.color\"\r\n          @click=\"doAPIRequest(action.url)\"\r\n          >{{ $t(action.nameLocalPath) }}</va-button\r\n        >\r\n      </div>\r\n      <div class=\"tab__send_popup mt-3\">\r\n        <va-accordion>\r\n          <va-collapse isOpenDefault>\r\n            <span slot=\"header\">\r\n              {{ $t('dashboard.profile.actions.popup.header') }}\r\n            </span>\r\n            <div slot=\"body\">\r\n              <va-select\r\n                :options=\"['Error', 'Warning', 'Info']\"\r\n                value=\"Error\"\r\n                v-model=\"customPopupType\"\r\n                class=\"ma-0\"\r\n                :label=\"$t('dashboard.profile.actions.popup.type')\"\r\n                no-clear\r\n              />\r\n              <va-input\r\n                class=\"mb-3\"\r\n                :label=\"$t('dashboard.profile.actions.popup.title')\"\r\n                v-model=\"customPopupTitle\"\r\n              ></va-input>\r\n              <va-input\r\n                class=\"mb-3\"\r\n                :label=\"$t('dashboard.profile.actions.popup.message')\"\r\n                v-model=\"customPopupText\"\r\n              ></va-input>\r\n              <va-button\r\n                class=\"mt-2 justify--center\"\r\n                color=\"info\"\r\n                @click=\"sendPopup\"\r\n              >\r\n                {{ $t('dashboard.profile.actions.popup.send') }}\r\n              </va-button>\r\n            </div>\r\n          </va-collapse>\r\n        </va-accordion>\r\n      </div>\r\n    </div>\r\n    <VaCardNoData\r\n      v-else\r\n      :loading=\"loading\"\r\n      LT=\"Actions are loading...\"\r\n      ET=\"Nothing to do\"\r\n    />\r\n  </va-inner-loading>\r\n</template>\r\n\r\n<script>\r\nimport VaCardNoData from '../components/VaCardNoData'\r\nimport axios from 'axios'\r\nimport {ThrowPopup} from '../../../services/Users'\r\n\r\nexport default {\r\n  components: {\r\n    VaCardNoData,\r\n  },\r\n  props: {\r\n    loading: Boolean,\r\n  },\r\n  inject: ['user'],\r\n  data: () => ({\r\n    customPopupType: 'Error',\r\n    customPopupTitle: '',\r\n    customPopupText: '',\r\n  }),\r\n  computed: {\r\n    actions() {\r\n      return this.user.actions\r\n    },\r\n    computedStyle() {\r\n      return {\r\n        opacity: this.loading ? 0.2 : 1,\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    sendPopup() {\r\n      this.loading = true\r\n      ThrowPopup(this.user.id, this.customPopupType, this.customPopupTitle, this.customPopupText).then(({data}) => {\r\n        this.loading = false\r\n        console.log(data)\r\n        this.handleSuccess({\r\n          message: 'Popup successfully sent!'\r\n        })\r\n      }).catch(err => {\r\n        this.loading = false\r\n        console.log(err.response)\r\n        this.handleSuccess({\r\n          message: 'Popup has no sent.'\r\n        })\r\n      })\r\n    },\r\n    handleSuccess(response) {\r\n        this.showToast(response.message, {\r\n          icon: 'fa-check',\r\n          position: 'bottom-center',\r\n          duration: 4000,\r\n          type: 'primary',\r\n        })\r\n      },\r\n      handleError(response) {\r\n        this.showToast(response.message, {\r\n          icon: 'fa-times',\r\n          position: 'bottom-center',\r\n          duration: 4000,\r\n          type: 'primary',\r\n        })\r\n      },\r\n    doAPIRequest(url) {\r\n      console.log(window.location.protocol + '//' + window.location.host + url)\r\n      this.loading = true\r\n      axios\r\n        .get(window.location.protocol + '//' + window.location.host + url)\r\n        .then(({ data: response }) => {\r\n          this.loading = false\r\n          this.$root.$emit('refresh-profile')\r\n\r\n          if (response.success) {\r\n            if (response.action === 'sign in as') {\r\n              sessionStorage.setItem('auth-token', response.token)\r\n              sessionStorage.setItem('admin-token', response.admin)\r\n              window.location.assign(\r\n                window.location.protocol + '//' + window.location.host\r\n              )\r\n            } else {\r\n              this.showToast(`The user has been ${response.action}d!`, {\r\n                icon: 'fa-check',\r\n                position: 'bottom-center',\r\n                duration: 4000,\r\n                type: 'success',\r\n              })\r\n            }\r\n          } else {\r\n            console.log(response)\r\n            this.showToast(`The user has not been ${response.action}d.`, {\r\n              icon: 'fa-times',\r\n              position: 'bottom-center',\r\n              duration: 4000,\r\n              type: 'primary',\r\n            })\r\n          }\r\n        })\r\n        .catch(({ response }) => {\r\n          this.loading = true\r\n          this.showToast(\r\n            response.data.message +\r\n              ' Status code ' +\r\n              (response ? response.status : '%CODE%'),\r\n            {\r\n              icon: 'fa-times',\r\n              position: 'bottom-center',\r\n              duration: 4000,\r\n              type: 'primary',\r\n            }\r\n          )\r\n        })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tab {\r\n  min-height: 65px;\r\n\r\n  &__actions {\r\n    max-width: 100%;\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/dashboard/dashboard-profile-tabs"}]}