{"remainingRequest":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/thread-loader/dist/cjs.js!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/babel-loader/lib/index.js!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/src/components/maps/bubble-maps/BubbleMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/src/components/maps/bubble-maps/BubbleMap.vue","mtime":1594635175640},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCmltcG9ydCAnYW1jaGFydHMzJzsKaW1wb3J0ICdhbWNoYXJ0czMvYW1jaGFydHMvcGx1Z2lucy9yZXNwb25zaXZlL3Jlc3BvbnNpdmUuanMnOwppbXBvcnQgJ2FtY2hhcnRzMy9hbWNoYXJ0cy9zZXJpYWwuanMnOwppbXBvcnQgJ2FtY2hhcnRzMy9hbWNoYXJ0cy90aGVtZXMvbGlnaHQnOwppbXBvcnQgJ2FtbWFwMyc7CmltcG9ydCAnYW1tYXAzL2FtbWFwL21hcHMvanMvd29ybGRMb3cnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2J1YmJsZS1tYXAnLAogIHByb3BzOiBbJ21hcERhdGEnXSwKICBtZXRob2RzOiB7CiAgICBkcmF3TWFwOiBmdW5jdGlvbiBkcmF3TWFwKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLyogZ2xvYmFsIEFtQ2hhcnRzICovCiAgICAgIHZhciBtaW5CdWxsZXRTaXplID0gMzsKICAgICAgdmFyIG1heEJ1bGxldFNpemUgPSA3MDsKICAgICAgdmFyIG1pbiA9IEluZmluaXR5OwogICAgICB2YXIgbWF4ID0gLUluZmluaXR5OwogICAgICBBbUNoYXJ0cy50aGVtZSA9IEFtQ2hhcnRzLnRoZW1lcy5saWdodDsgLy8gZ2V0IG1pbiBhbmQgbWF4IHZhbHVlcwoKICAgICAgdGhpcy5tYXBEYXRhLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZGF0YUl0ZW0pIHsKICAgICAgICB2YXIgdmFsdWUgPSBkYXRhSXRlbS52YWx1ZTsKCiAgICAgICAgaWYgKHZhbHVlIDwgbWluKSB7CiAgICAgICAgICBtaW4gPSB2YWx1ZTsKICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZSA+IG1heCkgewogICAgICAgICAgbWF4ID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9KTsgLy8gYnVpbGQgbWFwCgogICAgICB2YXIgbWFwID0gbmV3IEFtQ2hhcnRzLkFtTWFwKCk7CiAgICAgIG1hcC5wcm9qZWN0aW9uID0gJ3dpbmtlbDMnOwogICAgICBtYXAuYWRkVGl0bGUoJ1BvcHVsYXRpb24gb2YgdGhlIFdvcmxkIGluIDIwMTEnLCAxNCwgMSwgMSwgZmFsc2UpOwogICAgICBtYXAuYWRkVGl0bGUoJ3NvdXJjZTogR2FwbWluZGVyJywgMTEsIDEsIDEsIDEsIGZhbHNlKTsKICAgICAgbWFwLmFyZWFzU2V0dGluZ3MgPSB7CiAgICAgICAgdW5saXN0ZWRBcmVhc0NvbG9yOiAnI2VlZScsCiAgICAgICAgdW5saXN0ZWRBcmVhc0FscGhhOiAxLAogICAgICAgIG91dGxpbmVDb2xvcjogJyNmZmYnLAogICAgICAgIG91dGxpbmVUaGlja25lc3M6IDIKICAgICAgfTsKICAgICAgbWFwLmltYWdlc1NldHRpbmdzID0gewogICAgICAgIGJhbGxvb25UZXh0OiAnPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxNHB4Ij48Yj5bW3RpdGxlXV08L2I+OiBbW3ZhbHVlXV08L3NwYW4+JywKICAgICAgICBhbHBoYTogMC43NQogICAgICB9OwogICAgICB2YXIgZGF0YVByb3ZpZGVyID0gewogICAgICAgIG1hcFZhcjogQW1DaGFydHMubWFwcy53b3JsZExvdywKICAgICAgICBpbWFnZXM6IFtdCiAgICAgIH07IC8vIGNyZWF0ZSBjaXJjbGUgZm9yIGVhY2ggY291bnRyeQogICAgICAvLyBpdCdzIGJldHRlciB0byB1c2UgY2lyY2xlIHNxdWFyZSB0byBzaG93IGRpZmZlcmVuY2UgYmV0d2VlbiB2YWx1ZXMsIG5vdCBhIHJhZGl1cwoKICAgICAgdmFyIG1heFNxdWFyZSA9IG1heEJ1bGxldFNpemUgKiBtYXhCdWxsZXRTaXplICogMiAqIE1hdGguUEk7CiAgICAgIHZhciBtaW5TcXVhcmUgPSBtaW5CdWxsZXRTaXplICogbWluQnVsbGV0U2l6ZSAqIDIgKiBNYXRoLlBJOyAvLyBjcmVhdGUgY2lyY2xlIGZvciBlYWNoIGNvdW50cnkKCiAgICAgIHRoaXMubWFwRGF0YS5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGRhdGFJdGVtKSB7CiAgICAgICAgdmFyIHZhbHVlID0gZGF0YUl0ZW0udmFsdWU7IC8vIGNhbGN1bGF0ZSBzaXplIG9mIGEgYnViYmxlCgogICAgICAgIHZhciBzcXVhcmUgPSAodmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbikgKiAobWF4U3F1YXJlIC0gbWluU3F1YXJlKSArIG1pblNxdWFyZTsKCiAgICAgICAgaWYgKHNxdWFyZSA8IG1pblNxdWFyZSkgewogICAgICAgICAgc3F1YXJlID0gbWluU3F1YXJlOwogICAgICAgIH0KCiAgICAgICAgdmFyIHNpemUgPSBNYXRoLnNxcnQoc3F1YXJlIC8gKE1hdGguUEkgKiAyKSk7CiAgICAgICAgdmFyIGlkID0gZGF0YUl0ZW0uY29kZTsKICAgICAgICBkYXRhUHJvdmlkZXIuaW1hZ2VzLnB1c2goewogICAgICAgICAgdHlwZTogJ2NpcmNsZScsCiAgICAgICAgICB3aWR0aDogc2l6ZSwKICAgICAgICAgIGhlaWdodDogc2l6ZSwKICAgICAgICAgIGNvbG9yOiBkYXRhSXRlbS5jb2xvciwKICAgICAgICAgIGxvbmdpdHVkZTogX3RoaXMubWFwRGF0YS5sYXRsb25nW2lkXS5sb25naXR1ZGUsCiAgICAgICAgICBsYXRpdHVkZTogX3RoaXMubWFwRGF0YS5sYXRsb25nW2lkXS5sYXRpdHVkZSwKICAgICAgICAgIHRpdGxlOiBkYXRhSXRlbS5uYW1lLAogICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBtYXAuZGF0YVByb3ZpZGVyID0gZGF0YVByb3ZpZGVyOwogICAgICBtYXAud3JpdGUodGhpcy4kZWwpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZHJhd01hcCgpOwogIH0KfTs="},{"version":3,"sources":["BubbleMap.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"bubble-map fill-height\" />\n</template>\n\n<script>\nimport 'amcharts3'\nimport 'amcharts3/amcharts/plugins/responsive/responsive.js'\nimport 'amcharts3/amcharts/serial.js'\nimport 'amcharts3/amcharts/themes/light'\n\nimport 'ammap3'\nimport 'ammap3/ammap/maps/js/worldLow'\n\nexport default {\n  name: 'bubble-map',\n\n  props: ['mapData'],\n\n  methods: {\n    drawMap () {\n      /* global AmCharts */\n      const minBulletSize = 3\n      const maxBulletSize = 70\n      let min = Infinity\n      let max = -Infinity\n      AmCharts.theme = AmCharts.themes.light\n\n      // get min and max values\n      this.mapData.data.forEach((dataItem) => {\n        const value = dataItem.value\n        if (value < min) {\n          min = value\n        }\n        if (value > max) {\n          max = value\n        }\n      })\n\n      // build map\n      const map = new AmCharts.AmMap()\n\n      map.projection = 'winkel3'\n      map.addTitle('Population of the World in 2011', 14, 1, 1, false)\n      map.addTitle('source: Gapminder', 11, 1, 1, 1, false)\n      map.areasSettings = {\n        unlistedAreasColor: '#eee',\n        unlistedAreasAlpha: 1,\n        outlineColor: '#fff',\n        outlineThickness: 2,\n      }\n      map.imagesSettings = {\n        balloonText: '<span style=\"font-size:14px\"><b>[[title]]</b>: [[value]]</span>',\n        alpha: 0.75,\n      }\n\n      const dataProvider = {\n        mapVar: AmCharts.maps.worldLow,\n        images: [],\n      }\n\n      // create circle for each country\n      // it's better to use circle square to show difference between values, not a radius\n      const maxSquare = maxBulletSize * maxBulletSize * 2 * Math.PI\n      const minSquare = minBulletSize * minBulletSize * 2 * Math.PI\n\n      // create circle for each country\n      this.mapData.data.forEach((dataItem) => {\n        const value = dataItem.value\n        // calculate size of a bubble\n        let square = (value - min) / (max - min) * (maxSquare - minSquare) + minSquare\n        if (square < minSquare) {\n          square = minSquare\n        }\n        const size = Math.sqrt(square / (Math.PI * 2))\n        const id = dataItem.code\n        dataProvider.images.push({\n          type: 'circle',\n          width: size,\n          height: size,\n          color: dataItem.color,\n          longitude: this.mapData.latlong[id].longitude,\n          latitude: this.mapData.latlong[id].latitude,\n          title: dataItem.name,\n          value: value,\n        })\n      })\n\n      map.dataProvider = dataProvider\n      map.write(this.$el)\n    },\n  },\n\n  mounted () {\n    this.drawMap()\n  },\n}\n</script>\n"],"sourceRoot":"src/components/maps/bubble-maps"}]}