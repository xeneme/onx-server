{"remainingRequest":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/babel-loader/lib/index.js!/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/src/components/dashboard/DashboardDialogues.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/src/components/dashboard/DashboardDialogues.vue","mtime":1604779146008},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/clean-vuestic/2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7CmltcG9ydCBfZGF0YSBmcm9tICcuLi9tYXJrdXAtdGFibGVzL2RhdGEyLmpzb24nOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzOiBfZGF0YS5tYXAoZnVuY3Rpb24gKHUpIHsKICAgICAgICB1Lm5hbWUgPSB1LmZpcnN0TmFtZSArICcgJyArIHUubGFzdE5hbWU7CiAgICAgICAgcmV0dXJuIHU7CiAgICAgIH0pLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdGVybTogbnVsbCwKICAgICAgbW9kZTogMCwKICAgICAgdXNlclJlcXVpc2l0ZTogJycKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgey8vIHRoaXMudXBkYXRlRGlhbG9ndWVzKCkKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb21wdXRlZFdpZGdldENvbG9yOiBmdW5jdGlvbiBjb21wdXRlZFdpZGdldENvbG9yKCkgewogICAgICByZXR1cm4gdGhpcy4kdGhlbWVzLmJhY2tncm91bmQ7CiAgICB9LAogICAgZmllbGRzOiBmdW5jdGlvbiBmaWVsZHMoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIG5hbWU6ICdfX3Nsb3Q6aWNvbicsCiAgICAgICAgd2lkdGg6ICczMHB4JywKICAgICAgICBkYXRhQ2xhc3M6ICd0ZXh0LWNlbnRlcicKICAgICAgfSwgewogICAgICAgIG5hbWU6ICduYW1lJywKICAgICAgICB0aXRsZTogdGhpcy4kdCgndGFibGVzLmhlYWRpbmdzLm5hbWUnKSwKICAgICAgICB3aWR0aDogJzMwJScKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdlbWFpbCcsCiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3RhYmxlcy5oZWFkaW5ncy5lbWFpbCcpLAogICAgICAgIHdpZHRoOiAnNTAlJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ19fc2xvdDpvbmxpbmUnLAogICAgICAgIHRpdGxlOiB0aGlzLiR0KCd0YWJsZXMuaGVhZGluZ3Muc3RhdHVzJyksCiAgICAgICAgd2lkdGg6ICcxMCUnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnX19zbG90Om1lc3NhZ2VzQ291bnQnLAogICAgICAgIGRhdGFDbGFzczogJ3RleHQtcmlnaHQnLAogICAgICAgIHNvcnRGaWVsZDogJ29ubGluZScKICAgICAgfV07CiAgICB9LAogICAgZmlsdGVyZWREYXRhOiBmdW5jdGlvbiBmaWx0ZXJlZERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMudGVybSB8fCB0aGlzLnRlcm0ubGVuZ3RoIDwgMSkgewogICAgICAgIHJldHVybiB0aGlzLnVzZXJzOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy51c2Vycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChfdGhpcy50ZXJtLnRvTG93ZXJDYXNlKCkpIHx8IGl0ZW0uZW1haWwudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKF90aGlzLnRlcm0udG9Mb3dlckNhc2UoKSkgfHwgT2JqZWN0LmVudHJpZXMoaXRlbSkubWFwKGZ1bmN0aW9uIChwcm9wKSB7CiAgICAgICAgICByZXR1cm4gcHJvcFswXSA9PT0gJ29ubGluZScgPyBwcm9wWzFdID8gJ29ubGluZScgOiAnb2ZmbGluZScgOiBwcm9wWzFdLnRvU3RyaW5nKCk7CiAgICAgICAgfSkuaW5jbHVkZXMoX3RoaXMudGVybSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlRGlhbG9ndWVzOiBmdW5jdGlvbiB1cGRhdGVEaWFsb2d1ZXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgVXNlcnNMaXN0KCkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLnVzZXJzID0gZGF0YTsKICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgIF90aGlzMi5zaG93VG9hc3QoJ1RoZXJlIHdhcyBhbiBlcnJvciB3aGVuIHRyeWluZyB0byBmZXRjaCB0aGUgdXNlcnMgbGlzdC4gU3RhdHVzIGNvZGUgJyArIChlcnIucmVzcG9uc2UgPyBlcnIucmVzcG9uc2Uuc3RhdHVzIDogJyVDT0RFJScpLCB7CiAgICAgICAgICBpY29uOiAnZmEtdGltZXMnLAogICAgICAgICAgcG9zaXRpb246ICdib3R0b20tY2VudGVyJywKICAgICAgICAgIGR1cmF0aW9uOiA0MDAwLAogICAgICAgICAgdHlwZTogJ3ByaW1hcnknCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFN0YXR1c0NvbG9yOiBmdW5jdGlvbiBnZXRTdGF0dXNDb2xvcihzdGF0dXMpIHsKICAgICAgcmV0dXJuIFsnZGFuZ2VyJywgJ3N1Y2Nlc3MnXVsrc3RhdHVzXTsKICAgIH0sCiAgICBzZWFyY2g6IGRlYm91bmNlKGZ1bmN0aW9uICh0ZXJtKSB7CiAgICAgIHRoaXMudGVybSA9IHRlcm07CiAgICB9LCA0MDApCiAgfQp9Ow=="},{"version":3,"sources":["DashboardDialogues.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,OAAA,QAAA,MAAA,iBAAA;AACA,OAAA,KAAA,MAAA,6BAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,CAAA,CAAA,IAAA,GAAA,CAAA,CAAA,SAAA,GAAA,GAAA,GAAA,CAAA,CAAA,QAAA;AACA,eAAA,CAAA;AACA,OAHA,CADA;AAKA,MAAA,OAAA,EAAA,KALA;AAMA,MAAA,IAAA,EAAA,IANA;AAOA,MAAA,IAAA,EAAA,CAPA;AAQA,MAAA,aAAA,EAAA;AARA,KAAA;AAUA,GAZA;AAaA,EAAA,OAbA,qBAaA,CACA;AACA,GAfA;AAgBA,EAAA,QAAA,EAAA;AACA,IAAA,mBADA,iCACA;AACA,aAAA,KAAA,OAAA,CAAA,UAAA;AACA,KAHA;AAIA,IAAA,MAJA,oBAIA;AACA,aAAA,CACA;AACA,QAAA,IAAA,EAAA,aADA;AAEA,QAAA,KAAA,EAAA,MAFA;AAGA,QAAA,SAAA,EAAA;AAHA,OADA,EAMA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OANA,EAWA;AACA,QAAA,IAAA,EAAA,OADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,uBAAA,CAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAXA,EAgBA;AACA,QAAA,IAAA,EAAA,eADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,wBAAA,CAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAhBA,EAqBA;AACA,QAAA,IAAA,EAAA,sBADA;AAEA,QAAA,SAAA,EAAA,YAFA;AAGA,QAAA,SAAA,EAAA;AAHA,OArBA,CAAA;AA2BA,KAhCA;AAiCA,IAAA,YAjCA,0BAiCA;AAAA;;AACA,UAAA,CAAA,KAAA,IAAA,IAAA,KAAA,IAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,eAAA,KAAA,KAAA;AACA;;AAEA,aAAA,KAAA,KAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eACA,IAAA,CAAA,IAAA,CAAA,WAAA,GAAA,UAAA,CAAA,KAAA,CAAA,IAAA,CAAA,WAAA,EAAA,KACA,IAAA,CAAA,KAAA,CAAA,WAAA,GAAA,UAAA,CAAA,KAAA,CAAA,IAAA,CAAA,WAAA,EAAA,CADA,IAEA,MAAA,CAAA,OAAA,CAAA,IAAA,EACA,GADA,CACA,UAAA,IAAA;AAAA,iBACA,IAAA,CAAA,CAAA,CAAA,KAAA,QAAA,GACA,IAAA,CAAA,CAAA,CAAA,GACA,QADA,GAEA,SAHA,GAIA,IAAA,CAAA,CAAA,CAAA,CAAA,QAAA,EALA;AAAA,SADA,EAQA,QARA,CAQA,KAAA,CAAA,IARA,CAHA;AAaA,OAdA,CAAA;AAeA;AArDA,GAhBA;AAuEA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AAEA,MAAA,SAAA,GACA,IADA,CACA,gBAAA;AAAA,YAAA,IAAA,QAAA,IAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,IAAA;AACA,OAJA,WAKA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;;AACA,QAAA,MAAA,CAAA,SAAA,CACA,0EACA,GAAA,CAAA,QAAA,GAAA,GAAA,CAAA,QAAA,CAAA,MAAA,GAAA,QADA,CADA,EAGA;AACA,UAAA,IAAA,EAAA,UADA;AAEA,UAAA,QAAA,EAAA,eAFA;AAGA,UAAA,QAAA,EAAA,IAHA;AAIA,UAAA,IAAA,EAAA;AAJA,SAHA;AAUA,OAjBA;AAkBA,KAtBA;AAuBA,IAAA,cAvBA,0BAuBA,MAvBA,EAuBA;AACA,aAAA,CAAA,QAAA,EAAA,SAAA,EAAA,CAAA,MAAA,CAAA;AACA,KAzBA;AA0BA,IAAA,MAAA,EAAA,QAAA,CAAA,UAAA,IAAA,EAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,KAFA,EAEA,GAFA;AA1BA;AAvEA,CAAA","sourcesContent":["<template>\n  <va-card\n    :color=\"computedWidgetColor\"\n    :title=\"$t('dashboard.support.dialogues')\"\n  >\n    <va-button\n      slot=\"actions\"\n      color=\"info\"\n      class=\"mr-0\"\n      small\n      flat\n      @click=\"updateDialogues\"\n    >\n      <va-icon name=\"material-icons\">autorenew</va-icon>\n    </va-button>\n    <div class=\"row align--center mb-1\">\n      <div class=\"flex xs12 sm12 md12\">\n        <va-input\n          class=\"ma-0\"\n          :value=\"term\"\n          :placeholder=\"$t('tables.searchByName')\"\n          @input=\"search\"\n          removable\n        >\n          <va-icon name=\"fa fa-search\" slot=\"prepend\" />\n        </va-input>\n      </div>\n    </div>\n\n    <va-data-table\n      :fields=\"fields\"\n      :data=\"filteredData\"\n      :loading=\"loading\"\n      rowClass=\"user-row\"\n    >\n      <template v-slot:icon>\n        <va-icon\n          :name=\"'fa fa-user'\"\n          color=\"secondary\"\n        />\n      </template>\n      <template v-slot:starred=\"props\">\n        <va-icon\n          v-if=\"props.rowData.starred\"\n          name=\"fa fa-star\"\n          color=\"warning\"\n        />\n      </template>\n      <template v-slot:online=\"props\">\n        <va-badge :color=\"getStatusColor(props.rowData.online)\">\n          {{ Boolean(props.rowData.online) ? 'online' : 'offline' }}\n        </va-badge>\n      </template>\n\n      <template v-slot:messagesCount=\"props\">\n        <va-button small flat color=\"info\" @click=\"openDialogue\">\n          {{ props.rowData.messagesCount }}\n          <va-icon name=\"fa fa-envelope\" class=\"ml-1\"></va-icon>\n        </va-button>\n      </template>\n    </va-data-table>\n  </va-card>\n</template>\n\n<script>\nimport debounce from 'lodash/debounce'\nimport data from '../markup-tables/data2.json'\n\nexport default {\n  data() {\n    return {\n      users: data.map(u => {\n        u.name = u.firstName + ' ' + u.lastName\n        return u\n      }),\n      loading: false,\n      term: null,\n      mode: 0,\n      userRequisite: '',\n    }\n  },\n  mounted() {\n    // this.updateDialogues()\n  },\n  computed: {\n    computedWidgetColor() {\n      return this.$themes.background\n    },\n    fields() {\n      return [\n        {\n          name: '__slot:icon',\n          width: '30px',\n          dataClass: 'text-center',\n        },\n        {\n          name: 'name',\n          title: this.$t('tables.headings.name'),\n          width: '30%',\n        },\n        {\n          name: 'email',\n          title: this.$t('tables.headings.email'),\n          width: '50%',\n        },\n        {\n          name: '__slot:online',\n          title: this.$t('tables.headings.status'),\n          width: '10%',\n        },\n        {\n          name: '__slot:messagesCount',\n          dataClass: 'text-right',\n          sortField: 'online',\n        },\n      ]\n    },\n    filteredData() {\n      if (!this.term || this.term.length < 1) {\n        return this.users\n      }\n\n      return this.users.filter(item => {\n        return (\n          item.name.toLowerCase().startsWith(this.term.toLowerCase()) ||\n          item.email.toLowerCase().startsWith(this.term.toLowerCase()) ||\n          Object.entries(item)\n            .map(prop =>\n              prop[0] === 'online'\n                ? prop[1]\n                  ? 'online'\n                  : 'offline'\n                : prop[1].toString()\n            )\n            .includes(this.term)\n        )\n      })\n    },\n  },\n  methods: {\n    updateDialogues() {\n      this.loading = true\n\n      UsersList()\n        .then(({ data }) => {\n          this.loading = false\n          this.users = data\n        })\n        .catch(err => {\n          this.loading = false\n          this.showToast(\n            'There was an error when trying to fetch the users list. Status code ' +\n              (err.response ? err.response.status : '%CODE%'),\n            {\n              icon: 'fa-times',\n              position: 'bottom-center',\n              duration: 4000,\n              type: 'primary',\n            }\n          )\n        })\n    },\n    getStatusColor(status) {\n      return ['danger', 'success'][+status]\n    },\n    search: debounce(function(term) {\n      this.term = term\n    }, 400),\n  },\n}\n</script>\n\n<style lang=\"sass\">\n\n.profile__avatar\n  background: #aef\n  width: 40px\n  height: 40px\n  display: grid\n  place-items: center\n  border-radius: 100%\n  padding-top: 7px\n  overflow: hidden\n\n.user-row:nth-child(odd)\n  background-color: #ffffff04\n</style>\n"],"sourceRoot":"src/components/dashboard"}]}