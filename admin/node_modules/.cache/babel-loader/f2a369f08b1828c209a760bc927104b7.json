{"remainingRequest":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/thread-loader/dist/cjs.js!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/babel-loader/lib/index.js!/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/vuestic-ui/src/components/vuestic-components/va-popup/mixins/model-toggle.js","dependencies":[{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/vuestic-ui/src/components/vuestic-components/va-popup/mixins/model-toggle.js","mtime":1598034796000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CgovKiBlc2xpbnQgcHJlZmVyLXByb21pc2UtcmVqZWN0LWVycm9yczogMCAqLwppbXBvcnQgSGlzdG9yeSBmcm9tICcuLi9oaXN0b3J5JzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB2YWx1ZTogQm9vbGVhbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh2YWwpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmRpc2FibGUgJiYgdmFsKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBmYWxzZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzLnZhbHVlICE9PSBfdGhpcy5zaG93aW5nKSB7CiAgICAgICAgICBfdGhpc1t2YWwgPyAnc2hvdycgOiAnaGlkZSddKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGV2dCkgewogICAgICByZXR1cm4gdGhpc1t0aGlzLnNob3dpbmcgPyAnaGlkZScgOiAnc2hvdyddKGV2dCk7CiAgICB9LAogICAgc2hvdzogZnVuY3Rpb24gc2hvdyhldnQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5kaXNhYmxlIHx8IHRoaXMuc2hvd2luZykgewogICAgICAgIHJldHVybiB0aGlzLnNob3dQcm9taXNlIHx8IFByb21pc2UucmVzb2x2ZShldnQpOwogICAgICB9CgogICAgICB0aGlzLmhpZGVQcm9taXNlICYmIHRoaXMuaGlkZVByb21pc2VSZWplY3QoKTsKICAgICAgdGhpcy5zaG93aW5nID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLnZhbHVlID09PSBmYWxzZSkgewogICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdHJ1ZSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiRvcHRpb25zLm1vZGVsVG9nZ2xlID09PSB2b2lkIDAgfHwgdGhpcy4kb3B0aW9ucy5tb2RlbFRvZ2dsZS5oaXN0b3J5KSB7CiAgICAgICAgdGhpcy5fX2hpc3RvcnlFbnRyeSA9IHsKICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGlkZQogICAgICAgIH07CiAgICAgICAgSGlzdG9yeS5hZGQodGhpcy5fX2hpc3RvcnlFbnRyeSk7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5fX3Nob3cpIHsKICAgICAgICB0aGlzLiRlbWl0KCdzaG93JywgZXZ0KTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGV2dCk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2hvd1Byb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgX3RoaXMyLnNob3dQcm9taXNlUmVzb2x2ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5zaG93UHJvbWlzZSA9IG51bGw7CgogICAgICAgICAgX3RoaXMyLiRlbWl0KCdzaG93JywgZXZ0KTsKCiAgICAgICAgICByZXNvbHZlKGV2dCk7CiAgICAgICAgfTsKCiAgICAgICAgX3RoaXMyLnNob3dQcm9taXNlUmVqZWN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLnNob3dQcm9taXNlWyJjYXRjaCJdKGZ1bmN0aW9uICgpIHt9KTsKCiAgICAgICAgICBfdGhpczIuc2hvd1Byb21pc2UgPSBudWxsOwogICAgICAgICAgcmVqZWN0KG51bGwpOyAvLyBlc2xpbnQgcHJlZmVyLXByb21pc2UtcmVqZWN0LWVycm9yczogMAogICAgICAgIH07CiAgICAgIH0pOwoKICAgICAgdGhpcy5fX3Nob3coZXZ0KTsKCiAgICAgIHJldHVybiB0aGlzLnNob3dQcm9taXNlIHx8IFByb21pc2UucmVzb2x2ZShldnQpOwogICAgfSwKICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoZXZ0KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZGlzYWJsZSB8fCAhdGhpcy5zaG93aW5nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaGlkZVByb21pc2UgfHwgUHJvbWlzZS5yZXNvbHZlKGV2dCk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2hvd1Byb21pc2UgJiYgdGhpcy5zaG93UHJvbWlzZVJlamVjdCgpOwogICAgICB0aGlzLnNob3dpbmcgPSBmYWxzZTsKCiAgICAgIGlmICh0aGlzLnZhbHVlID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBmYWxzZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuX19yZW1vdmVIaXN0b3J5KCk7CgogICAgICBpZiAoIXRoaXMuX19oaWRlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnaGlkZScsIGV2dCk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpOwogICAgICB9CgogICAgICB0aGlzLmhpZGVQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIF90aGlzMy5oaWRlUHJvbWlzZVJlc29sdmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczMuaGlkZVByb21pc2UgPSBudWxsOwoKICAgICAgICAgIF90aGlzMy4kZW1pdCgnaGlkZScsIGV2dCk7CgogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH07CgogICAgICAgIF90aGlzMy5oaWRlUHJvbWlzZVJlamVjdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy5oaWRlUHJvbWlzZVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7fSk7CgogICAgICAgICAgX3RoaXMzLmhpZGVQcm9taXNlID0gbnVsbDsKICAgICAgICAgIHJlamVjdChudWxsKTsKICAgICAgICB9OwogICAgICB9KTsKCiAgICAgIHRoaXMuX19oaWRlKGV2dCk7CgogICAgICByZXR1cm4gdGhpcy5oaWRlUHJvbWlzZSB8fCBQcm9taXNlLnJlc29sdmUoZXZ0KTsKICAgIH0sCiAgICBfX3JlbW92ZUhpc3Rvcnk6IGZ1bmN0aW9uIF9fcmVtb3ZlSGlzdG9yeSgpIHsKICAgICAgaWYgKHRoaXMuX19oaXN0b3J5RW50cnkpIHsKICAgICAgICBIaXN0b3J5LnJlbW92ZSh0aGlzLl9faGlzdG9yeUVudHJ5KTsKICAgICAgICB0aGlzLl9faGlzdG9yeUVudHJ5ID0gbnVsbDsKICAgICAgfQogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0aGlzLnNob3dpbmcpIHsKICAgICAgdGhpcy5zaG93UHJvbWlzZSAmJiB0aGlzLnNob3dQcm9taXNlUmVqZWN0KCk7CiAgICAgIHRoaXMuaGlkZVByb21pc2UgJiYgdGhpcy5oaWRlUHJvbWlzZVJlamVjdCgpOwoKICAgICAgdGhpcy5fX3JlbW92ZUhpc3RvcnkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/mnt/d/Working_Area/DEV/CUSTOMERS/onyxian/admin/node_modules/vuestic-ui/src/components/vuestic-components/va-popup/mixins/model-toggle.js"],"names":["History","props","value","Boolean","data","showing","watch","val","disable","$emit","$nextTick","methods","toggle","evt","show","showPromise","Promise","resolve","hidePromise","hidePromiseReject","$options","modelToggle","history","__historyEntry","handler","hide","add","__show","reject","showPromiseResolve","showPromiseReject","__removeHistory","__hide","hidePromiseResolve","remove","beforeDestroy"],"mappings":"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","sourcesContent":["/* eslint prefer-promise-reject-errors: 0 */\r\nimport History from '../history'\r\n\r\nexport default {\r\n  props: {\r\n    value: Boolean,\r\n  },\r\n  data () {\r\n    return {\r\n      showing: false,\r\n    }\r\n  },\r\n  watch: {\r\n    value (val) {\r\n      if (this.disable && val) {\r\n        this.$emit('input', false)\r\n        return\r\n      }\r\n\r\n      this.$nextTick(() => {\r\n        if (this.value !== this.showing) {\r\n          this[val ? 'show' : 'hide']()\r\n        }\r\n      })\r\n    },\r\n  },\r\n  methods: {\r\n    toggle (evt) {\r\n      return this[this.showing ? 'hide' : 'show'](evt)\r\n    },\r\n    show (evt) {\r\n      if (this.disable || this.showing) {\r\n        return this.showPromise || Promise.resolve(evt)\r\n      }\r\n\r\n      this.hidePromise && this.hidePromiseReject()\r\n\r\n      this.showing = true\r\n      if (this.value === false) {\r\n        this.$emit('input', true)\r\n      }\r\n\r\n      if (this.$options.modelToggle === void 0 || this.$options.modelToggle.history) {\r\n        this.__historyEntry = {\r\n          handler: this.hide,\r\n        }\r\n        History.add(this.__historyEntry)\r\n      }\r\n\r\n      if (!this.__show) {\r\n        this.$emit('show', evt)\r\n        return Promise.resolve(evt)\r\n      }\r\n\r\n      this.showPromise = new Promise((resolve, reject) => {\r\n        this.showPromiseResolve = () => {\r\n          this.showPromise = null\r\n          this.$emit('show', evt)\r\n          resolve(evt)\r\n        }\r\n        this.showPromiseReject = () => {\r\n          this.showPromise.catch(() => {\r\n          })\r\n          this.showPromise = null\r\n          reject(null) // eslint prefer-promise-reject-errors: 0\r\n        }\r\n      })\r\n\r\n      this.__show(evt)\r\n      return this.showPromise || Promise.resolve(evt)\r\n    },\r\n    hide (evt) {\r\n      if (this.disable || !this.showing) {\r\n        return this.hidePromise || Promise.resolve(evt)\r\n      }\r\n\r\n      this.showPromise && this.showPromiseReject()\r\n\r\n      this.showing = false\r\n      if (this.value === true) {\r\n        this.$emit('input', false)\r\n      }\r\n\r\n      this.__removeHistory()\r\n\r\n      if (!this.__hide) {\r\n        this.$emit('hide', evt)\r\n        return Promise.resolve()\r\n      }\r\n\r\n      this.hidePromise = new Promise((resolve, reject) => {\r\n        this.hidePromiseResolve = () => {\r\n          this.hidePromise = null\r\n          this.$emit('hide', evt)\r\n          resolve()\r\n        }\r\n        this.hidePromiseReject = () => {\r\n          this.hidePromise.catch(() => {\r\n          })\r\n          this.hidePromise = null\r\n          reject(null)\r\n        }\r\n      })\r\n\r\n      this.__hide(evt)\r\n      return this.hidePromise || Promise.resolve(evt)\r\n    },\r\n\r\n    __removeHistory () {\r\n      if (this.__historyEntry) {\r\n        History.remove(this.__historyEntry)\r\n        this.__historyEntry = null\r\n      }\r\n    },\r\n  },\r\n  beforeDestroy () {\r\n    if (this.showing) {\r\n      this.showPromise && this.showPromiseReject()\r\n      this.hidePromise && this.hidePromiseReject()\r\n      this.__removeHistory()\r\n    }\r\n  },\r\n}\r\n"]}]}