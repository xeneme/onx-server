{"remainingRequest":"/mnt/c/Users/PC_CREATOR/vuestic-admin-2.1/node_modules/babel-loader/lib/index.js!/mnt/c/Users/PC_CREATOR/vuestic-admin-2.1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/mnt/c/Users/PC_CREATOR/vuestic-admin-2.1/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/Users/PC_CREATOR/vuestic-admin-2.1/src/components/data-tables/scenarios/DataTableInfiniteScroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/c/Users/PC_CREATOR/vuestic-admin-2.1/src/components/data-tables/scenarios/DataTableInfiniteScroll.vue","mtime":1594635175453},{"path":"/mnt/c/Users/PC_CREATOR/vuestic-admin-2.1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/vuestic-admin-2.1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/vuestic-admin-2.1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/PC_CREATOR/vuestic-admin-2.1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgU3ByaW5nU3Bpbm5lciB9IGZyb20gJ2VwaWMtc3Bpbm5lcnMnOwppbXBvcnQgdXNlcnMgZnJvbSAnLi4vLi4vLi4vZGF0YS91c2Vycy5qc29uJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFNwcmluZ1NwaW5uZXI6IFNwcmluZ1NwaW5uZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyczogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBvZmZzZXQ6IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZmllbGRzOiBmdW5jdGlvbiBmaWVsZHMoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIG5hbWU6ICdfX3Nsb3Q6bWFya2VyJywKICAgICAgICB3aWR0aDogJzMwcHgnLAogICAgICAgIGRhdGFDbGFzczogJ3RleHQtY2VudGVyJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ2Z1bGxOYW1lJywKICAgICAgICB0aXRsZTogdGhpcy4kdCgndGFibGVzLmhlYWRpbmdzLm5hbWUnKQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ2VtYWlsJywKICAgICAgICB0aXRsZTogdGhpcy4kdCgndGFibGVzLmhlYWRpbmdzLmVtYWlsJykKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdjb3VudHJ5JywKICAgICAgICB0aXRsZTogdGhpcy4kdCgndGFibGVzLmhlYWRpbmdzLmNvdW50cnknKQogICAgICB9XTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRNb3JlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkTW9yZTogZnVuY3Rpb24gbG9hZE1vcmUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLnJlYWRVc2VycygpLnRoZW4oZnVuY3Rpb24gKHVzZXJzKSB7CiAgICAgICAgX3RoaXMudXNlcnMgPSBfdGhpcy51c2Vycy5jb25jYXQodXNlcnMpOwogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgcmVhZFVzZXJzOiBmdW5jdGlvbiByZWFkVXNlcnMoKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXNvbHZlKHVzZXJzLnNsaWNlKDAsIDEwKSk7CiAgICAgICAgfSwgNjAwKTsKICAgICAgfSk7CiAgICB9LAogICAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKGUpIHsKICAgICAgaWYgKHRoaXMubG9hZGluZykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0OwoKICAgICAgaWYgKHRhcmdldC5vZmZzZXRIZWlnaHQgKyB0YXJnZXQuc2Nyb2xsVG9wID09PSB0YXJnZXQuc2Nyb2xsSGVpZ2h0KSB7CiAgICAgICAgdGhpcy5sb2FkTW9yZSgpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["DataTableInfiniteScroll.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,SAAA,aAAA,QAAA,eAAA;AACA,OAAA,KAAA,MAAA,0BAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA;AAKA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,aAAA,CAAA;AACA,QAAA,IAAA,EAAA,eADA;AAEA,QAAA,KAAA,EAAA,MAFA;AAGA,QAAA,SAAA,EAAA;AAHA,OAAA,EAIA;AACA,QAAA,IAAA,EAAA,UADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,sBAAA;AAFA,OAJA,EAOA;AACA,QAAA,IAAA,EAAA,OADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,uBAAA;AAFA,OAPA,EAUA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,yBAAA;AAFA,OAVA,CAAA;AAcA;AAhBA,GAXA;AA6BA,EAAA,OA7BA,qBA6BA;AACA,SAAA,QAAA;AACA,GA/BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AAEA,WAAA,SAAA,GACA,IADA,CACA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAJA;AAKA,KATA;AAUA,IAAA,SAVA,uBAUA;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA;AACA,SAFA,EAEA,GAFA,CAAA;AAGA,OAJA,CAAA;AAKA,KAhBA;AAiBA,IAAA,QAjBA,oBAiBA,CAjBA,EAiBA;AACA,UAAA,KAAA,OAAA,EAAA;AACA;AACA;;AAHA,UAKA,MALA,GAKA,CALA,CAKA,MALA;;AAOA,UAAA,MAAA,CAAA,YAAA,GAAA,MAAA,CAAA,SAAA,KAAA,MAAA,CAAA,YAAA,EAAA;AACA,aAAA,QAAA;AACA;AACA;AA3BA;AAhCA,CAAA","sourcesContent":["<template>\n  <va-card :title=\"$t('tables.infiniteScroll')\">\n    <div class=\"data-table-infinite-scroll--container\" ref=\"scrollable\" @scroll=\"onScroll\">\n      <va-data-table\n        :fields=\"fields\"\n        :data=\"users\"\n        api-mode\n        no-pagination\n      >\n        <template slot=\"marker\" slot-scope=\"props\">\n          <va-icon name=\"fa fa-circle\" :color=\"props.rowData.color\" size=\"8px\" />\n        </template>\n      </va-data-table>\n\n      <div class=\"flex-center ma-3\">\n        <spring-spinner\n          v-if=\"loading\"\n          :animation-duration=\"2000\"\n          :size=\"60\"\n          :color=\"$themes.primary\"\n        />\n      </div>\n    </div>\n  </va-card>\n</template>\n\n<script>\nimport { SpringSpinner } from 'epic-spinners'\nimport users from '../../../data/users.json'\n\nexport default {\n  components: {\n    SpringSpinner,\n  },\n  data () {\n    return {\n      users: [],\n      loading: false,\n      offset: 0,\n    }\n  },\n  computed: {\n    fields () {\n      return [{\n        name: '__slot:marker',\n        width: '30px',\n        dataClass: 'text-center',\n      }, {\n        name: 'fullName',\n        title: this.$t('tables.headings.name'),\n      }, {\n        name: 'email',\n        title: this.$t('tables.headings.email'),\n      }, {\n        name: 'country',\n        title: this.$t('tables.headings.country'),\n      }]\n    },\n  },\n  created () {\n    this.loadMore()\n  },\n  methods: {\n    loadMore () {\n      this.loading = true\n\n      this.readUsers()\n        .then(users => {\n          this.users = this.users.concat(users)\n          this.loading = false\n        })\n    },\n    readUsers () {\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve(users.slice(0, 10))\n        }, 600)\n      })\n    },\n    onScroll (e) {\n      if (this.loading) {\n        return\n      }\n\n      const { target } = e\n\n      if (target.offsetHeight + target.scrollTop === target.scrollHeight) {\n        this.loadMore()\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  .data-table-infinite-scroll--container {\n    height: 300px;\n    overflow-y: auto;\n  }\n</style>\n"],"sourceRoot":"src/components/data-tables/scenarios"}]}