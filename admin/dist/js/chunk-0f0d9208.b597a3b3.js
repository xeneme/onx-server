(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f0d9208"],{"00fd":function(t,e,a){var s=a("9e69"),o=Object.prototype,n=o.hasOwnProperty,i=o.toString,r=s?s.toStringTag:void 0;function c(t){var e=n.call(t,r),a=t[r];try{t[r]=void 0;var s=!0}catch(c){}var o=i.call(t);return s&&(e?t[r]=a:delete t[r]),o}t.exports=c},"05d5":function(t,e,a){"use strict";var s=a("2437"),o=a.n(s);o.a},"06c3":function(t,e,a){"use strict";var s=a("36e7"),o=a.n(s);o.a},"094f":function(t,e,a){"use strict";var s=a("70d7"),o=a.n(s);o.a},"0d3d":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"d",(function(){return u}));var s=a("bc3a"),o=a.n(s),n=window.location.protocol+"//"+window.location.host,i=function(t,e){return o.a.post(n+"/api/admin/transaction/delete",{id:t,user:e})},r=function(t){return o.a.post(n+"/api/admin/transaction/create",t)},c=function(t,e){return o.a.post(n+"/api/admin/deposit/delete",{id:t,user:e})},l=function(t){return o.a.post(n+"/api/wallet/deposit/create",t)},u=function(){return o.a.get(n+"/api/admin/deposits")}},1310:function(t,e){function a(t){return null!=t&&"object"==typeof t}t.exports=a},"19c2":function(t,e,a){"use strict";var s=a("e1f9"),o=a.n(s);o.a},"1a8c":function(t,e){function a(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=a},"1e28":function(t,e,a){},2437:function(t,e,a){},2986:function(t,e,a){"use strict";var s=a("9889"),o=a.n(s);o.a},"29f3":function(t,e){var a=Object.prototype,s=a.toString;function o(t){return s.call(t)}t.exports=o},"2b3e":function(t,e,a){var s=a("585a"),o="object"==typeof self&&self&&self.Object===Object&&self,n=s||o||Function("return this")();t.exports=n},"2d7a":function(t,e,a){},"36e7":function(t,e,a){},3729:function(t,e,a){var s=a("9e69"),o=a("00fd"),n=a("29f3"),i="[object Null]",r="[object Undefined]",c=s?s.toStringTag:void 0;function l(t){return null==t?void 0===t?r:i:c&&c in Object(t)?o(t):n(t)}t.exports=l},"3e44":function(t,e,a){"use strict";var s=a("1e28"),o=a.n(s);o.a},"408c":function(t,e,a){var s=a("2b3e"),o=function(){return s.Date.now()};t.exports=o},"45b9":function(t,e,a){},"466d2":function(t,e,a){"use strict";var s=a("2d7a"),o=a.n(s);o.a},"49c1":function(t,e,a){},"4c65":function(t,e,a){},"585a":function(t,e,a){(function(e){var a="object"==typeof e&&e&&e.Object===Object&&e;t.exports=a}).call(this,a("c8ba"))},"5e3f":function(t,e,a){"use strict";var s=a("fa3b"),o=a.n(s);o.a},"70d7":function(t,e,a){},"867c":function(t,e,a){"use strict";var s=a("8784"),o=a.n(s);o.a},"86c3":function(t,e,a){"use strict";var s=a("b670"),o=a.n(s);o.a},8784:function(t,e,a){},9889:function(t,e,a){},"9e69":function(t,e,a){var s=a("2b3e"),o=s.Symbol;t.exports=o},a69d:function(t,e,a){"use strict";a.r(e);var s,o,n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("div",{staticClass:"row row-equal"},[a("div",{staticClass:"flex md6 sm12 xs12 lg6 xl6"},[a("dashboard-profile")],1),a("div",{staticClass:"flex md6 sm12 xs12 lg6 xl6"},[a("dashboard-support")],1)]),a("div",{staticClass:"row row-equal"},[a("div",{staticClass:"flex lg6 md12"},[a("dashboard-users")],1),a("div",{staticClass:"flex lg6 md12"},[a("dashboard-total-log")],1)])])},r=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-card",{attrs:{color:t.computedWidgetColor,title:t.$t("dashboard.users.title")}},[a("va-button",{staticClass:"mr-0",attrs:{slot:"actions",color:"info",small:"",flat:""},on:{click:t.updateUsers},slot:"actions"},[a("va-icon",{attrs:{name:"material-icons"}},[t._v("autorenew")])],1),a("div",{staticClass:"row align--center mb-1"},[a("div",{staticClass:"flex xs6 sm6 md6 justify--end"},[a("va-input",{staticClass:"ma-0",attrs:{value:t.term,placeholder:t.$t("tables.search"),removable:""},on:{input:t.search}},[a("va-icon",{attrs:{slot:"prepend",name:"fa fa-search"},slot:"prepend"})],1)],1),a("div",{staticClass:"flex xs10 sm10 md4"},[a("div",{staticClass:"d-flex justify--end"},[a("va-button-toggle",{staticStyle:{"max-width":"100%"},attrs:{outline:"",options:t.modeOptions},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}})],1)])]),a("div",{staticClass:"loading-wrap",style:{opacity:t.loading?.5:1}},[a("va-data-table",{attrs:{fields:t.fields,data:t.filteredData,loading:t.loading,rowClass:"user-row"},scopedSlots:t._u([{key:"icon",fn:function(e){return[a("va-icon",{attrs:{name:"fa fa-"+t.getUserIcon(e.rowData.role),color:"secondary"}})]}},{key:"starred",fn:function(e){return[e.rowData.starred?a("va-icon",{attrs:{name:"fa fa-star",color:"warning"}}):t._e()]}},{key:"status",fn:function(e){return[a("va-badge",{attrs:{color:t.getStatusColor("online"===e.rowData.status)}},[t._v(" "+t._s(e.rowData.status)+" ")])]}},{key:"unread",fn:function(e){return[a("va-button",{attrs:{small:"",flat:"",disabled:!e.rowData.unread,color:e.rowData.unread?t.$themes.info:"#00000088"},on:{click:function(a){return t.getUserProfile(e.rowData)}}},[t._v(" "+t._s(e.rowData.unread||"")+" "),a("va-icon",{staticClass:"ml-1",attrs:{name:"fa fa-envelope"}})],1)]}},{key:"profile",fn:function(e){return[a("va-button",{attrs:{disabled:t.openingProfile,small:"",outline:"",color:"info"},on:{click:function(a){return t.getUserProfile(e.rowData)}}},[t._v(" "+t._s(t.$t("dashboard.users.profile"))+" ")])]}}])})],1)],1)},l=[],u=(a("4de4"),a("4160"),a("caad"),a("d81d"),a("0d03"),a("b0c0"),a("4fad"),a("d3b7"),a("25f0"),a("2532"),a("2ca0"),a("159b"),a("4795"),a("fc11")),d=a("b047"),f=a.n(d),p=a("bc3a"),m=a.n(p),h=window.location.protocol+"//"+window.location.host,g=function(){return m.a.get(h+"/api/admin/users")},v=function(){return m.a.get(h+"/api/admin/me")},b=function(t){return m.a.get(h+"/api/admin/user?id="+t)},_=function(){return m.a.get(h+"/api/admin/actions")},y=function(t){return m.a.get(h+"/api/admin/user/bind?email="+t)},C=function(t,e,a,s){return m.a.post(h+"/api/admin/user/"+t+"/throw_popup",{type:e,title:a,text:s})},w=(s={data:function(){return{users:[],openedUser:null,loading:!1,openingProfile:!0,term:null,mode:0,previousUsers:[],userRequisite:""}},mounted:function(){this.updateUsers()},computed:{computedWidgetColor:function(){return this.$themes.background},fields:function(){return[{name:"__slot:icon",width:"30px",dataClass:"text-center"},{name:"name",title:this.$t("tables.headings.name"),width:"25%"},{name:"__slot:unread",title:this.$t("tables.headings.support"),dataClass:"text-right"},{name:"email",title:this.$t("tables.headings.email"),width:"30%"},{name:"__slot:status",title:this.$t("tables.headings.status"),width:"20%",sortField:"status"},{name:"__slot:profile",dataClass:"text-right"}]},modeOptions:function(){return[{value:0,label:this.$t("dashboard.users.all")},{value:1,label:this.$t("dashboard.users.newMessages")}]},filteredData:function(){var t=this,e=this.mode?this.users.filter((function(t){return t.unread})):this.users;return!this.term||this.term.length<1?e:e.filter((function(e){return e.name.toLowerCase().startsWith(t.term.toLowerCase())||e.email.toLowerCase().startsWith(t.term.toLowerCase())||Object.entries(e).map((function(t){return"online"===t[0]?t[1]?"online":"offline":t[1].toString()})).includes(t.term)}))}},methods:{profileOpened:function(){this.openingProfile=!1},getUserProfile:function(t){var e=this;this.openingProfile||(this.openingProfile=!0,this.$root.$emit("getting-profile"),this.$root.$emit("getting-dialogue"),b(t.id).then((function(a){var s=a.data;e.profileOpened(),e.$root.$emit("open-dialogue",{messages:s.messages,user:t}),e.$root.$emit("open-profile",s),e.openedUser=t}))["catch"]((function(t){console.log(t),e.profileOpened(),e.$root.$emit("open-profile",{}),e.showToast("Cannot open his profile. Status code "+(t.response?t.response.status:"%CODE%"),{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})})))},bindUser:function(){var t=this;this.loading=!0,y(this.userRequisite).then((function(){t.userRequisite="",t.updateUsers(),t.showToast("The user has been successfully binded!",{icon:"fa-check",position:"bottom-right",duration:4e3,type:"success"})}))["catch"]((function(e){t.loading=!1,t.showToast("The user has not been binded. Status code "+(e.response?e.response.status:"%CODE%"),{icon:"fa-times",position:"bottom-right",duration:4e3,type:"primary"})}))},checkNewMessages:function(){var t=this,e=this;g().then((function(a){var s=a.data;t.previousUsers=t.users,t.users=s;for(var o=0;o<s.length;o++)if(t.previousUsers[o]&&s[o]&&t.previousUsers[o].unread<s[o].unread){new Audio("./sounds/message.wav").play();break}setTimeout((function(){e.checkNewMessages()}),5e3)}))["catch"]((function(){setTimeout((function(){e.checkNewMessages()}),3e4)}))},updateUsers:function(){var t=this;this.loading=!0,g().then((function(e){var a=e.data;t.loading=!1,t.previousUsers=t.users,t.users=a}))["catch"]((function(e){t.loading=!1,t.showToast("There was an error when trying to fetch the users list. Status code "+(e.response?e.response.status:"%CODE%"),{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})}))},getUserIcon:function(t){return["user","user-secret"][+("user"!==t)]},getStatusColor:function(t){return["danger","success"][+t]},readSupport:function(t){this.users.forEach((function(e){(e.id=t)&&(e.unread=0)}))},search:f()((function(t){this.term=t}),400)},created:function(){this.$root.$on("update-users",this.updateUsers),this.$root.$on("profile-opened",this.profileOpened)}},Object(u["a"])(s,"mounted",(function(){var t=this;this.updateUsers(),setTimeout((function(){t.checkNewMessages()}),1e4)})),Object(u["a"])(s,"destroy",(function(){this.$root.$off("update-users",this.updateUsers),this.$root.$off("profile-opened",this.profileOpened)})),s),$=w,T=(a("06c3"),a("2877")),k=Object(T["a"])($,c,l,!1,null,"9d5fe67c",null),x=k.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-card",{style:t.computedStyle,attrs:{color:t.computedWidgetColor,title:t.$t("dashboard.profile.title")}},[a("va-button",{staticClass:"mr-0",attrs:{slot:"actions",small:"",outline:"",color:"info"},on:{click:t.getMyProfile},slot:"actions"},[t._v(" "+t._s(t.$t("dashboard.profile.myProfile"))+" ")]),a("div",{staticClass:"profile__name"},[a("va-icon",{staticClass:"ml-2 mr-2",attrs:{name:"fa fa-user-circle"}}),a("div",{staticClass:"profile__name_first text--capitalize"},[t._v(" "+t._s(t.user.firstName||"Loading...")+" ")]),a("div",{staticClass:"profile__name_last text--bold text--capitalize"},[t._v(" "+t._s(t.user.lastName)+" ")])],1),a("va-tabs",{style:t.computedTabsStyle,attrs:{grow:""},model:{value:t.tabsState,callback:function(e){t.tabsState=e},expression:"tabsState"}},t._l(t.tabs,(function(e,s){return a("va-tab",{key:s},[t._v(" "+t._s(t.$t("dashboard.profile.tabs."+e.toLowerCase().replace("profile","")+".title"))+" ")])})),1),a(t.tabs[t.tabsState],{tag:"component",class:["","","pb-4"][this.tabsState],attrs:{loading:t.loadingTabs.includes(t.tabs[t.tabsState])}})],1)},P=[],S=(a("99af"),a("13d5"),a("b64b"),a("ac1f"),a("1276"),a("d0ff")),O=a("d0af"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-inner-loading",{attrs:{loading:t.loading}},[a("div",{staticClass:"tab",style:t.computedStyle},[a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12 xl12"},t._l(Object.keys(t.profile),(function(e){return a("div",{key:e,staticClass:"tab__item d-flex align--center"},[a("va-icon",{staticClass:"ml-3 mr-3",attrs:{name:t.infoIcon(e)}}),a("div",{staticClass:"text--bold tab__item-name mr-5"},[t._v(" "+t._s(e)+" ")]),"object"!=typeof t.profile[e]?a("div",[t._v(" "+t._s(t.profile[e])+" ")]):a("div",t._l(t.profile[e],(function(s,o){return a("span",{key:o},[a("a",{attrs:{href:s.url,target:"_blank"}},[t._v(" "+t._s(s.amount+" "+s.net)+" ")]),t._v(" "+t._s(o<t.profile[e].length-1?" | ":"")+" ")])})),0)],1)})),0)])])])},M=[],A={name:"profile-info-tab",inject:["user"],props:{loading:Boolean},computed:{computedStyle:function(){return{color:this.$themes.brightForeground,opacity:this.loading?.2:1}},profile:function(){var t={ID:this.user.id,Role:this.user.role.toUpperCase(),Username:this.user.username,"E-mail":this.user.email,Transfers:this.user.transfers};return this.user.me||(t["Binded to"]=this.user.bindedTo||"nobody"),!this.user.me&&this.user.location&&(t["Location"]="".concat(this.user.location.country,", ").concat(this.user.location.city," (").concat(this.user.location.ip,")")),t}},methods:{infoIcon:function(t){return{ID:"fa fa-id-card-o",Role:"fa fa-user-o",Username:"fa fa-address-book","E-mail":"fa fa-envelope-o",Transfers:"fa fa-money","Binded to":"fa fa-link",Location:"fa fa-map-marker"}[t]}}},N=A,L=(a("2986"),Object(T["a"])(N,j,M,!1,null,"49519b9e",null)),E=L.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-inner-loading",{attrs:{loading:t.loading||t.updating}},[a("div",{staticClass:"tab",style:t.computedStyle},[a("div",{staticClass:"tab__create flex"},[a("va-accordion",[a("va-collapse",{attrs:{isOpenDefault:"",updateHeight:t.selectedAction||t.currentDateToggle||t.collapseUpdateToggle}},[a("span",{attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.$t("dashboard.profile.tabs.transactions.create"))+" ")]),a("div",{attrs:{slot:"body"},slot:"body"},[a("va-select",{staticClass:"ma-0",attrs:{options:["BTC","LTC","ETH"],label:t.$t("dashboard.profile.tabs.transactions.currency"),"no-clear":""},model:{value:t.selectedCurrency,callback:function(e){t.selectedCurrency=e},expression:"selectedCurrency"}}),a("va-input",{staticClass:"mb-3",attrs:{value:t.wallets[t.selectedCurrency],label:t.$t("dashboard.profile.tabs.transactions.balance"),disabled:""}}),a("va-select",{staticClass:"ma-0",attrs:{options:["Transfer","Deposit","Withdrawal"],label:t.$t("dashboard.profile.tabs.transactions.action"),"no-clear":""},model:{value:t.selectedAction,callback:function(e){t.selectedAction=e},expression:"selectedAction"}}),"Transfer"===t.selectedAction?a("va-select",{staticClass:"ma-0",attrs:{options:["Sent","Received"],label:t.$t("dashboard.profile.tabs.transactions.direction"),"no-clear":""},model:{value:t.selectedDirection,callback:function(e){t.selectedDirection=e},expression:"selectedDirection"}}):t._e(),a("va-input",{staticClass:"mb-3",attrs:{label:"Amount"},model:{value:t.coinAmount,callback:function(e){t.coinAmount=e},expression:"coinAmount"}}),"Transfer"===t.selectedAction?a("va-checkbox",{staticClass:"mb-3",attrs:{label:t.$t("dashboard.profile.tabs.transactions.currentTime")},model:{value:t.currentDateToggle,callback:function(e){t.currentDateToggle=e},expression:"currentDateToggle"}}):t._e(),t.currentDateToggle||"Transfer"!==t.selectedAction?t._e():a("va-date-picker",{staticClass:"mb-3",attrs:{label:t.$t("dashboard.profile.tabs.transactions.customDate"),config:{enableTime:!0}},model:{value:t.customDate,callback:function(e){t.customDate=e},expression:"customDate"}}),a("va-button",{staticClass:"mt-2 justify--center",attrs:{small:"",color:"info"},on:{click:t.createTransaction}},[t._v(" "+t._s(t.$t("dashboard.profile.tabs.transactions.submit"))+" ")])],1)]),a("va-collapse",{attrs:{updateHeight:t.selectedAction||t.collapseUpdateToggle}},[a("span",{attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.$t("dashboard.profile.tabs.transactions.list"))+" ")]),a("div",{attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"tab__transactions pt-3 pb-2"},t._l(t.transactions,(function(e,s){return a("div",{key:s,staticClass:"tab__transactions__item",style:{gridTemplateColumns:{Transfer:"1.5fr 1fr 1fr 1fr 1fr 0.1fr",Deposit:"1.5fr 1fr 1fr 0.1fr"}[t.selectedAction]}},[a("div",{staticClass:"tab__transactions__item-date"},[t._v(" "+t._s(e.date)+" ")]),a("div",{staticClass:"tab__transactions__item-amount"},[t._v(" "+t._s(e.amount)+" ")]),e.type?a("div",{staticClass:"tab__transactions__item-type"},[t._v(" "+t._s(e.type)+" ")]):t._e(),e.fake?a("div",{staticClass:"tab__transactions__item-real"},[t._v(" "+t._s(e.fake)+" ")]):t._e(),a("div",{staticClass:"tab__transactions__item-status"},[a("va-badge",{attrs:{outline:"",color:t.getStatusColor(e.status)}},[t._v(" "+t._s(e.status)+" ")])],1),a("va-button",{staticClass:"justify--end",attrs:{small:"",flat:"",color:"danger"},on:{click:function(a){return t.deleteTransaction(e.id)}}},[a("va-icon",{attrs:{name:"fa fa-trash"}})],1)],1)})),0),t.pages>1?a("div",{staticClass:"tab__pagination_wrap"},[a("va-pagination",{attrs:{pages:t.pages,visiblePages:"5",small:""},model:{value:t.activePage,callback:function(e){t.activePage=e},expression:"activePage"}})],1):t._e()])])],1)],1)])])},B=[],F=(a("4e82"),a("0d3d")),q=a("2ef0"),R=a.n(q),W=a("c1df"),I=a.n(W),H={name:"profile-transactions-tab",inject:["user","accordion"],props:["loading"],data:function(){return{selectedCurrency:"BTC",selectedAction:"Transfer",selectedDirection:"Received",currentDateToggle:!0,customDate:"2018-05-08 14:10",coinAmount:.01,updating:!1,activePage:1,collapseUpdateToggle:!1}},watch:{transactions:"updateCollapseHeight",currentDateToggle:function(t){this.accordion.onChildChange(this.$el.querySelector(".tab__pagination_wrap"),!0)}},computed:{computedStyle:function(){return{color:this.$themes.brightForeground,opacity:this.updating||this.loading?.2:1}},wallets:function(){return{BTC:this.user.wallets.bitcoin.balance,LTC:this.user.wallets.litecoin.balance,ETH:this.user.wallets.ethereum.balance}},pages:function(){var t=this;return R.a.chunk(this.user.transactions.filter((function(e){return e.name===t.selectedAction})),6).length},transactions:function(){var t=this,e=R.a.chunk(this.user.transactions.sort((function(t,e){return t.at>e.at?-1:t.at<e.at?1:0})).filter((function(e){return e.name===t.selectedAction})),6);return e.length?e[this.activePage-1].map((function(e){var a=t.$time.pacificToLocale(e.at),s=I()(a).format("YYYY-MM-DD H:mm");return"Transfer"===e.name?{id:e.id,date:s,type:e.type,fake:e.fake?"fake":"real",status:e.status,amount:e.amount+" "+{Ethereum:"ETH",Bitcoin:"BTC",Litecoin:"LTC"}[e.currency]}:"Deposit"===e.name?{id:e.id,date:s,status:e.status,amount:e.amount+" "+e.network}:void 0})):[]}},methods:(o={updateCollapseHeight:function(){this.collapseUpdateToggle=!this.collapseUpdateToggle},netToCurrency:function(t){return{BTC:"bitcoin",LTC:"litecoin",ETH:"ethereum"}[t]},deleteTransaction:function(t){var e=this;this.updating=!0;var a={Transfer:Object(F["c"])(t,this.user.id),Deposit:Object(F["b"])(t,this.user.id)}[this.selectedAction];a.then((function(t){var a=t.data;e.updating=!1,e.$root.$emit("remove-transaction",a),e.showToast("The transaction deleted",{icon:"fa-check",position:"bottom-center",duration:4e3,type:"success"})}))["catch"]((function(t){e.updating=!1}))}},Object(u["a"])(o,"netToCurrency",(function(t){return{BTC:"bitcoin",LTC:"litecoin",ETH:"ethereum"}[t]})),Object(u["a"])(o,"createTransaction",(function(){var t=this;this.updating=!0;var e={Transfer:Object(F["a"])({user:this.user.id,direction:this.selectedDirection,action:this.selectedAction,amount:+this.coinAmount,net:this.selectedCurrency,date:this.currentDateToggle?+I()(I()().utc().format("YYYY-MM-DD H:mm")):this.customDate}),Deposit:Object(F["e"])({amount:+this.coinAmount,currency:{BTC:"Bitcoin",LTC:"Litecoin",ETH:"Ethereum"}[this.selectedCurrency]})}[this.selectedAction];e.then((function(e){var a=e.data;t.updating=!1,t.$root.$emit("add-transaction",a.deposit||a),t.showToast("The transaction was successfully emited!",{icon:"fa-check",position:"bottom-center",duration:4e3,type:"success"})}))["catch"]((function(e){t.updating=!1,e.response?t.showToast(e.response.data.message,{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"}):console.log(e)}))})),Object(u["a"])(o,"getStatusColor",(function(t){return{processing:"warning","await approval":"warning",failed:"danger",success:"success"}[t]})),o)},V=H,Y=(a("867c"),Object(T["a"])(V,U,B,!1,null,"fee2b248",null)),J=Y.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-inner-loading",{attrs:{loading:t.loading&&t.log.length}},[t.log.length?a("div",{staticClass:"tab",style:t.computedStyle},[a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12 xl12"},t._l(t.log[t.activePage-1],(function(e){return a("div",{key:e._id,staticClass:"tab__item d-flex align--center"},[a("va-icon",{staticClass:"ml-3 mr-3",attrs:{name:t.actionIcon(e.actionName)}}),a("div",[t._v(" "+t._s(t.$t(e.messageLocalPath))+" ")])],1)})),0)]),t.log.length>1?a("div",{staticClass:"tab__pagination_wrap"},[a("va-pagination",{attrs:{pages:t.log.length,visiblePages:"5",small:""},model:{value:t.activePage,callback:function(e){t.activePage=e},expression:"activePage"}})],1):t._e()]):a("VaCardNoData",{attrs:{loading:t.loading,LT:"Log is loading...",ET:"Empty"}})],1)},X=[],Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"no-data"},[a("va-icon",{staticClass:"no-data_icon",attrs:{name:t.loading?"fa fa-refresh fa-spin":"fa fa-sticky-note"}}),t._v(" "+t._s(t.loading?t.LT:t.ET)+" ")],1)},z=[],G={name:"va-card-no-data",props:{loading:Boolean,LT:{type:String,required:!0},ET:{type:String,required:!0}}},Q=G,tt=(a("19c2"),Object(T["a"])(Q,Z,z,!1,null,"b4000d1c",null)),et=tt.exports,at={name:"profile-log-tab",components:{VaCardNoData:et},inject:["user"],data:function(){return{activePage:1}},props:{loading:Boolean},computed:{computedStyle:function(){return{color:this.$themes.brightForeground,opacity:this.loading?.2:1}},log:function(){return R.a.chunk(this.user.log,6)}},methods:{actionIcon:function(t){return{registered:"fa fa-user-plus",authenticated:"fa fa-sign-in",visited:"fa fa-map-marker",name_changed:"fa fa-edit"}[t]}},mounted:function(){this.activePage=1}},st=at,ot=(a("094f"),Object(T["a"])(st,K,X,!1,null,"620a1372",null)),nt=ot.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-inner-loading",{attrs:{loading:t.loading&&t.actions.length}},[t.actions.length?a("div",{staticClass:"tab",style:t.computedStyle},[a("div",{staticClass:"tab__actions"},t._l(t.actions,(function(e){return a("va-button",{key:e.name,attrs:{outline:"",color:e.color},on:{click:function(a){return t.doAPIRequest(e.url)}}},[t._v(t._s(t.$t(e.nameLocalPath)))])})),1),a("div",{staticClass:"tab__send_popup mt-3"},[a("va-accordion",[a("va-collapse",{attrs:{isOpenDefault:""}},[a("span",{attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.$t("dashboard.profile.actions.popup.header"))+" ")]),a("div",{attrs:{slot:"body"},slot:"body"},[a("va-select",{staticClass:"ma-0",attrs:{options:["Error","Warning","Info"],value:"Error",label:t.$t("dashboard.profile.actions.popup.type"),"no-clear":""},model:{value:t.customPopupType,callback:function(e){t.customPopupType=e},expression:"customPopupType"}}),a("va-input",{staticClass:"mb-3",attrs:{label:t.$t("dashboard.profile.actions.popup.title")},model:{value:t.customPopupTitle,callback:function(e){t.customPopupTitle=e},expression:"customPopupTitle"}}),a("va-input",{staticClass:"mb-3",attrs:{label:t.$t("dashboard.profile.actions.popup.message")},model:{value:t.customPopupText,callback:function(e){t.customPopupText=e},expression:"customPopupText"}}),a("va-button",{staticClass:"mt-2 justify--center",attrs:{color:"info"},on:{click:t.sendPopup}},[t._v(" "+t._s(t.$t("dashboard.profile.actions.popup.send"))+" ")])],1)])],1)],1)]):a("VaCardNoData",{attrs:{loading:t.loading,LT:"Actions are loading...",ET:"Nothing to do"}})],1)},rt=[],ct={components:{VaCardNoData:et},props:{loading:Boolean},inject:["user"],data:function(){return{customPopupType:"Error",customPopupTitle:"",customPopupText:""}},computed:{actions:function(){return this.user.actions},computedStyle:function(){return{opacity:this.loading?.2:1}}},methods:{sendPopup:function(){var t=this;this.loading=!0,C(this.user.id,this.customPopupType,this.customPopupTitle,this.customPopupText).then((function(e){var a=e.data;t.loading=!1,console.log(a),t.handleSuccess({message:"Popup successfully sent!"})}))["catch"]((function(e){t.loading=!1,console.log(e.response),t.handleSuccess({message:"Popup has no sent."})}))},handleSuccess:function(t){this.showToast(t.message,{icon:"fa-check",position:"bottom-center",duration:4e3,type:"primary"})},handleError:function(t){this.showToast(t.message,{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})},doAPIRequest:function(t){var e=this;console.log(window.location.protocol+"//"+window.location.host+t),this.loading=!0,m.a.get(window.location.protocol+"//"+window.location.host+t).then((function(t){var a=t.data;e.loading=!1,e.$root.$emit("refresh-profile"),a.success?"sign in as"===a.action?(sessionStorage.setItem("auth-token",a.token),sessionStorage.setItem("admin-token",a.admin),window.location.assign(window.location.protocol+"//"+window.location.host)):e.showToast("The user has been ".concat(a.action,"d!"),{icon:"fa-check",position:"bottom-center",duration:4e3,type:"success"}):(console.log(a),e.showToast("The user has not been ".concat(a.action,"d."),{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"}))}))["catch"]((function(t){var a=t.response;e.loading=!0,e.showToast(a.data.message+" Status code "+(a?a.status:"%CODE%"),{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})}))}}},lt=ct,ut=(a("eb67"),Object(T["a"])(lt,it,rt,!1,null,"86aa6072",null)),dt=ut.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab"},[a("div",{staticClass:"tab__bind pt-3 pb-2"},[a("va-input",{staticClass:"ma-0",attrs:{placeholder:t.$t("forms.bindUser.placeholder"),messages:[t.$t("forms.bindUser.description")]},model:{value:t.userRequisite,callback:function(e){t.userRequisite=e},expression:"userRequisite"}},[a("va-icon",{attrs:{slot:"prepend",color:"gray",name:"fa fa-link"},slot:"prepend"}),a("va-button",{staticStyle:{"margin-right":"0"},attrs:{slot:"append",small:""},on:{click:t.bindUser},slot:"append"},[t._v(" "+t._s(t.$t("forms.bindUser.submit"))+" ")])],1)],1)])},pt=[],mt={name:"profile-bind-tab",data:function(){return{userRequisite:""}},methods:{bindUser:function(){var t=this;this.loading=!0,y(this.userRequisite).then((function(){t.userRequisite="",t.$root.$emit("update-users"),t.showToast("The user has been successfully binded!",{icon:"fa-check",position:"bottom-right",duration:4e3,type:"success"})}))["catch"]((function(e){t.loading=!1,t.showToast("The user has not been binded. Status code "+(e.response?e.response.status:"%CODE%"),{icon:"fa-times",position:"bottom-right",duration:4e3,type:"primary"})}))}}},ht=mt,gt=(a("466d2"),Object(T["a"])(ht,ft,pt,!1,null,"351bee78",null)),vt=gt.exports,bt=(n={name:"DashboardProfile",components:{ProfileInfo:E,ProfileTransactions:J,ProfileLog:nt,ProfileActions:dt,ProfileBind:vt},provide:function(){return{handleSuccess:function(t){this.showToast(t.message,{icon:"fa-check",position:"bottom-center",duration:4e3,type:"primary"})},handleError:function(t){this.showToast(t.message,{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})}}},data:function(){return{user:{id:"...",role:"...",username:"...",transfers:"...",telegramUsername:"...",name:"",email:"...",bindedTo:"...",actions:[],transactions:[],log:[],wallets:{bitcoin:{balance:.1},litecoin:{balance:12e-5},ethereum:{balance:0}},me:!1},loadingTabs:["ProfileInfo","ProfileTransactions","ProfileLog","ProfileActions"],tabsState:0,myRole:""}}},Object(u["a"])(n,"provide",(function(){return{user:this.user}})),Object(u["a"])(n,"computed",{computedWidgetColor:function(){return this.$themes.background},computedStyle:function(){return{color:this.$themes.brightForeground}},computedTabsStyle:function(){return{color:this.$themes.secondary}},tabs:function(){var t=["ProfileInfo"];return"user"===this.user.role&&t.push("ProfileTransactions"),t.push("ProfileLog"),t.push("ProfileActions"),"manager"===this.myRole&&t.push("ProfileBind"),this.tabsState=this.tabsState>t.length-1?t.length-1:this.tabsState,t}}),Object(u["a"])(n,"methods",{getMyProfile:function(){var t=this;this.loading(),v().then((function(e){var a=e.data;t.myRole=a.role,t.updateOpenedProfile(a,!0),t.$root.$emit("open-dialogue",{user:a}),t.$root.$emit("profile-opened")}))["catch"]((function(e){t.loaded(),t.$root.$emit("profile-opened"),t.showToast("Cannot open your profile. Status code "+(e.response?e.response.status:"%CODE%"),{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})}))},updateOpenedProfile:function(t,e){var a=this;this.$root.$emit("update-wallet",t),this.loaded(),this.user.me=!!e;var s=t.name.split(" "),o=Object(O["a"])(s,2);this.user.firstName=o[0],this.user.lastName=o[1],Object.keys(t).length&&Object.keys(t).forEach((function(e){a.user[e]=t[e]}))},refreshOpenedProfile:function(){var t=this;this.$root.$emit("getting-dialogue"),b(this.user.id).then((function(e){var a=e.data;t.$root.$emit("open-dialogue",t.user),t.$root.$emit("open-profile",a)}))["catch"]((function(e){t.getMyProfile(),t.showToast("Cannot open his profile. Status code "+(e.response?e.response.status:"%CODE%"),{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})}))},netToCurrency:function(t){return{BTC:"bitcoin",LTC:"litecoin",ETH:"ethereum"}[t]},updateBalance:function(t){var e=this.user.transactions.filter((function(e){return e.currency===t})).reduce((function(t,e){return t+("received"===e.type?+e.amount:-e.amount)}),0);this.user.wallets[t.toLowerCase()].balance=e},addTransaction:function(t){this.user.transactions=[t].concat(Object(S["a"])(this.user.transactions)),"Deposit"!==t.name&&this.updateBalance(t.currency)},removeTransaction:function(t){this.user.transactions=this.user.transactions.filter((function(e){return e.id!=t.id})),"Deposit"!==t.name&&this.updateBalance(t.currency)},loading:function(){this.loadingTabs=["ProfileInfo","ProfileTransactions","ProfileLog","ProfileActions"]},loaded:function(){this.loadingTabs=[]},gettingProfile:function(){this.loading()}}),Object(u["a"])(n,"created",(function(){this.getMyProfile(),this.$root.$on("getting-profile",this.gettingProfile),this.$root.$on("open-profile",this.updateOpenedProfile),this.$root.$on("refresh-profile",this.refreshOpenedProfile),this.$root.$on("add-transaction",this.addTransaction),this.$root.$on("remove-transaction",this.removeTransaction)})),Object(u["a"])(n,"beforeDestroy",(function(){this.$root.$off("getting-profile",this.loading),this.$root.$off("open-profile",this.updateOpenedProfile),this.$root.$off("refresh-profile",this.refreshOpenedProfile),this.$root.$off("add-transactiff",this.addTransaction),this.$root.$off("remove-transaction",this.removeTransaction)})),n),_t=bt,yt=(a("86c3"),Object(T["a"])(_t,D,P,!1,null,"6f6bd3a8",null)),Ct=yt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-card",{style:t.computedWidgetStyle,attrs:{color:t.$themes.background,title:t.$t("dashboard.support.title")}},[a("h6",{staticClass:"user-title",style:{color:t.$themes.foreground},attrs:{slot:"actions"},slot:"actions"},[a("va-icon",{staticClass:"mr-2",attrs:{name:"fa fa-user-circle"}}),t._v(" "+t._s(t.user.name)+" ")],1),a("va-inner-loading",{attrs:{loading:!t.itsAdmin&&t.loading}},[t.itsAdmin?a("VaCardNoData",{attrs:{loading:t.loading,LT:"Fetching support messages...",ET:"Can't talk to this person"}}):a("div",{staticClass:"tab",style:t.computedStyle},[a("chat",{attrs:{value:t.user.supportMessages},on:{input:t.sendMessage}})],1)],1)],1)},$t=[],Tt=(a("fb6a"),a("ed06f")),kt=window.location.protocol+"//"+window.location.host,xt=function(t){return m.a.get(kt+"/api/admin/support?user="+t)},Dt=function(t,e){return m.a.post(kt+"/api/admin/support/"+t+"/send",{message:e})},Pt={name:"dashboard-support",components:{Chat:Tt["a"],VaCardNoData:et},props:{loading:Boolean},data:function(){return{user:{id:"",name:"",supportMessages:[]},loading:!1,itsAdmin:!0}},methods:{startFetchingMessages:function(){var t=this;xt(this.user.id).then((function(e){var a=e.data;if(t.user.supportMessages.length!=a.messages.length){var s=t.user.supportMessages.filter((function(t){return!t.delivered}));t.user.supportMessages=[].concat(Object(S["a"])(a.messages),Object(S["a"])(s)),t.$root.$emit("chat-update")}setTimeout(t.startFetchingMessages,2e3)}))["catch"]((function(t){console.log(t)}))},sendMessage:function(t){var e=this;this.user.supportMessages.push(t),this.$root.$emit("chat-update"),Dt(this.user.id,t.text).then((function(a){var s=a.data;t.date=s.message.date,t.text=s.message.text,t.yours=s.message.yours,t.delivered=!0,e.user.supportMessages=e.user.supportMessages.slice(),e.$root.$emit("chat-update")}))},gettingDialogue:function(){this.loading=!0},openDialogue:function(t){var e=t.user,a=t.messages;this.unread=0,this.loading=!1,this.itsAdmin="user"!=e.role,this.user.id=e.id,this.user.name=e.name,this.itsAdmin||(this.user.supportMessages=a,setTimeout(this.startFetchingMessages,2e3))}},computed:{computedStyle:function(){return{color:this.$themes.brightForeground,opacity:this.loading?.2:1}},computedWidgetStyle:function(){return{color:this.$themes.brightForeground}}},created:function(){this.$root.$on("open-dialogue",this.openDialogue),this.$root.$on("getting-dialogue",this.gettingDialogue)},beforeDestroy:function(){this.$root.$off("open-dialogue",this.openDialogue),this.$root.$off("getting-dialogue",this.gettingDialogue)}},St=Pt,Ot=(a("05d5"),Object(T["a"])(St,wt,$t,!1,null,"6ee07f26",null)),jt=Ot.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-card",{style:t.computedWidgetStyle,attrs:{color:t.$themes.background,title:t.$t("dashboard.totalLog.title")}},[a("va-button",{staticClass:"mr-0",attrs:{slot:"actions",color:"info",small:"",flat:""},on:{click:t.refresh},slot:"actions"},[a("va-icon",{attrs:{name:"material-icons"}},[t._v("autorenew")])],1),a("va-inner-loading",{attrs:{loading:t.log.length&&t.loading}},[t.log.length?a("div",{staticClass:"tab",style:t.computedStyle},[a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12 xl12"},[a("div",{staticClass:"tab__wrap"},[a("div",{staticClass:"tab__wrap__title"},[a("div",[t._v("Action")]),a("div",[t._v("User")]),a("div",[t._v("Date")])]),a("div",{staticClass:"tab__wrap__table"},t._l(t.log[t.activePage-1],(function(e){return a("div",{key:e._id,staticClass:"tab__wrap__table__item align--center"},[a("div",{staticClass:"tab__wrap__table__item__title"},[a("div",[t._v("Action")]),a("div",[t._v("User")]),a("div",[t._v("Date")])]),a("div",{staticClass:"tab__wrap__table__item__props"},[a("div",{staticClass:"tab__wrap__table__item__props-action"},[a("va-icon",{staticClass:"ml-3 mr-3 ",attrs:{name:t.actionIcon(e.actionName)}}),t._v(" "+t._s(t.$t(e.messageLocalPath))+" "+t._s(e.relatedData)+" ")],1),a("div",{staticClass:"tab__wrap__table__item__props-name"},[t._v(" "+t._s(e.user.name)+" ")]),a("div",{staticClass:"tab__wrap__table__item__props-date"},[t._v(" "+t._s(e.formatedDate)+" ")])])])})),0)])])]),a("div",{staticClass:"tab__pagination_wrap"},[a("va-pagination",{attrs:{pages:t.log.length,visiblePages:5,small:""},model:{value:t.activePage,callback:function(e){t.activePage=e},expression:"activePage"}})],1)]):a("VaCardNoData",{attrs:{loading:t.loading,LT:"Log is loading...",ET:"Empty"}})],1)],1)},At=[],Nt={name:"dashboard-total-log",components:{VaCardNoData:et},data:function(){return{loading:!1,activePage:1,actions:[]}},computed:{computedStyle:function(){return{color:this.$themes.brightForeground,opacity:this.loading?.2:1}},computedWidgetStyle:function(){return{color:this.$themes.brightForeground}},log:function(){return R.a.chunk(this.actions,8)}},methods:{refresh:function(){var t=this;this.loading=!0,_().then((function(e){var a=e.data;t.loading=!1,t.actions=a}))},actionIcon:function(t){return{registered:"fa fa-user-plus",authenticated:"fa fa-sign-in",visited:"fa fa-map-marker",name_changed:"fa fa-edit",transfer:"fa fa-money",withdrawal:"fa fa-money",deposit:"fa fa-money"}[t]}},mounted:function(){this.refresh()}},Lt=Nt,Et=(a("5e3f"),Object(T["a"])(Lt,Mt,At,!1,null,"1fb2e28d",null)),Ut=Et.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-card",{attrs:{color:t.computedWidgetColor,title:t.$t("dashboard.support.dialogues")}},[a("va-button",{staticClass:"mr-0",attrs:{slot:"actions",color:"info",small:"",flat:""},on:{click:t.updateDialogues},slot:"actions"},[a("va-icon",{attrs:{name:"material-icons"}},[t._v("autorenew")])],1),a("div",{staticClass:"row align--center mb-1"},[a("div",{staticClass:"flex xs12 sm12 md12"},[a("va-input",{staticClass:"ma-0",attrs:{value:t.term,placeholder:t.$t("tables.searchByName"),removable:""},on:{input:t.search}},[a("va-icon",{attrs:{slot:"prepend",name:"fa fa-search"},slot:"prepend"})],1)],1)]),a("va-data-table",{attrs:{fields:t.fields,data:t.filteredData,loading:t.loading,rowClass:"user-row"},scopedSlots:t._u([{key:"icon",fn:function(){return[a("va-icon",{attrs:{name:"fa fa-user",color:"secondary"}})]},proxy:!0},{key:"starred",fn:function(e){return[e.rowData.starred?a("va-icon",{attrs:{name:"fa fa-star",color:"warning"}}):t._e()]}},{key:"online",fn:function(e){return[a("va-badge",{attrs:{color:t.getStatusColor(e.rowData.online)}},[t._v(" "+t._s(Boolean(e.rowData.online)?"online":"offline")+" ")])]}},{key:"messagesCount",fn:function(e){return[a("va-button",{attrs:{small:"",flat:"",color:"info"},on:{click:t.openDialogue}},[t._v(" "+t._s(e.rowData.messagesCount)+" "),a("va-icon",{staticClass:"ml-1",attrs:{name:"fa fa-envelope"}})],1)]}}])})],1)},Ft=[],qt=a("b614"),Rt={data:function(){return{users:qt.map((function(t){return t.name=t.firstName+" "+t.lastName,t})),loading:!1,term:null,mode:0,userRequisite:""}},mounted:function(){},computed:{computedWidgetColor:function(){return this.$themes.background},fields:function(){return[{name:"__slot:icon",width:"30px",dataClass:"text-center"},{name:"name",title:this.$t("tables.headings.name"),width:"30%"},{name:"email",title:this.$t("tables.headings.email"),width:"50%"},{name:"__slot:online",title:this.$t("tables.headings.status"),width:"10%"},{name:"__slot:messagesCount",dataClass:"text-right",sortField:"online"}]},filteredData:function(){var t=this;return!this.term||this.term.length<1?this.users:this.users.filter((function(e){return e.name.toLowerCase().startsWith(t.term.toLowerCase())||e.email.toLowerCase().startsWith(t.term.toLowerCase())||Object.entries(e).map((function(t){return"online"===t[0]?t[1]?"online":"offline":t[1].toString()})).includes(t.term)}))}},methods:{updateDialogues:function(){var t=this;this.loading=!0,UsersList().then((function(e){var a=e.data;t.loading=!1,t.users=a}))["catch"]((function(e){t.loading=!1,t.showToast("There was an error when trying to fetch the users list. Status code "+(e.response?e.response.status:"%CODE%"),{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})}))},getStatusColor:function(t){return["danger","success"][+t]},search:f()((function(t){this.term=t}),400)}},Wt=Rt,It=(a("3e44"),Object(T["a"])(Wt,Bt,Ft,!1,null,null,null)),Ht=It.exports,Vt={name:"dashboard",components:{DashboardUsers:x,DashboardProfile:Ct,DashboardSupport:jt,DashboardTotalLog:Ut,DashboardDialogues:Ht},methods:{addAddressToMap:function(t){var e=t.city,a=t.country;this.$refs.dashboardMap.addAddress({city:e.text,country:a})}}},Yt=Vt,Jt=(a("c5cb"),Object(T["a"])(Yt,i,r,!1,null,null,null));e["default"]=Jt.exports},ab28:function(t,e,a){"use strict";var s=a("4c65"),o=a.n(s);o.a},b047:function(t,e,a){var s=a("1a8c"),o=a("408c"),n=a("b4b0"),i="Expected a function",r=Math.max,c=Math.min;function l(t,e,a){var l,u,d,f,p,m,h=0,g=!1,v=!1,b=!0;if("function"!=typeof t)throw new TypeError(i);function _(e){var a=l,s=u;return l=u=void 0,h=e,f=t.apply(s,a),f}function y(t){return h=t,p=setTimeout($,e),g?_(t):f}function C(t){var a=t-m,s=t-h,o=e-a;return v?c(o,d-s):o}function w(t){var a=t-m,s=t-h;return void 0===m||a>=e||a<0||v&&s>=d}function $(){var t=o();if(w(t))return T(t);p=setTimeout($,C(t))}function T(t){return p=void 0,b&&l?_(t):(l=u=void 0,f)}function k(){void 0!==p&&clearTimeout(p),h=0,l=m=u=p=void 0}function x(){return void 0===p?f:T(o())}function D(){var t=o(),a=w(t);if(l=arguments,u=this,m=t,a){if(void 0===p)return y(m);if(v)return clearTimeout(p),p=setTimeout($,e),_(m)}return void 0===p&&(p=setTimeout($,e)),f}return e=n(e)||0,s(a)&&(g=!!a.leading,v="maxWait"in a,d=v?r(n(a.maxWait)||0,e):d,b="trailing"in a?!!a.trailing:b),D.cancel=k,D.flush=x,D}t.exports=l},b4b0:function(t,e,a){var s=a("1a8c"),o=a("ffd69"),n=NaN,i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(t){if("number"==typeof t)return t;if(o(t))return n;if(s(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=s(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var a=c.test(t);return a||l.test(t)?u(t.slice(2),a?2:8):r.test(t)?n:+t}t.exports=d},b614:function(t){t.exports=JSON.parse('[{"id":"mFtyLfBWXSeVL4pqk_Dh3","role":"user","firstName":"John","lastName":"Doe","email":"sobaka@kerua.ka","status":"offline","support":{"newMessagesCount":1}},{"id":"l2tFRO-513l0sKABZ4rdC","role":"admin","firstName":"Andrey","lastName":"Nevinny","email":"psoglav.ih8u@gmail.com","status":"online","support":{"newMessagesCount":12}},{"id":"mFtyLfBWXSeVL4pqk_Dh3","role":"user","firstName":"John","lastName":"Doe","email":"sobaka@kerua.ka","status":"offline","support":{"newMessagesCount":0}},{"id":"l2tFRO-513l0sKABZ4rdC","role":"admin","firstName":"Andrey","lastName":"Nevinny","email":"psoglav.ih8u@gmail.com","status":"online","support":{"newMessagesCount":16}},{"id":"mFtyLfBWXSeVL4pqk_Dh3","role":"user","firstName":"John","lastName":"Doe","email":"sobaka@kerua.ka","status":"offline","support":{"newMessagesCount":2}},{"id":"l2tFRO-513l0sKABZ4rdC","role":"admin","firstName":"Andrey","lastName":"Nevinny","email":"psoglav.ih8u@gmail.com","status":"online","support":{"newMessagesCount":1}},{"id":"mFtyLfBWXSeVL4pqk_Dh3","role":"user","firstName":"John","lastName":"Doe","email":"sobaka@kerua.ka","status":"offline","support":{"newMessagesCount":0}},{"id":"l2tFRO-513l0sKABZ4rdC","role":"admin","firstName":"Andrey","lastName":"Nevinny","email":"psoglav.ih8u@gmail.com","status":"online","support":{"newMessagesCount":0}},{"id":"mFtyLfBWXSeVL4pqk_Dh3","role":"user","firstName":"John","lastName":"Doe","email":"sobaka@kerua.ka","status":"offline","support":{"newMessagesCount":1}},{"id":"l2tFRO-513l0sKABZ4rdC","role":"admin","firstName":"Andrey","lastName":"Nevinny","email":"psoglav.ih8u@gmail.com","status":"online","support":{"newMessagesCount":1}}]')},b670:function(t,e,a){},c5cb:function(t,e,a){"use strict";var s=a("45b9"),o=a.n(s);o.a},e1f9:function(t,e,a){},eb67:function(t,e,a){"use strict";var s=a("49c1"),o=a.n(s);o.a},ed06f:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"va-chat"},[a("div",{directives:[{name:"sticky-scroll",rawName:"v-sticky-scroll",value:{animate:!0,duration:200},expression:"{\n      animate: true,\n      duration: 200,\n    }"}],staticClass:"va-chat__body",style:{backgroundColor:"#00000017"}},[a("div",{staticClass:"va-chat__body-messages"},t._l(t.value,(function(e,s){return a("div",{key:s,staticClass:"va-chat__message",class:{"va-chat__message--yours":e.yours},style:Object.assign({},e.yours?t.computedYoursStyle:t.computedStyle,{paddingTop:e.delivered?"0.657rem":"1.4rem"})},[a("div",{staticClass:"va-chat__message-info",style:{left:e.yours?"auto":"0.5rem",right:e.yours?"0.5rem":"auto"}},[e.delivered?t._e():a("va-icon",{attrs:{name:"fa fa-spinner fa-spin"}})],1),a("span",{staticClass:"va-chat__message-text",style:{textAlign:e.yours?"right":"left"}},[t._v(" "+t._s(e.text)+" ")]),a("span",{staticClass:"va-chat__message_date",style:{opacity:.4,textAlign:e.yours?"right":"left"}},[t._v(" "+t._s(e.date)+" ")])])})),0)]),a("div",{staticClass:"va-chat__controls"},[a("va-input",{staticClass:"va-chat__input",attrs:{autosize:!0,placeholder:t.$t("dashboard.support.placeholder"),type:"textarea"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.sendMessage(e):null}},model:{value:t.inputMessage,callback:function(e){t.inputMessage=e},expression:"inputMessage"}}),a("va-button",{on:{click:t.sendMessage}},[t._v(" "+t._s(t.$t("buttons.send"))+" ")])],1)])},o=[],n=(a("ac1f"),a("5319"),a("4795"),a("8800")),i={name:"chat",directives:{StickyScroll:n["a"]},data:function(){return{inputMessage:""}},computed:{computedStyle:function(){return{backgroundColor:this.$themes.darkForeground,color:"white"}},computedYoursStyle:function(){return{backgroundColor:this.$themes.info,color:"white"}}},props:{value:Array},methods:{scrollToBottom:function(){setTimeout((function(){var t=document.querySelector(".va-chat__body");t.scrollTop=t.scrollHeight-t.clientHeight}),10)},sendMessage:function(){var t=this;this.inputMessage=this.inputMessage.replace(/^[\n\s]+|[\n\s]+$/g,""),this.inputMessage&&(this.$emit("input",{text:this.inputMessage,delivered:!1,yours:!0}),setTimeout((function(){t.$el.querySelector(".va-chat__input").focus(),t.inputMessage=""}),10))}},mounted:function(){this.$root.$on("chat-update",this.scrollToBottom),this.scrollToBottom()},destroy:function(){this.$root.$off("chat-update",this.scrollToBottom)}},r=i,c=(a("ab28"),a("2877")),l=Object(c["a"])(r,s,o,!1,null,null,null);e["a"]=l.exports},fa3b:function(t,e,a){},ffd69:function(t,e,a){var s=a("3729"),o=a("1310"),n="[object Symbol]";function i(t){return"symbol"==typeof t||o(t)&&s(t)==n}t.exports=i}}]);
//# sourceMappingURL=chunk-0f0d9208.b597a3b3.js.map