(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe430120"],{"638d":function(t,e,s){},"77b2":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings"},[s("div",{staticClass:"row"},[s("div",{staticClass:"flex xs12 smd12 md12 lg6"},[s("custom-withdraw-error")],1),s("div",{staticClass:"flex xs12 sm6 md7 lg4"},[s("create-promo-code")],1),s("div",{staticClass:"flex xs12 sm6 md5 lg2"},[s("promo-list")],1)])])},a=[],i=s("f3f3"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("va-card",{attrs:{color:t.computedWidgetColor,title:t.$t("settings.custom-withdraw")}},[s("va-inner-loading",{attrs:{loading:t.loading}},[s("div",{style:{opacity:this.loading?.2:1}},[s("va-input",{attrs:{type:"textarea",label:t.$t("settings.withdraw")},model:{value:t.depositErrorMessage,callback:function(e){t.depositErrorMessage=e},expression:"depositErrorMessage"}}),s("va-input",{attrs:{label:"Comission percentage"},model:{value:t.commission,callback:function(e){t.commission=e},expression:"commission"}}),s("va-checkbox",{class:t.requireConfirmation?"mb-3 mt-3":"mt-3",attrs:{label:t.$t("settings.require")},model:{value:t.requireConfirmation,callback:function(e){t.requireConfirmation=e},expression:"requireConfirmation"}}),t.requireConfirmation?s("va-input",{attrs:{type:"textarea",label:t.$t("settings.email")},model:{value:t.withdrawErrorMessage,callback:function(e){t.withdrawErrorMessage=e},expression:"withdrawErrorMessage"}}):t._e(),s("va-button",{staticClass:"mt-3",on:{click:t.save}},[t._v(t._s(t.$t("settings.save")))])],1)])],1)},n=[],c=(s("4160"),s("d3b7"),s("3ca3"),s("159b"),s("ddb0"),s("bc3a")),l=s.n(c),u=window.location.protocol+"//"+window.location.host+"/api/admin",d=function(t){return l.a.post(u+"/set_commission",{commission:t})},m=function(t){return l.a.post(u+"/set_deposit_error",{error:t})},p=function(t){return l.a.post(u+"/set_withdraw_error",{error:t})},g=function(t){return l.a.post(u+"/set_email_confirmation",{require_email:t})},h=function(){return l.a.get(u+"/promo")},f=function(t){return l.a.post(u+"/promo",t)},v={name:"custom-withdraw-error",inject:["user"],data:function(){return{loading:!1,requireConfirmation:!1,commission:0,depositErrorMessage:"",withdrawErrorMessage:""}},computed:{computedWidgetColor:function(){return this.$themes.background}},methods:{updateData:function(t){var e=t.role.settings,s=e.commission,o=e.withdrawErrorMessage,a=e.withdrawEmailErrorMessage,i=e.withdrawEmailConfirmation;this.commission=s,this.depositErrorMessage=o,this.withdrawErrorMessage=a,this.requireConfirmation=i},handleSuccess:function(t){this.showToast(t.message,{icon:"fa-check",position:"bottom-center",duration:4e3,type:"primary"})},handleError:function(t){this.showToast("Operation canceled. "+t.message+".",{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})},save:function(){var t=this;this.loading=!0;var e=this.user.role.settings,s=[];this.commission!=e.commission&&s.push(d(this.commission)),this.depositErrorMessage!=e.depositErrorMessage&&s.push(m(this.depositErrorMessage)),this.withdrawErrorMessage!=e.withdrawErrorMessage&&s.push(p(this.withdrawErrorMessage)),this.requireConfirmation!=e.withdrawEmailConfirmation&&s.push(g(this.requireConfirmation)),Promise.all(s).then((function(s){t.loading=!1,s.length?(t.commission=+t.commission,e.commission=+t.commission,e.depositErrorMessage=t.depositErrorMessage,e.withdrawErrorMessage=t.withdrawErrorMessage,e.withdrawEmailConfirmation=t.requireConfirmation,s.forEach((function(e){t.handleSuccess(e.data)}))):t.handleSuccess({message:"You've successfully changed nothing!"})}))["catch"]((function(e){t.loading=!1,t.updateData(t.user),t.handleError(e.response.data)}))}},watch:{user:"updateData"},mounted:function(){this.updateData(this.user)}},w=v,b=s("2877"),C=Object(b["a"])(w,r,n,!1,null,null,null),E=C.exports,x=s("2f62"),y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("va-card",{attrs:{color:t.computedWidgetColor,title:t.$t("settings.promocode")}},[s("va-inner-loading",{attrs:{loading:t.loading}},[s("div",{style:{opacity:this.loading?.2:1}},[s("va-input",{attrs:{label:t.$t("settings.code")},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),s("div",{staticClass:"row"},[s("div",{staticClass:"flex xs12 sm12 md12 lg6"},[s("va-input",{attrs:{label:t.$t("settings.amount")},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),s("div",{staticClass:"flex xs12 sm12 md12 lg6"},[s("va-select",{staticClass:"ma-0",attrs:{options:["BTC","LTC","ETH"],label:t.$t("settings.currency"),"no-clear":""},model:{value:t.currency,callback:function(e){t.currency=e},expression:"currency"}})],1)]),s("va-input",{attrs:{type:"textarea",label:t.$t("settings.message")},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t.requireConfirmation?s("va-input",{attrs:{type:"textarea",label:t.$t("settings.email")},model:{value:t.withdrawErrorMessage,callback:function(e){t.withdrawErrorMessage=e},expression:"withdrawErrorMessage"}}):t._e(),s("va-button",{staticClass:"mt-3",on:{click:t.create}},[t._v(t._s(t.$t("settings.create")))])],1)])],1)},M=[],k=(s("acd8"),{name:"create-promo-code",inject:["user"],data:function(){return{loading:!1,currency:"BTC",amount:.001,code:"",message:""}},computed:{computedWidgetColor:function(){return this.$themes.background}},methods:{create:function(){var t=this;this.loading=!0,f({code:this.code,amount:parseFloat(this.amount),message:this.message,symbol:this.currency}).then((function(e){t.loading=!1,t.code="";var s=e.data.message,o=e.data.promo;t.showToast(s,{icon:"fa-check",position:"bottom-center",duration:4e3,type:"success"}),t.$store.commit("ADD_PROMO",o)}))["catch"]((function(e){t.loading=!1,e.response.data&&e.response.data.message&&t.showToast(e.response.data.message,{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})}))}},mounted:function(){}}),$=k,O=Object(b["a"])($,y,M,!1,null,null,null),P=O.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("va-card",{attrs:{color:t.computedWidgetColor,title:t.$t("settings.usage")}},[s("va-inner-loading",{attrs:{loading:t.loading}},[t.pages.length?t._e():s("div",{staticClass:"no-data"},[t._v(" "+t._s(t.$t("settings.nopromo"))+" ")]),s("div",{style:{opacity:this.loading?.2:1}},t._l(t.pages[t.activePage-1],(function(e,o){return s("div",{key:o,staticClass:"promo-item row ma-2"},[s("div",{staticClass:"row justify--space-between"},[s("div",{staticClass:"flex"},[s("va-icon",{staticClass:"mr-1",attrs:{name:"fa fa-ticket",color:"secondary"}}),s("span",{staticClass:"promo"},[t._v(t._s(e.code))]),s("span",{staticClass:"amount"},[t._v(t._s(" "+e.amount+" "+e.symbol))])],1),s("div",{staticClass:"flex"},[s("va-icon",{staticClass:"mr-1",attrs:{name:"fa fa-clock-o",color:"secondary"}}),t._v(" "+t._s(e.users.length)+" ")],1)]),s("div",{staticClass:"divider"})])})),0),t.pages.length>1?s("div",{staticClass:"pagination_wrap"},[s("va-pagination",{attrs:{pages:t.pages.length,visiblePages:"5",small:""},model:{value:t.activePage,callback:function(e){t.activePage=e},expression:"activePage"}})],1):t._e()])],1)},T=[],j=(s("a434"),s("b64b"),{name:"custom-withdraw-error",data:function(){return{loading:!1,step:10,activePage:1}},computed:{computedWidgetColor:function(){return this.$themes.background},promo:function(){return this.$store.getters["promo"]},pages:function(){return _.chunk(this.promo,this.step)}},methods:{loadPromoList:function(){var t=this;this.loading=!0,h().then((function(e){t.loading=!1,t.$store.commit("SET_PROMO",e.data)}))["catch"]((function(e){t.loading=!1,e.response.data&&e.response.data.message&&t.showToast(e.response.data.message,{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})})),this.showNext()},getPercent:function(t){return this.promo&&this.promo[0]&&t?t.users.length/this.promo[0].users.length*100:0},showNext:function(){this.visibleList=this.promo.splice(0,this.step)},getRandomColor:function(){var t=Object.keys(this.$themes);return this.$themes[t[t.length*Math.random()<<0]]}},mounted:function(){this.loadPromoList()}}),D=j,S=(s("997e"),Object(b["a"])(D,q,T,!1,null,"4c136055",null)),W=S.exports,L={name:"Settings",components:{CustomWithdrawError:E,CreatePromoCode:P,PromoList:W},provide:function(){return{user:this.user}},data:function(){return{promo:[{code:"ASDO1",users:["","","",""]},{code:"PAYFORREAL",users:["","","",""]},{code:"GETIT12",users:["",""]},{code:"FREECASH",users:["","",""]},{code:"COMEON",users:[""]}]}},computed:Object(i["a"])({},Object(x["b"])({user:"user"}))},R=L,A=Object(b["a"])(R,o,a,!1,null,"402b813e",null);e["default"]=A.exports},"997e":function(t,e,s){"use strict";var o=s("638d"),a=s.n(o);a.a}}]);
//# sourceMappingURL=chunk-fe430120.91683001.js.map