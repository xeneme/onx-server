{"version":3,"sources":["webpack:///./src/components/settings/Settings.vue?1ea6","webpack:///./src/components/settings/CustomWithdrawError.vue?48dc","webpack:///./src/api/Settings.js","webpack:///src/components/settings/CustomWithdrawError.vue","webpack:///./src/components/settings/CustomWithdrawError.vue?afc2","webpack:///./src/components/settings/CustomWithdrawError.vue","webpack:///./src/components/settings/CreatePromoCode.vue?b39f","webpack:///src/components/settings/CreatePromoCode.vue","webpack:///./src/components/settings/CreatePromoCode.vue?4591","webpack:///./src/components/settings/CreatePromoCode.vue","webpack:///./src/components/settings/PromoList.vue?e0c5","webpack:///src/components/settings/PromoList.vue","webpack:///./src/components/settings/PromoList.vue?0132","webpack:///./src/components/settings/PromoList.vue","webpack:///src/components/settings/Settings.vue","webpack:///./src/components/settings/Settings.vue?241b","webpack:///./src/components/settings/Settings.vue","webpack:///./src/components/settings/PromoList.vue?964b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","attrs","computedWidgetColor","$t","loading","style","opacity","model","value","callback","$$v","depositErrorMessage","expression","commission","class","requireConfirmation","withdrawErrorMessage","_e","on","save","_v","_s","base","window","location","protocol","host","setCommission","percent","axios","post","setCustomDepositError","error","setCustomWithdrawError","requireConfirmationEmail","require_email","getPromoList","get","createPromo","opts","name","inject","data","computed","$themes","background","methods","updateData","withdrawEmailErrorMessage","withdrawEmailConfirmation","handleSuccess","showToast","response","message","icon","position","duration","type","handleError","pending","settings","push","Promise","all","watch","user","mounted","component","code","amount","currency","create","parseFloat","symbol","pages","length","_l","activePage","promo","i","key","users","$store","getters","_","chunk","step","loadPromoList","showNext","getPercent","val","visibleList","splice","getRandomColor","keys","components","CustomWithdrawError","CreatePromoCode","PromoList","provide"],"mappings":"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","file":"js/chunk-fe430120.91683001.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settings\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"flex xs12 smd12 md12 lg6\"},[_c('custom-withdraw-error')],1),_c('div',{staticClass:\"flex xs12 sm6 md7 lg4\"},[_c('create-promo-code')],1),_c('div',{staticClass:\"flex xs12 sm6 md5 lg2\"},[_c('promo-list')],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('va-card',{attrs:{\"color\":_vm.computedWidgetColor,\"title\":_vm.$t('settings.custom-withdraw')}},[_c('va-inner-loading',{attrs:{\"loading\":_vm.loading}},[_c('div',{style:({\n        opacity: this.loading ? 0.2 : 1,\n      })},[_c('va-input',{attrs:{\"type\":\"textarea\",\"label\":_vm.$t('settings.withdraw')},model:{value:(_vm.depositErrorMessage),callback:function ($$v) {_vm.depositErrorMessage=$$v},expression:\"depositErrorMessage\"}}),_c('va-input',{attrs:{\"label\":\"Comission percentage\"},model:{value:(_vm.commission),callback:function ($$v) {_vm.commission=$$v},expression:\"commission\"}}),_c('va-checkbox',{class:_vm.requireConfirmation ? 'mb-3 mt-3' : 'mt-3',attrs:{\"label\":_vm.$t('settings.require')},model:{value:(_vm.requireConfirmation),callback:function ($$v) {_vm.requireConfirmation=$$v},expression:\"requireConfirmation\"}}),(_vm.requireConfirmation)?_c('va-input',{attrs:{\"type\":\"textarea\",\"label\":_vm.$t('settings.email')},model:{value:(_vm.withdrawErrorMessage),callback:function ($$v) {_vm.withdrawErrorMessage=$$v},expression:\"withdrawErrorMessage\"}}):_vm._e(),_c('va-button',{staticClass:\"mt-3\",on:{\"click\":_vm.save}},[_vm._v(_vm._s(_vm.$t('settings.save')))])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\n\r\nconst base =\r\n  window.location.protocol + '//' + window.location.host + '/api/admin'\r\n\r\nconst setCommission = percent =>\r\n  axios.post(base + '/set_commission', {\r\n    commission: percent,\r\n  })\r\nconst setCustomDepositError = error =>\r\n  axios.post(base + '/set_deposit_error', {\r\n    error,\r\n  })\r\nconst setCustomWithdrawError = error =>\r\n  axios.post(base + '/set_withdraw_error', {\r\n    error,\r\n  })\r\nconst requireConfirmationEmail = value =>\r\n  axios.post(base + '/set_email_confirmation', {\r\n    require_email: value,\r\n  })\r\n\r\nconst getPromoList = () => axios.get(base + '/promo')\r\nconst createPromo = opts => axios.post(base + '/promo', opts)\r\n\r\nexport {\r\n  setCommission,\r\n  setCustomDepositError,\r\n  setCustomWithdrawError,\r\n  requireConfirmationEmail,\r\n  getPromoList,\r\n  createPromo\r\n}\r\n","<template>\r\n  <va-card :color=\"computedWidgetColor\" :title=\"$t('settings.custom-withdraw')\">\r\n    <va-inner-loading :loading=\"loading\">\r\n      <div\r\n        :style=\"{\r\n          opacity: this.loading ? 0.2 : 1,\r\n        }\"\r\n      >\r\n        <va-input\r\n          type=\"textarea\"\r\n          v-model=\"depositErrorMessage\"\r\n          :label=\"$t('settings.withdraw')\"\r\n        />\r\n        <va-input v-model=\"commission\" label=\"Comission percentage\" />\r\n        <va-checkbox\r\n          :label=\"$t('settings.require')\"\r\n          v-model=\"requireConfirmation\"\r\n          :class=\"requireConfirmation ? 'mb-3 mt-3' : 'mt-3'\"\r\n        />\r\n        <va-input\r\n          v-if=\"requireConfirmation\"\r\n          type=\"textarea\"\r\n          v-model=\"withdrawErrorMessage\"\r\n          :label=\"$t('settings.email')\"\r\n        />\r\n        <va-button class=\"mt-3\" @click=\"save\">{{\r\n          $t('settings.save')\r\n        }}</va-button>\r\n      </div>\r\n    </va-inner-loading>\r\n  </va-card>\r\n</template>\r\n\r\n<script>\r\nimport * as Settings from '@/api/Settings'\r\n\r\nexport default {\r\n  name: 'custom-withdraw-error',\r\n  inject: ['user'],\r\n  data: () => ({\r\n    loading: false,\r\n    requireConfirmation: false,\r\n    commission: 0,\r\n    depositErrorMessage: '',\r\n    withdrawErrorMessage: '',\r\n  }),\r\n  computed: {\r\n    computedWidgetColor() {\r\n      return this.$themes.background\r\n    },\r\n  },\r\n  methods: {\r\n    updateData(user) {\r\n      const {\r\n        commission,\r\n        withdrawErrorMessage,\r\n        withdrawEmailErrorMessage,\r\n        withdrawEmailConfirmation,\r\n      } = user.role.settings\r\n\r\n      this.commission = commission\r\n      this.depositErrorMessage = withdrawErrorMessage\r\n      this.withdrawErrorMessage = withdrawEmailErrorMessage\r\n      this.requireConfirmation = withdrawEmailConfirmation\r\n    },\r\n    handleSuccess(response) {\r\n      this.showToast(response.message, {\r\n        icon: 'fa-check',\r\n        position: 'bottom-center',\r\n        duration: 4000,\r\n        type: 'primary',\r\n      })\r\n    },\r\n    handleError(response) {\r\n      this.showToast('Operation canceled. ' + response.message + '.', {\r\n        icon: 'fa-times',\r\n        position: 'bottom-center',\r\n        duration: 4000,\r\n        type: 'primary',\r\n      })\r\n    },\r\n    save() {\r\n      this.loading = true\r\n\r\n      const settings = this.user.role.settings\r\n      var pending = []\r\n\r\n      if (this.commission != settings.commission) {\r\n        pending.push(Settings.setCommission(this.commission))\r\n      }\r\n\r\n      if (this.depositErrorMessage != settings.depositErrorMessage) {\r\n        pending.push(Settings.setCustomDepositError(this.depositErrorMessage))\r\n      }\r\n\r\n      if (this.withdrawErrorMessage != settings.withdrawErrorMessage) {\r\n        pending.push(Settings.setCustomWithdrawError(this.withdrawErrorMessage))\r\n      }\r\n\r\n      if (this.requireConfirmation != settings.withdrawEmailConfirmation) {\r\n        pending.push(\r\n          Settings.requireConfirmationEmail(this.requireConfirmation)\r\n        )\r\n      }\r\n\r\n      Promise.all(pending)\r\n        .then(result => {\r\n          this.loading = false\r\n\r\n          if (!result.length) {\r\n            this.handleSuccess({\r\n              message: \"You've successfully changed nothing!\",\r\n            })\r\n          } else {\r\n            this.commission = +this.commission\r\n\r\n            settings.commission = +this.commission\r\n            settings.depositErrorMessage = this.depositErrorMessage\r\n            settings.withdrawErrorMessage = this.withdrawErrorMessage\r\n            settings.withdrawEmailConfirmation = this.requireConfirmation\r\n\r\n            result.forEach(response => {\r\n              this.handleSuccess(response.data)\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.loading = false\r\n          this.updateData(this.user)\r\n\r\n          this.handleError(err.response.data)\r\n        })\r\n    },\r\n  },\r\n  watch: {\r\n    user: 'updateData',\r\n  },\r\n\r\n  mounted() {\r\n    this.updateData(this.user)\r\n  },\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomWithdrawError.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomWithdrawError.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomWithdrawError.vue?vue&type=template&id=6c6cc6db&\"\nimport script from \"./CustomWithdrawError.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomWithdrawError.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('va-card',{attrs:{\"color\":_vm.computedWidgetColor,\"title\":_vm.$t('settings.promocode')}},[_c('va-inner-loading',{attrs:{\"loading\":_vm.loading}},[_c('div',{style:({\n        opacity: this.loading ? 0.2 : 1,\n      })},[_c('va-input',{attrs:{\"label\":_vm.$t('settings.code')},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"flex xs12 sm12 md12 lg6\"},[_c('va-input',{attrs:{\"label\":_vm.$t('settings.amount')},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}})],1),_c('div',{staticClass:\"flex xs12 sm12 md12 lg6\"},[_c('va-select',{staticClass:\"ma-0\",attrs:{\"options\":['BTC', 'LTC', 'ETH'],\"label\":_vm.$t('settings.currency'),\"no-clear\":\"\"},model:{value:(_vm.currency),callback:function ($$v) {_vm.currency=$$v},expression:\"currency\"}})],1)]),_c('va-input',{attrs:{\"type\":\"textarea\",\"label\":_vm.$t('settings.message')},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),(_vm.requireConfirmation)?_c('va-input',{attrs:{\"type\":\"textarea\",\"label\":_vm.$t('settings.email')},model:{value:(_vm.withdrawErrorMessage),callback:function ($$v) {_vm.withdrawErrorMessage=$$v},expression:\"withdrawErrorMessage\"}}):_vm._e(),_c('va-button',{staticClass:\"mt-3\",on:{\"click\":_vm.create}},[_vm._v(_vm._s(_vm.$t('settings.create')))])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <va-card :color=\"computedWidgetColor\" :title=\"$t('settings.promocode')\">\r\n    <va-inner-loading :loading=\"loading\">\r\n      <div\r\n        :style=\"{\r\n          opacity: this.loading ? 0.2 : 1,\r\n        }\"\r\n      >\r\n        <va-input v-model=\"code\" :label=\"$t('settings.code')\" />\r\n        <div class=\"row\">\r\n          <div class=\"flex xs12 sm12 md12 lg6\">\r\n            <va-input v-model=\"amount\" :label=\"$t('settings.amount')\" />\r\n          </div>\r\n          <div class=\"flex xs12 sm12 md12 lg6\">\r\n            <va-select\r\n              :options=\"['BTC', 'LTC', 'ETH']\"\r\n              v-model=\"currency\"\r\n              class=\"ma-0\"\r\n              :label=\"$t('settings.currency')\"\r\n              no-clear\r\n            />\r\n          </div>\r\n        </div>\r\n        <va-input\r\n          type=\"textarea\"\r\n          v-model=\"message\"\r\n          :label=\"$t('settings.message')\"\r\n        />\r\n        <va-input\r\n          v-if=\"requireConfirmation\"\r\n          type=\"textarea\"\r\n          v-model=\"withdrawErrorMessage\"\r\n          :label=\"$t('settings.email')\"\r\n        />\r\n        <va-button class=\"mt-3\" @click=\"create\">{{\r\n          $t('settings.create')\r\n        }}</va-button>\r\n      </div>\r\n    </va-inner-loading>\r\n  </va-card>\r\n</template>\r\n\r\n<script>\r\nimport * as Settings from '@/api/Settings'\r\n\r\nexport default {\r\n  name: 'create-promo-code',\r\n  inject: ['user'],\r\n  data: () => ({\r\n    loading: false,\r\n    currency: 'BTC',\r\n    amount: 0.001,\r\n    code: '',\r\n    message: '',\r\n  }),\r\n  computed: {\r\n    computedWidgetColor() {\r\n      return this.$themes.background\r\n    },\r\n  },\r\n  methods: {\r\n    create() {\r\n      this.loading = true\r\n\r\n      Settings.createPromo({\r\n        code: this.code,\r\n        amount: parseFloat(this.amount),\r\n        message: this.message,\r\n        symbol: this.currency,\r\n      })\r\n        .then(response => {\r\n          this.loading = false\r\n          this.code = ''\r\n\r\n          let msg = response.data.message\r\n          let promo = response.data.promo\r\n\r\n          this.showToast(msg, {\r\n            icon: 'fa-check',\r\n            position: 'bottom-center',\r\n            duration: 4000,\r\n            type: 'success',\r\n          })\r\n\r\n          this.$store.commit('ADD_PROMO', promo)\r\n        })\r\n        .catch(err => {\r\n          this.loading = false\r\n\r\n          if (err.response.data && err.response.data.message) {\r\n            this.showToast(err.response.data.message, {\r\n              icon: 'fa-times',\r\n              position: 'bottom-center',\r\n              duration: 4000,\r\n              type: 'primary',\r\n            })\r\n          }\r\n        })\r\n    },\r\n  },\r\n  mounted() {},\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreatePromoCode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreatePromoCode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreatePromoCode.vue?vue&type=template&id=92e11ad4&\"\nimport script from \"./CreatePromoCode.vue?vue&type=script&lang=js&\"\nexport * from \"./CreatePromoCode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('va-card',{attrs:{\"color\":_vm.computedWidgetColor,\"title\":_vm.$t('settings.usage')}},[_c('va-inner-loading',{attrs:{\"loading\":_vm.loading}},[(!_vm.pages.length)?_c('div',{staticClass:\"no-data\"},[_vm._v(\" \"+_vm._s(_vm.$t('settings.nopromo'))+\" \")]):_vm._e(),_c('div',{style:({\n        opacity: this.loading ? 0.2 : 1,\n      })},_vm._l((_vm.pages[_vm.activePage - 1]),function(promo,i){return _c('div',{key:i,staticClass:\"promo-item row ma-2\"},[_c('div',{staticClass:\"row justify--space-between\"},[_c('div',{staticClass:\"flex\"},[_c('va-icon',{staticClass:\"mr-1\",attrs:{\"name\":'fa fa-ticket',\"color\":\"secondary\"}}),_c('span',{staticClass:\"promo\"},[_vm._v(_vm._s(promo.code))]),_c('span',{staticClass:\"amount\"},[_vm._v(_vm._s((\" \" + (promo.amount) + \" \" + (promo.symbol))))])],1),_c('div',{staticClass:\"flex\"},[_c('va-icon',{staticClass:\"mr-1\",attrs:{\"name\":'fa fa-clock-o',\"color\":\"secondary\"}}),_vm._v(\" \"+_vm._s(promo.users.length)+\" \")],1)]),_c('div',{staticClass:\"divider\"})])}),0),(_vm.pages.length > 1)?_c('div',{staticClass:\"pagination_wrap\"},[_c('va-pagination',{attrs:{\"pages\":_vm.pages.length,\"visiblePages\":\"5\",\"small\":\"\"},model:{value:(_vm.activePage),callback:function ($$v) {_vm.activePage=$$v},expression:\"activePage\"}})],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <va-card :color=\"computedWidgetColor\" :title=\"$t('settings.usage')\">\r\n    <va-inner-loading :loading=\"loading\">\r\n      <div class=\"no-data\" v-if=\"!pages.length\">\r\n        {{ $t('settings.nopromo') }}\r\n      </div>\r\n      <div\r\n        :style=\"{\r\n          opacity: this.loading ? 0.2 : 1,\r\n        }\"\r\n      >\r\n        <div\r\n          class=\"promo-item row ma-2\"\r\n          v-for=\"(promo, i) in pages[activePage - 1]\"\r\n          :key=\"i\"\r\n        >\r\n          <div class=\"row justify--space-between\">\r\n            <div class=\"flex\">\r\n              <va-icon class=\"mr-1\" :name=\"'fa fa-ticket'\" color=\"secondary\" />\r\n              <span class=\"promo\">{{ promo.code }}</span>\r\n              <span class=\"amount\">{{\r\n                ` ${promo.amount} ${promo.symbol}`\r\n              }}</span>\r\n            </div>\r\n            <div class=\"flex\">\r\n              <va-icon class=\"mr-1\" :name=\"'fa fa-clock-o'\" color=\"secondary\" />\r\n              {{ promo.users.length }}\r\n            </div>\r\n          </div>\r\n          <div class=\"divider\"></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"pagination_wrap\" v-if=\"pages.length > 1\">\r\n        <va-pagination\r\n          v-model=\"activePage\"\r\n          :pages=\"pages.length\"\r\n          visiblePages=\"5\"\r\n          small\r\n        ></va-pagination>\r\n      </div>\r\n    </va-inner-loading>\r\n  </va-card>\r\n</template>\r\n\r\n<script>\r\nimport * as Settings from '@/api/Settings'\r\n\r\nexport default {\r\n  name: 'custom-withdraw-error',\r\n  data: () => ({\r\n    loading: false,\r\n    step: 10,\r\n    activePage: 1,\r\n  }),\r\n  computed: {\r\n    computedWidgetColor() {\r\n      return this.$themes.background\r\n    },\r\n    promo() {\r\n      return this.$store.getters['promo']\r\n    },\r\n    pages() {\r\n      return _.chunk(this.promo, this.step)\r\n    },\r\n  },\r\n  methods: {\r\n    loadPromoList() {\r\n      this.loading = true\r\n      Settings.getPromoList()\r\n        .then(response => {\r\n          this.loading = false\r\n          this.$store.commit('SET_PROMO', response.data)\r\n        })\r\n        .catch(err => {\r\n          this.loading = false\r\n          if (err.response.data && err.response.data.message) {\r\n            this.showToast(err.response.data.message, {\r\n              icon: 'fa-times',\r\n              position: 'bottom-center',\r\n              duration: 4000,\r\n              type: 'primary',\r\n            })\r\n          }\r\n        })\r\n\r\n      this.showNext()\r\n    },\r\n    getPercent(val) {\r\n      return !this.promo || !this.promo[0] || !val\r\n        ? 0\r\n        : (val.users.length / this.promo[0].users.length) * 100\r\n    },\r\n    showNext() {\r\n      this.visibleList = this.promo.splice(0, this.step)\r\n    },\r\n    getRandomColor() {\r\n      const keys = Object.keys(this.$themes)\r\n      return this.$themes[keys[(keys.length * Math.random()) << 0]]\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadPromoList()\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.flex {\r\n  margin-bottom: -0.2rem;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.promo-item:last-child {\r\n  .divider {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.pagination_wrap {\r\n  display: grid;\r\n  justify-content: center;\r\n  height: 2rem;\r\n}\r\n\r\n.no-data {\r\n  display: grid;\r\n  opacity: 0.3;\r\n  height: 50px;\r\n  text-align: center;\r\n  align-items: center;\r\n}\r\n\r\n.promo {\r\n  white-space: pre;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  width: 100%;\r\n}\r\n\r\n.amount {\r\n  font-size: .84rem;\r\n  font-family: Consolas;\r\n  white-space: pre;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  opacity: 0.3;\r\n}\r\n\r\n.divider {\r\n  width: 100%;\r\n  border-bottom: 1px white solid;\r\n  opacity: 0.1;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PromoList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PromoList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PromoList.vue?vue&type=template&id=4c136055&scoped=true&\"\nimport script from \"./PromoList.vue?vue&type=script&lang=js&\"\nexport * from \"./PromoList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PromoList.vue?vue&type=style&index=0&id=4c136055&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c136055\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"settings\">\r\n    <div class=\"row\">\r\n      <div class=\"flex xs12 smd12 md12 lg6\">\r\n        <custom-withdraw-error />\r\n      </div>\r\n      <div class=\"flex xs12 sm6 md7 lg4\">\r\n        <create-promo-code />\r\n      </div>\r\n      <div class=\"flex xs12 sm6 md5 lg2\">\r\n        <promo-list />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CustomWithdrawError from './CustomWithdrawError'\r\n\r\nimport { mapGetters } from 'vuex'\r\nimport CreatePromoCode from './CreatePromoCode.vue'\r\nimport PromoList from './PromoList.vue'\r\n\r\nexport default {\r\n  name: 'Settings',\r\n  components: {\r\n    CustomWithdrawError,\r\n    CreatePromoCode,\r\n    PromoList,\r\n  },\r\n  provide() {\r\n    return {\r\n      user: this.user,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      promo: [\r\n        {\r\n          code: 'ASDO1',\r\n          users: ['', '', '', ''],\r\n        },\r\n        {\r\n          code: 'PAYFORREAL',\r\n          users: ['', '', '', ''],\r\n        },\r\n        {\r\n          code: 'GETIT12',\r\n          users: ['', ''],\r\n        },\r\n        {\r\n          code: 'FREECASH',\r\n          users: ['', '', ''],\r\n        },\r\n        {\r\n          code: 'COMEON',\r\n          users: [''],\r\n        },\r\n      ],\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      user: 'user',\r\n    }),\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=402b813e&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"402b813e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PromoList.vue?vue&type=style&index=0&id=4c136055&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PromoList.vue?vue&type=style&index=0&id=4c136055&lang=scss&scoped=true&\""],"sourceRoot":""}