(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7be6"],{"77b2":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"settings"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex md12 lg6"},[r("custom-withdraw-error")],1)])])},i=[],o=r("f3f3"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("va-card",{attrs:{color:e.computedWidgetColor,title:"Custom withdraw error"}},[r("va-inner-loading",{attrs:{loading:e.loading}},[r("div",{style:{opacity:this.loading?.2:1}},[r("va-input",{attrs:{type:"textarea",label:e.$t("settings.withdraw")},model:{value:e.depositErrorMessage,callback:function(t){e.depositErrorMessage=t},expression:"depositErrorMessage"}}),r("va-input",{attrs:{label:"Comission percentage"},model:{value:e.commission,callback:function(t){e.commission=t},expression:"commission"}}),r("va-checkbox",{class:e.requireConfirmation?"mb-3 mt-3":"mt-3",attrs:{label:e.$t("settings.require")},model:{value:e.requireConfirmation,callback:function(t){e.requireConfirmation=t},expression:"requireConfirmation"}}),e.requireConfirmation?r("va-input",{attrs:{type:"textarea",label:e.$t("settings.email")},model:{value:e.withdrawErrorMessage,callback:function(t){e.withdrawErrorMessage=t},expression:"withdrawErrorMessage"}}):e._e(),r("va-button",{staticClass:"mt-3",on:{click:e.save}},[e._v(e._s(e.$t("settings.save")))])],1)])],1)},n=[],c=(r("4160"),r("d3b7"),r("3ca3"),r("159b"),r("ddb0"),r("bc3a")),u=r.n(c),d=window.location.protocol+"//"+window.location.host+"/api/admin",m=function(e){return u.a.post(d+"/set_commission",{commission:e})},l=function(e){return u.a.post(d+"/set_deposit_error",{error:e})},h=function(e){return u.a.post(d+"/set_withdraw_error",{error:e})},p=function(e){return u.a.post(d+"/set_email_confirmation",{require_email:e})},w={name:"custom-withdraw-error",inject:["user"],data:function(){return{loading:!1,requireConfirmation:!1,commission:0,depositErrorMessage:"",withdrawErrorMessage:""}},computed:{computedWidgetColor:function(){return this.$themes.background}},methods:{updateData:function(e){var t=e.role.settings,r=t.commission,s=t.withdrawErrorMessage,i=t.withdrawEmailErrorMessage,o=t.withdrawEmailConfirmation;this.commission=r,this.depositErrorMessage=s,this.withdrawErrorMessage=i,this.requireConfirmation=o},handleSuccess:function(e){this.showToast(e.message,{icon:"fa-check",position:"bottom-center",duration:4e3,type:"primary"})},handleError:function(e){this.showToast("Operation canceled. "+e.message+".",{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})},save:function(){var e=this;this.loading=!0;var t=this.user.role.settings,r=[];this.commission!=t.commission&&r.push(m(this.commission)),this.depositErrorMessage!=t.depositErrorMessage&&r.push(l(this.depositErrorMessage)),this.withdrawErrorMessage!=t.withdrawErrorMessage&&r.push(h(this.withdrawErrorMessage)),this.requireConfirmation!=t.withdrawEmailConfirmation&&r.push(p(this.requireConfirmation)),Promise.all(r).then((function(r){e.loading=!1,r.length?(e.commission=+e.commission,t.commission=+e.commission,t.depositErrorMessage=e.depositErrorMessage,t.withdrawErrorMessage=e.withdrawErrorMessage,t.withdrawEmailConfirmation=e.requireConfirmation,r.forEach((function(t){e.handleSuccess(t.data)}))):e.handleSuccess({message:"You've successfully changed nothing!"})}))["catch"]((function(t){e.loading=!1,e.updateData(e.user),e.handleError(t.response.data)}))}},watch:{user:"updateData"},mounted:function(){this.updateData(this.user)}},g=w,f=r("2877"),E=Object(f["a"])(g,a,n,!1,null,null,null),b=E.exports,v=r("2f62"),C={name:"Settings",components:{CustomWithdrawError:b},provide:function(){return{user:this.user}},computed:Object(o["a"])({},Object(v["b"])({user:"user"}))},M=C,_=Object(f["a"])(M,s,i,!1,null,"995f5eb2",null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d0d7be6.e9b867ed.js.map