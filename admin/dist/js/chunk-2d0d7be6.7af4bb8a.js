(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7be6"],{"77b2":function(e,r,t){"use strict";t.r(r);var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"settings"},[t("div",{staticClass:"row"},[t("div",{staticClass:"flex md12 lg6"},[t("custom-withdraw-error")],1)])])},o=[],s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("va-card",{attrs:{color:e.computedWidgetColor,title:"Custom withdraw error"}},[t("va-inner-loading",{attrs:{loading:e.loading}},[t("div",{style:{opacity:this.loading?.2:1}},[t("va-input",{attrs:{type:"textarea",label:e.$t("settings.withdraw")},model:{value:e.depositErrorMessage,callback:function(r){e.depositErrorMessage=r},expression:"depositErrorMessage"}}),t("va-input",{attrs:{label:"Comission percentage"},model:{value:e.commission,callback:function(r){e.commission=r},expression:"commission"}}),t("va-checkbox",{class:e.requireConfirmation?"mb-3 mt-3":"mt-3",attrs:{label:e.$t("settings.require")},model:{value:e.requireConfirmation,callback:function(r){e.requireConfirmation=r},expression:"requireConfirmation"}}),e.requireConfirmation?t("va-input",{attrs:{type:"textarea",label:e.$t("settings.email")},model:{value:e.withdrawErrorMessage,callback:function(r){e.withdrawErrorMessage=r},expression:"withdrawErrorMessage"}}):e._e(),t("va-button",{staticClass:"mt-3",on:{click:e.save}},[e._v(e._s(e.$t("settings.save")))])],1)])],1)},n=[],a=t("bc3a"),c=t.n(a),u=window.location.protocol+"//"+window.location.host+"/api/admin",l=function(e){return c.a.post(u+"/set_commission",{commission:e})},m=function(e){return c.a.post(u+"/set_deposit_error",{error:e})},d=function(e){return c.a.post(u+"/set_withdraw_error",{error:e})},h=function(e){return c.a.post(u+"/set_email_confirmation",{require_email:e})},p={name:"custom-withdraw-error",inject:["user"],data:function(){return{loading:!1,requireConfirmation:!1,commission:0,depositErrorMessage:"",withdrawErrorMessage:""}},computed:{computedWidgetColor:function(){return this.$themes.background}},methods:{updateData:function(e){var r=e.role.settings,t=r.commission,i=r.withdrawErrorMessage,o=r.withdrawEmailErrorMessage,s=r.withdrawEmailConfirmation;this.commission=t,this.depositErrorMessage=i,this.withdrawErrorMessage=o,this.requireConfirmation=s},handleSuccess:function(e){this.showToast(e.message,{icon:"fa-check",position:"bottom-center",duration:4e3,type:"primary"})},handleError:function(e){this.showToast("Operation canceled. "+e.message+".",{icon:"fa-times",position:"bottom-center",duration:4e3,type:"primary"})},save:function(){var e=this;this.loading=!0;var r=this.user.role.settings,t=[];this.commission!=r.commission&&t.push(l(this.commission)),this.depositErrorMessage!=r.depositErrorMessage&&t.push(m(this.depositErrorMessage)),this.withdrawErrorMessage!=r.withdrawErrorMessage&&t.push(d(this.withdrawErrorMessage)),this.requireConfirmation!=r.withdrawEmailConfirmation&&t.push(h(this.requireConfirmation)),Promise.all(t).then((function(t){e.loading=!1,t.length?(e.commission=+e.commission,r.commission=+e.commission,r.depositErrorMessage=e.depositErrorMessage,r.withdrawErrorMessage=e.withdrawErrorMessage,r.withdrawEmailConfirmation=e.requireConfirmation,t.forEach((function(r){e.handleSuccess(r.data)}))):e.handleSuccess({message:"You've successfully changed nothing!"})})).catch((function(r){e.loading=!1,console.log(r),e.updateData(e.user),e.handleError(r.response.data)}))}},watch:{user:"updateData"},mounted:function(){this.updateData(this.user)}},w=p,f=t("2877"),g=Object(f["a"])(w,s,n,!1,null,null,null),b=g.exports,E=t("2f62");function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,i)}return t}function C(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){M(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function M(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var O={name:"Settings",components:{CustomWithdrawError:b},provide:function(){return{user:this.user}},computed:C({},Object(E["b"])({user:"user"}))},y=O,j=Object(f["a"])(y,i,o,!1,null,"995f5eb2",null);r["default"]=j.exports}}]);
//# sourceMappingURL=chunk-2d0d7be6.7af4bb8a.js.map