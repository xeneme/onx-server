(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-306ad744"],{"5fa1":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"settings"},[s("div",{staticClass:"row"},[s("div",{staticClass:"flex xs12 smd12 md12 lg12"},[s("domains-panel")],1)])])},n=[],i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("va-card",{staticClass:"card",attrs:{color:t.computedWidgetColor,title:t.$t("domains.panel-title")}},[s("va-inner-loading",{attrs:{loading:t.loading}},[s("div",{style:{opacity:this.loading?.2:1}},[t._v(" "+t._s(t.$t("domains.subtitle1"))+" "),s("a",{style:{color:t.$themes.primary},attrs:{href:"https://ap.www.namecheap.com/domains/list/",target:"_blank"}},[t._v("Namecheap")]),t._v(" "+t._s(t.$t("domains.subtitle2"))+" "),s("br"),s("br"),s("div",{staticClass:"domains-title"},[s("div",{staticClass:"domains-title_prop"},[t._v(t._s(t.$t("domains.name")))]),s("div",{staticClass:"domains-title_prop"},[t._v(t._s(t.$t("domains.assigned")))]),s("div",{staticClass:"domains-title_prop"},[t._v(t._s(t.$t("domains.expiration")))]),s("div",{staticClass:"domains-title_prop"},[t._v(t._s(t.$t("domains.issue")))])]),s("div",{staticClass:"domains-table"},t._l(t.domains,(function(a){return s("div",{key:a.ID,staticClass:"domains-table_item"},[s("a",{staticClass:"domains-table_item_prop center domain",attrs:{href:a.Name,target:"_blank"}},[s("span",[s("span",{staticClass:"suffix"},[t._v("https://www.")]),t._v(" "+t._s(a.Name))])]),s("div",{staticClass:"domains-table_item_prop"},[s("va-select",{staticClass:"ma-0",attrs:{options:t.managers,value:a.Assigned,"no-clear":""},on:{input:function(s){return t.assignDomain(a,s)}},model:{value:a.Assigned,callback:function(s){t.$set(a,"Assigned",s)},expression:"domain.Assigned"}})],1),s("div",{staticClass:"domains-table_item_prop center"},[t._v(" "+t._s(t.getLifetime(a))+" ")]),s("div",{staticClass:"domains-table_item_prop center",class:{clickable:!!t.checkIssue(a)}},[t.checkIssue(a)?s("va-popover",{attrs:{icon:t.checkIssue(a).icon,color:t.checkIssue(a).color,title:t.checkIssue(a).title,message:t.checkIssue(a).message,placement:"right"}},[s("span",{staticClass:"full-sized"},[s("va-icon",{attrs:{name:"fa fa-times",color:"danger"}}),t._v(" "+t._s(t.$t("domains.trouble"))+" ")],1)]):s("div",[s("va-icon",{attrs:{name:"fa fa-check",color:"success"}}),t._v(" "+t._s(t.$t("domains.good"))+" ")],1)],1)])})),0)])])],1)},o=[],c=(s("96cf"),s("c964")),r=s("c1df"),l=s.n(r),d=s("bc3a"),m=s.n(d),u=s("4360"),p=m.a.CancelToken.source(),f=p.token,g=u["a"].getters.BASE+"/api/admin",v=function(){return m.a.get(g+"/domains",{cancelToken:f})},h=function(t){return m.a.post(g+"/domains",t,{cancelToken:f})},_=s("cf6d"),k={name:"domains-panel",data:function(){return{loading:!0,popover:{title:"Hey folks!",message:"This tooltip is amazing:D",icon:{icon:"fa fa-print",text:"print"},color:"warning"},managers:["Nobody"],domains:[]}},computed:{computedWidgetColor:function(){return this.$themes.background}},methods:{assignDomain:function(t,a){var s=this;this.loading=!0,h({domain:t.Name,email:a}).then((function(t){var a=t.data;s.showToast(a.message,{icon:"fa-check",position:"bottom-center",duration:4e3,type:"primary"}),s.loading=!1}))},checkIssue:function(t){return"true"==t.IsLocked?{title:"Validation",icon:"fa fa-lock",color:"danger",message:"This domain is locked."}:"true"==t.IsExpired?{title:"Validation",icon:"fa fa-calendar-times-o",color:"danger",message:"The domain was expired. Renew it in Namecheap."}:null},getLifetime:function(t){var a=l()(),s=l()(t.Expires,"MM/DD/YYYY"),e=s.diff(a,"years"),n=s.diff(a,"months"),i=s.diff(a,"days"),o=s.diff(a,"hours"),c=s.diff(a,"minutes"),r=s.diff(a,"seconds");return e?e+" years":n?n+" months":i?i+" days":o?o+" hours":c?c+" minutes":r+" seconds"}},created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:_["g"]().then((function(a){var s=a.data;console.log(s),t.managers=s,v().then((function(a){var s=a.data;console.log(s),t.domains=s,t.loading=!1}))}));case 1:case"end":return a.stop()}}),a)})))()}},b=k,C=(s("f071"),s("2877")),w=Object(C["a"])(b,i,o,!1,null,null,null),$=w.exports,y={name:"Settings",components:{DomainsPanel:$},computed:{}},x=y,I=Object(C["a"])(x,e,n,!1,null,"51755ebf",null);a["default"]=I.exports},e7a9:function(t,a,s){},f071:function(t,a,s){"use strict";var e=s("e7a9"),n=s.n(e);n.a}}]);
//# sourceMappingURL=chunk-306ad744.1231ea4f.js.map